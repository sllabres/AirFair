// Generated by Construct 2, the HTML5 game and app creator :: http://www.scirra.com
'use strict';var p=void 0,q=!0,r=null,s=!1;function t(){return function(){}}function aa(a){return function(b){this[a]=b}}function y(a){return function(){return this[a]}}function B(a){return function(){return a}}var H,ba={},L,ca,da,M,ea,fa,ga,ha,ia,ka,la,ma,na,oa,qa,ra,N,sa,ta,ua,va,wa,xa,ya,za,Aa,Ba,Ca,Ea,Fa,Ga,Ha,Ia,Ja,Ma,Na,Oa,Pa,Qa,Ra,Sa,Ta,Ua,Va,Wa,Xa,Ya,Za,$a,ab,bb,cb,db,eb,fb={};
"function"!==typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"===typeof"test".__proto__?function(a){return a.__proto__}:function(a){return a.constructor.prototype});
(function(){function a(a,b,c,d){this.set(a,b,c,d)}function b(){this.dd=this.cd=this.fd=this.ed=this.qd=this.pd=this.Ac=this.zc=0}function c(){this.If={};this.bi=0;this.ek=[];this.cj=q}function d(){this.Fg=this.Vl=this.y=this.p=0}function e(a){this.Nl=[];this.ak(a)}L=function(a){window.console&&window.console.log&&window.console.log(a)};ca=function(a){return"undefined"===typeof a};da=function(a){return"number"===typeof a};M=function(a){return"string"===typeof a};ea=function(a){return 0>a?-a:a};fa=
function(a,b){return a>b?a:b};ga=function(a,b){return a<b?a:b};ha=Math.PI;ia=function(a){return a|0};ka=function(a,b,c,d,n,e,g,f){if(fa(a,c)<ga(n,g)||ga(a,c)>fa(n,g)||fa(b,d)<ga(e,f)||ga(b,d)>fa(e,f))return s;var v=n-a+g-c,A=e-b+f-d;a=c-a;b=d-b;n=g-n;e=f-e;f=ea(b*n-e*a);return ea(n*A-e*v)<=f&&ea(a*A-b*v)<=f};a.prototype.set=function(a,b,c,d){this.left=a;this.top=b;this.right=c;this.bottom=d};a.prototype.width=function(){return this.right-this.left};a.prototype.height=function(){return this.bottom-
this.top};a.prototype.offset=function(a,b){this.left+=a;this.top+=b;this.right+=a;this.bottom+=b;return this};a.prototype.Vh=function(a,b){return a>=this.left&&a<=this.right&&b>=this.top&&b<=this.bottom};la=a;b.prototype.Eo=function(a){this.zc=a.left;this.Ac=a.top;this.pd=a.right;this.qd=a.top;this.ed=a.right;this.fd=a.bottom;this.cd=a.left;this.dd=a.bottom};b.prototype.Lr=function(a,b){if(0===b)this.Eo(a);else{var c=Math.sin(b),d=Math.cos(b),n=a.left*c,e=a.top*c,f=a.right*c,c=a.bottom*c,g=a.left*
d,v=a.top*d,A=a.right*d,d=a.bottom*d;this.zc=g-e;this.Ac=v+n;this.pd=A-e;this.qd=v+f;this.ed=A-c;this.fd=d+f;this.cd=g-c;this.dd=d+n}};b.prototype.offset=function(a,b){this.zc+=a;this.Ac+=b;this.pd+=a;this.qd+=b;this.ed+=a;this.fd+=b;this.cd+=a;this.dd+=b;return this};b.prototype.Sp=function(a){a.left=ga(ga(this.zc,this.pd),ga(this.ed,this.cd));a.top=ga(ga(this.Ac,this.qd),ga(this.fd,this.dd));a.right=fa(fa(this.zc,this.pd),fa(this.ed,this.cd));a.bottom=fa(fa(this.Ac,this.qd),fa(this.fd,this.dd))};
b.prototype.Vh=function(a,b){var c=this.pd-this.zc,d=this.qd-this.Ac,n=this.ed-this.zc,e=this.fd-this.Ac,f=a-this.zc,g=b-this.Ac,v=c*c+d*d,A=c*n+d*e,d=c*f+d*g,D=n*n+e*e,C=n*f+e*g,G=1/(v*D-A*A),c=(D*d-A*C)*G,v=(v*C-A*d)*G;if(0<=c&&0<v&&1>c+v)return q;c=this.cd-this.zc;d=this.dd-this.Ac;v=c*c+d*d;A=c*n+d*e;d=c*f+d*g;G=1/(v*D-A*A);c=(D*d-A*C)*G;v=(v*C-A*d)*G;return 0<=c&&0<v&&1>c+v};b.prototype.Nj=function(){return(this.zc+this.pd+this.ed+this.cd)/4};b.prototype.Oj=function(){return(this.Ac+this.qd+
this.fd+this.dd)/4};ma=b;na=function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a};oa=function(a,b){var c,d;b=ia(b);if(!(0>b||b>=a.length))if(0===b)a.shift();else if(b===a.length-1)a.pop();else{c=b;for(d=a.length-1;c<d;c++)a[c]=a[c+1];a.length=d}};qa=function(a,b){a.length=b.length;var c,d;c=0;for(d=b.length;c<d;c++)a[c]=b[c]};ra=function(a,b){var c=a.indexOf(b);-1!==c&&oa(a,c)};N=function(a){return a/(180/ha)};sa=function(a){return a*(180/ha)};ta=function(a){a%=360;0>a&&(a+=360);
return a};ua=function(a){a%=2*ha;0>a&&(a+=2*ha);return a};va=function(a){return ta(sa(a))};wa=function(a){return ua(N(a))};xa=function(a,b,c,d){return Math.atan2(d-b,c-a)};ya=function(a,b){if(a===b)return 0;var c=Math.sin(a),d=Math.cos(a),n=Math.sin(b),e=Math.cos(b),c=c*n+d*e;return 1<=c?0:-1>=c?ha:Math.acos(c)};za=function(a,b,c){var d=Math.sin(a),n=Math.cos(a),e=Math.sin(b),f=Math.cos(b);return Math.acos(d*e+n*f)>c?0<n*e-d*f?ua(a+c):ua(a-c):ua(b)};Aa=function(a,b){var c=Math.sin(a),d=Math.cos(a),
n=Math.sin(b),e=Math.cos(b);return 0>=d*n-c*e};Ba=function(a,b,c,d){a=c-a;b=d-b;return Math.sqrt(a*a+b*b)};Ca=function(a,b){return!a!==!b};Ea=function(a){for(var b in a)if(a.hasOwnProperty(b))return q;return s};Fa=function(a){for(var b in a)a.hasOwnProperty(b)&&delete a[b]};var g=+new Date;Ga=function(){if("undefined"!==typeof window.performance){var a=window.performance;if("undefined"!==typeof a.now)return a.now();if("undefined"!==typeof a.webkitNow)return a.webkitNow();if("undefined"!==typeof a.msNow)return a.msNow()}return Date.now()-
g};c.prototype.contains=function(a){return this.If.hasOwnProperty(a.toString())};c.prototype.add=function(a){var b=a.toString();this.If.hasOwnProperty(b)||(this.If[b]=a,this.bi++,this.cj=s);return this};c.prototype.remove=function(a){a=a.toString();this.If.hasOwnProperty(a)&&(delete this.If[a],this.bi--,this.cj=s);return this};c.prototype.clear=function(){Fa(this.If);this.bi=0;this.ek.length=0;this.cj=q;return this};c.prototype.uj=function(){return 0===this.bi};c.prototype.count=y("bi");c.prototype.tw=
function(){if(!this.cj){this.ek.length=this.bi;var a,b=0;for(a in this.If)this.If.hasOwnProperty(a)&&(this.ek[b++]=this.If[a]);this.cj=q}};c.prototype.Ci=function(){this.tw();return this.ek};Ha=c;d.prototype.add=function(a){this.y=a-this.p;this.Vl=this.Fg+this.y;this.p=this.Vl-this.Fg-this.y;this.Fg=this.Vl};d.prototype.reset=function(){this.Fg=this.Vl=this.y=this.p=0};Ia=d;Ja=function(a){return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")};e.prototype.ak=function(a){this.xr=a;this.qo=a.length/2;
this.Nl.length=a.length;this.Up=this.Wp=-1;this.Tp=0};e.prototype.Lq=function(){return!this.xr.length};e.prototype.Vp=function(a,b,c){if(!(this.Wp===a&&this.Up===b&&this.Tp===c)){this.Wp=a;this.Up=b;this.Tp=c;var d,n,e,f=0,g=1,v=this.xr,A=this.Nl;0!==c&&(f=Math.sin(c),g=Math.cos(c));c=0;for(d=this.qo;c<d;c++)n=v[2*c]*a,e=v[2*c+1]*b,A[2*c]=n*g-e*f,A[2*c+1]=e*g+n*f}};e.prototype.Vh=function(a,b){var c=this.Nl;if(a===c[0]&&b===c[1])return q;var d,n,e,f=this.qo,g=c[0],v=g,A=c[1],D=A;for(d=1;d<f;d++)n=
c[2*d],e=c[2*d+1],n<g&&(g=n),n>v&&(v=n),e<A&&(A=e),e>D&&(D=e);n=g-110;var A=A-101,v=v+131,D=D+120,C,G,P=0,J=0;for(d=0;d<f;d++)e=c[2*d],g=c[2*d+1],C=c[2*((d+1)%f)],G=c[2*((d+1)%f)+1],ka(n,A,a,b,e,g,C,G)&&P++,ka(v,D,a,b,e,g,C,G)&&J++;return 1===P%2||1===J%2};Ma=e;var f="lighter xor copy destination-over source-in destination-in source-out destination-out source-atop destination-atop".split(" ");Na=function(a){return 0>=a||11<=a?"source-over":f[a-1]};Oa=function(a,b,c){if(c)switch(a.xc=c.ONE,a.rc=c.ONE_MINUS_SRC_ALPHA,
b){case 1:a.xc=c.ONE;a.rc=c.ONE;break;case 3:a.xc=c.ONE;a.rc=c.ZERO;break;case 4:a.xc=c.ONE_MINUS_DST_ALPHA;a.rc=c.ONE;break;case 5:a.xc=c.DST_ALPHA;a.rc=c.ZERO;break;case 6:a.xc=c.ZERO;a.rc=c.SRC_ALPHA;break;case 7:a.xc=c.ONE_MINUS_DST_ALPHA;a.rc=c.ZERO;break;case 8:a.xc=c.ZERO;a.rc=c.ONE_MINUS_SRC_ALPHA;break;case 9:a.xc=c.DST_ALPHA;a.rc=c.ONE_MINUS_SRC_ALPHA;break;case 10:a.xc=c.ONE_MINUS_DST_ALPHA,a.rc=c.SRC_ALPHA}};Pa=function(a){return Math.round(1E6*a)/1E6}})();
(function(){function a(a){if(a&&(a.getContext||a.dc)&&!a.c2runtime){a.c2runtime=this;var b=this;this.Kq="undefined"!==typeof window.device&&("undefined"!==typeof window.device.cordova||"undefined"!==typeof window.device.phonegap);this.lh=!!a.dc;this.Xu="undefined"!==typeof window.AppMobi||this.lh;if(this.Gf=!!window.c2cocoonjs)CocoonJS.App.onSuspended.addEventListener(function(){b.setSuspended(q)}),CocoonJS.App.onActivated.addEventListener(function(){b.setSuspended(s)});this.Xe=this.lh||this.Gf;this.kl=
/tizen/i.test(navigator.userAgent);this.Hq=/android/i.test(navigator.userAgent)&&!this.kl;this.ky=/msie/i.test(navigator.userAgent);this.ol=/iphone/i.test(navigator.userAgent)||/ipod/i.test(navigator.userAgent);this.Oq=/ipad/i.test(navigator.userAgent);this.Nq=this.ol||this.Oq;this.Iq=/chrome/i.test(navigator.userAgent)||/chromium/i.test(navigator.userAgent);this.ly=!this.Iq&&/safari/i.test(navigator.userAgent);this.av=/windows/i.test(navigator.userAgent);this.vj="undefined"!==typeof window.c2nodewebkit;
this.Yu="undefined"!==typeof window.is_scirra_arcade;this.bv=!!("undefined"!==typeof window.c2isWindows8&&window.c2isWindows8);this.cv=!!("undefined"!==typeof window.c2isWindowsPhone8&&window.c2isWindowsPhone8);this.Zu=!!("undefined"!==typeof window.c2isBlackberry10&&window.c2isBlackberry10);this.devicePixelRatio=1;this.$h=this.Kq||this.Xu||this.Gf||this.Hq||this.Nq||this.cv||this.Zu||this.kl;this.$h||(this.$h=/(blackberry|bb10|playbook|palm|symbian|nokia|windows\s+ce|phone|mobile|tablet)/i.test(navigator.userAgent));
if("undefined"!==typeof cr_is_preview&&!this.vj&&("?nw"===window.location.search||/nodewebkit/i.test(navigator.userAgent)))this.vj=q;this.canvas=a;this.Xp=document.getElementById("c2canvasdiv");this.Pa=this.za=this.Df=r;this.canvas.oncontextmenu=function(a){a.preventDefault&&a.preventDefault();return s};this.canvas.onselectstart=function(a){a.preventDefault&&a.preventDefault();return s};this.lh&&(window.c2runtime=this);this.vj&&(window.Ey=function(a){a.preventDefault();return s},window.Fy=function(a){a.preventDefault();
return s});this.width=a.width;this.height=a.height;this.Sq=this.width;this.Rq=this.height;this.$a=q;this.xj=s;Date.now||(Date.now=function(){return+new Date});this.plugins=[];this.types={};this.R=[];this.Eb=[];this.Hn={};this.xe=[];this.dn={};this.fh=[];this.$f=[];this.$l=[];this.qt=[];this.Pe=new Ha;this.vn=s;this.Hf=0;this.xn=s;this.Oe=[];this.Jq=s;this.Kf=this.Gc=this.wl=this.Do="";this.ck=this.Nr=s;this.xw=this.Xm=this.zl=this.jg=this.ka=0;this.Ig=1;this.ei=new Ia;this.tl=0;this.hr=q;this.Kl=
this.Zk=this.Vk=this.Hg=this.zj=this.kn=0;this.Rm=r;this.Rk=[];this.cn=[];this.Tk=-1;this.On=[[]];this.Oo=this.yl=0;this.so(r);this.my=[];this.ny=-1;this.lr=this.Qj=0;this.Uq=q;this.hj=0;this.Ul=[];this.Lo=this.uo=0;this.pl=q;this.xl=0;this.jl=s;this.kw=0;this.iy=s;this.io=new Ha;this.nr=new Ha;this.Cr=[];this.Qy=new Ma([]);this.Ry=new Ma([]);this.Ph=[];this.Ck={};this.Th={};this.Oh={};this.Di={};this.Qp={};this.we=this.Bd=this.Tq=this.ul=this.kb=r;this.Bi=this.zn=s;this.ln=[r,r];this.lj=0;this.qu=
"";this.si={};this.Tl=this.gi=r;this.jw="";this.load();this.devicePixelRatio=(this.wj=!this.Xe&&this.vw&&(this.Nq||this.kl))?window.devicePixelRatio||1:1;this.pc();var c;"undefined"!==typeof jQuery&&0<this.te&&this.setSize(jQuery(window).width(),jQuery(window).height());try{if(this.St&&(this.Gf||!this.Xe)){c={depth:s,antialias:!this.$h};var d=q;if(this.Iq&&this.av){var e=document.createElement("canvas");if("OES_texture_float,OES_standard_derivatives,WEBKIT_WEBGL_lose_context"===(e.getContext("webgl",
c)||e.getContext("experimental-webgl",c)).getSupportedExtensions().toString())d=s}d&&(this.Df=a.getContext("webgl",c)||a.getContext("experimental-webgl",c))}}catch(m){}if(this.Df){this.Xe||(this.Vc=document.createElement("canvas"),jQuery(this.Vc).appendTo(this.canvas.parentNode),this.Vc.oncontextmenu=B(s),this.Vc.onselectstart=B(s),this.Vc.width=a.width,this.Vc.height=a.height,this.sr(),this.mo=this.Vc.getContext("2d"));this.za=new ba.Tw(this.Df,this.$h);this.za.Kr(a.width,a.height);this.Pa=r;this.canvas.addEventListener("webglcontextlost",
function(a){a.preventDefault();b.Mv();window.cr_setSuspended(q)},s);this.canvas.addEventListener("webglcontextrestored",function(){b.za.jy();b.za.Kr(b.za.width,b.za.height,q);b.Bd=r;b.we=r;b.ln[0]=r;b.ln[1]=r;b.Nv();b.$a=q;window.cr_setSuspended(s)},s);var f,g,k,l,h;a=0;for(c=this.R.length;a<c;a++){f=this.R[a];d=0;for(e=f.fa.length;d<e;d++)k=f.fa[d],k.nc=this.za.wq(k.id),this.Bi=this.Bi||this.za.Ml(k.nc)}a=0;for(c=this.xe.length;a<c;a++){l=this.xe[a];d=0;for(e=l.fa.length;d<e;d++)k=l.fa[d],k.nc=this.za.wq(k.id);
d=0;for(e=l.Ba.length;d<e;d++){h=l.Ba[d];f=0;for(g=h.fa.length;f<g;f++)k=h.fa[f],k.nc=this.za.wq(k.id),this.Bi=this.Bi||this.za.Ml(k.nc)}}}else{if(0<this.te&&this.lh){this.canvas=r;document.oncontextmenu=B(s);document.onselectstart=B(s);this.Pa=AppMobi.canvas.getContext("2d");try{this.Pa.samplingMode=this.yb?"smooth":"sharp",this.Pa.globalScale=1,this.Pa.HTML5CompatibilityMode=q}catch(F){}0!==this.width&&0!==this.height&&(this.Pa.width=this.width,this.Pa.height=this.height)}this.Pa||(this.Gf?(c={antialias:!!this.yb},
this.Pa=a.getContext("2d",c)):this.Pa=a.getContext("2d"),this.Pa.webkitImageSmoothingEnabled=this.yb,this.Pa.mozImageSmoothingEnabled=this.yb,this.Pa.msImageSmoothingEnabled=this.yb,this.Pa.imageSmoothingEnabled=this.yb);this.mo=this.Vc=r}this.Tr=function(){b.Ch()};window!=window.top&&(!this.Xe&&!this.bv)&&(document.addEventListener("mousedown",function(){window.focus()},q),document.addEventListener("touchstart",function(){window.focus()},q));"undefined"!==typeof cr_is_preview&&(this.Gf&&console.log("[Construct 2] In preview-over-wifi via CocoonJS mode"),
"?continuous"===window.location.search&&(L("Reloading for continuous preview"),this.wl="__c2_continuouspreview",this.ck=q),this.Sv&&!this.$h&&(jQuery(window).focus(function(){b.setSuspended(s)}),jQuery(window).blur(function(){b.setSuspended(q)})));this.go();this.oa={}}}function b(a){a.target.result.createObjectStore("saves",{keyPath:"slot"})}function c(a,c,d,e){var m=indexedDB.open("_C2SaveStates");m.onupgradeneeded=b;m.onerror=e;m.onsuccess=function(b){b=b.target.result;b.onerror=e;b.transaction(["saves"],
"readwrite").objectStore("saves").put({slot:a,data:c}).onsuccess=d}}function d(a,c,d){var e=indexedDB.open("_C2SaveStates");e.onupgradeneeded=b;e.onerror=d;e.onsuccess=function(b){b=b.target.result;b.onerror=d;var e=b.transaction(["saves"]).objectStore("saves").get(a);e.onsuccess=function(){e.result?c(e.result.data):c(r)}}}function e(){L("Reloading for continuous preview");window.c2cocoonjs?CocoonJS.App.reload():"?continuous"===window.location.search?window.location.reload(q):window.location+="?continuous"}
function g(a){var b,c={};for(b in a)a.hasOwnProperty(b)&&!(a[b]instanceof Ha)&&"undefined"===typeof a[b].yf&&"mouseOverInverted"!==b&&(c[b]=a[b]);return c}a.prototype.setSize=function(a,b){var c=this.Tu&&this.ol&&!navigator.standalone&&!this.Xe&&!this.Kq,d=0;c&&(this.ol?d=60:this.Hq&&(d=56),b+=d);var e=0,m=0,f=0,g=0,k=0,k=this.te,l=document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||this.jl;l&&0<this.lj&&(k=this.lj);4<=k?(f=this.nd/this.md,a/b>f?(f*=b,5===k?(k=f/this.nd,1<k?
k=Math.floor(k):1>k&&(k=1/Math.ceil(1/k)),f=this.nd*k,g=this.md*k,e=(a-f)/2,m=(b-g)/2,a=f,b=g):(e=(a-f)/2,a=f)):(g=a/f,5===k?(k=g/this.md,1<k?k=Math.floor(k):1>k&&(k=1/Math.ceil(1/k)),f=this.nd*k,g=this.md*k,e=(a-f)/2,m=(b-g)/2,a=f):m=(b-g)/2,b=g),l&&!this.vj&&(m=e=0),e=Math.floor(e),m=Math.floor(m),a=Math.floor(a),b=Math.floor(b)):this.vj&&(this.jl&&0===this.pq)&&(e=Math.floor((a-this.nd)/2),m=Math.floor((b-this.md)/2),a=this.nd,b=this.md);this.wj&&(this.Oq&&1<this.devicePixelRatio)&&(1024<=a&&(a=
1023),1024<=b&&(b=1023));l=this.devicePixelRatio;this.width=a*l;this.height=b*l;this.$a=q;this.Xp&&!this.Xe&&(jQuery(this.Xp).css({width:a+"px",height:b+"px","margin-left":e,"margin-top":m}),"undefined"!==typeof cr_is_preview&&jQuery("#borderwrap").css({width:a+"px",height:b+"px"}));this.canvas&&(this.canvas.width=a*l,this.canvas.height=b*l,this.wj&&jQuery(this.canvas).css({width:a+"px",height:b+"px"}));this.Vc&&(this.Vc.width=a,this.Vc.height=b);this.za&&this.za.Kr(a,b);this.lh&&this.Pa&&(this.Pa.width=
a,this.Pa.height=b);this.Pa&&(this.Pa.webkitImageSmoothingEnabled=this.yb,this.Pa.mozImageSmoothingEnabled=this.yb,this.Pa.msImageSmoothingEnabled=this.yb,this.Pa.imageSmoothingEnabled=this.yb);c&&0<d&&window.setTimeout(function(){window.scrollTo(0,1)},100)};a.prototype.Mv=function(){this.zn=q;var a,b,c;a=0;for(b=this.R.length;a<b;a++)c=this.R[a],c.ko&&c.ko()};a.prototype.Nv=function(){this.zn=s;var a,b,c;a=0;for(b=this.R.length;a<b;a++)c=this.R[a],c.lo&&c.lo()};a.prototype.sr=function(){if(!this.Xe){var a=
document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||this.jl?jQuery(this.canvas).offset():jQuery(this.canvas).position();a.position="absolute";jQuery(this.Vc).css(a)}};var f=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||window.oCancelAnimationFrame;a.prototype.setSuspended=function(a){var b;if(a&&!this.xj){L("[Construct 2] Suspending");this.xj=q;0!==this.uo&&f&&f(this.uo);0!==this.Lo&&clearTimeout(this.Lo);
a=0;for(b=this.Ul.length;a<b;a++)this.Ul[a](q)}else if(!a&&this.xj){L("[Construct 2] Resuming");this.xj=s;this.tl=Ga();this.zj=Ga();a=this.Zk=0;for(b=this.Ul.length;a<b;a++)this.Ul[a](s);this.Ch()}};a.prototype.load=function(){var a=gb();this.name=a[0];this.nq=a[1];this.te=a[11];this.pq=a[11];if(this.Xe&&(4<=a[11]||0===a[11]))L("[Construct 2] Letterbox scale fullscreen modes are not supported on this platform - falling back to 'Scale outer'"),this.pq=this.te=3;this.So=a[17];this.Aj=a[18];0===this.Aj&&
(this.gi=new Image,this.gi.src="loading-logo.png");this.Qj=a[20];this.nf=new O(this);var b,c,d,e,m,f,g,k,l;b=0;for(c=a[2].length;b<c;b++)g=a[2][b],hb(g),l=new g[0](this),l.Go=g[1],l.ng=g[2],l.jr=g[9],l.mc&&l.mc(),this.plugins.push(l);a=gb();b=0;for(c=a[3].length;b<c;b++){g=a[3][b];m=g[1];l=r;d=0;for(e=this.plugins.length;d<e;d++)if(this.plugins[d]instanceof m){l=this.plugins[d];break}var h=new l.vf(l);h.name=g[0];h.ha=g[2];h.un=g[3].slice(0);h.ww=g[3].length;h.xt=g[4];h.su=g[5];h.ua=g[11];h.ha?(h.ir=
[],h.Te=this.hj++,h.Wa=r):(h.ir=r,h.Te=-1,h.Wa=[]);h.Wk=r;h.Xh=r;h.jq=r;h.ve=s;h.Rc=r;g[6]?(h.Io=g[6][0],h.Jo=g[6][1],h.Ko=g[6][2]):(h.Io=r,h.Jo=0,h.Ko=0);h.bd=g[7]?g[7]:r;h.index=b;h.A=[];h.Pk=[];h.Dg=[new Qa(h)];h.Af=0;h.Qe=r;h.Eg=q;h.am=ib;h.wu=jb;h.Du=kb;h.qb=lb;h.Wj=mb;h.ro=nb;h.wi=ob;h.al=pb;h.mn=qb;h.on=rb;h.Dk=sb;h.oa={};h.toString=tb;h.Eb=[];d=0;for(e=g[8].length;d<e;d++){k=g[8][d];var F=k[1],E=r;m=0;for(f=this.Eb.length;m<f;m++)if(this.Eb[m]instanceof F){E=this.Eb[m];break}E||(E=new F(this),
E.ho=new Ha,E.mc&&E.mc(),this.Eb.push(E));m=new E.vf(E,h);m.name=k[0];m.ua=k[2];m.mc();h.Eb.push(m)}h.global=g[9];h.wn=g[10];h.fa=[];d=0;for(e=g[12].length;d<e;d++)h.fa.push({id:g[12][d][0],name:g[12][d][1],nc:-1,xd:q,index:d});(!this.So||h.ha||h.wn||!l.ng)&&h.mc();h.name&&(this.types[h.name]=h);this.R.push(h);l.Go&&(d=new l.Md(h),d.uid=this.Qj++,d.yr=this.lr++,d.qj=0,d.oj=ub,d.toString=vb,d.fc=g[13],d.mc(),h.A.push(d))}b=0;for(c=a[4].length;b<c;b++){m=a[4][b];f=this.R[m[0]];d=1;for(e=m.length;d<
e;d++)g=this.R[m[d]],g.Wa.push(f),f.ir.push(g)}b=0;for(c=a[22].length;b<c;b++){m=a[22][b];f=[];d=0;for(e=m.length;d<e;d++)f.push(this.R[m[d]]);d=0;for(e=f.length;d<e;d++)f[d].ve=q,f[d].Rc=f}if(0<this.hj){b=0;for(c=this.R.length;b<c;b++)if(g=this.R[b],!g.ha&&g.Wa.length){g.Wk=Array(this.hj);g.Xh=Array(this.hj);g.jq=Array(this.hj);h=[];d=E=F=k=0;for(e=g.Wa.length;d<e;d++){l=g.Wa[d];g.Wk[l.Te]=k;k+=l.ww;g.Xh[l.Te]=F;F+=l.xt;g.jq[l.Te]=E;E+=l.su;m=0;for(f=l.fa.length;m<f;m++)h.push(na({},l.fa[m]))}g.fa=
h.concat(g.fa);d=0;for(e=g.fa.length;d<e;d++)g.fa[d].index=d}}b=0;for(c=a[5].length;b<c;b++)g=a[5][b],d=new Ra(this,g),this.Hn[d.name]=d,this.xe.push(d);b=0;for(c=a[6].length;b<c;b++)g=a[6][b],d=new Sa(this,g),this.dn[d.name]=d,this.fh.push(d);b=0;for(c=this.fh.length;b<c;b++)this.fh[b].zb();b=0;for(c=this.$l.length;b<c;b++)this.$l[b].zb();this.$l.length=0;this.qu=a[7];this.vg=a[8];this.nd=a[9];this.md=a[10];this.Ek=1;this.St=a[12];this.yb=a[13];this.Yp=a[14];this.Vy=a[15];b=a[16];2===b&&(b=this.ol?
1:0);this.vw=0!==b;this.Tu=a[19];this.Sv=a[21];this.bk=Date.now()};a.prototype.ru=function(a){var b,c;b=0;for(c=this.$f.length;b<c;b++)if(this.$f[b].Bt===a)return this.$f[b];return r};a.prototype.Lp=function(){var a=0,b=0,c=q,d,e;d=0;for(e=this.$f.length;d<e;d++){var m=this.$f[d].dq;if(!m||0>=m)m=5E4;a+=m;this.$f[d].complete||this.$f[d].loaded?b+=m:c=s}this.Ah=0==a?0:b/a;return c};a.prototype.go=function(){if(this.Pa||this.za){var a=this.Pa||this.mo;this.Vc&&this.sr();this.Ah=0;this.Qq=-1;if(this.Lp())this.Ru();
else{var b=Date.now()-this.bk,c=1;this.kl&&(c=this.devicePixelRatio);if(a){if(3!==this.Aj&&500<=b&&this.Qq!=this.Ah){a.clearRect(0,0,this.width,this.height);var b=this.width/(2*c),c=this.height/(2*c),d=0===this.Aj&&this.gi.complete,e=40,m=0,g=80;d&&(g=this.gi.width,e=g/2,m=this.gi.height/2,a.drawImage(this.gi,ia(b-e),ia(c-m)));1>=this.Aj?(b=ia(b-e)+0.5,c=ia(c+(m+(d?12:0)))+0.5,a.fillStyle="DodgerBlue",a.fillRect(b,c,Math.floor(g*this.Ah),6),a.strokeStyle="black",a.strokeRect(b,c,g,6),a.strokeStyle=
"white",a.strokeRect(b-1,c-1,g+2,8)):2===this.Aj&&(a.font="12pt Arial",a.fillStyle="#999",a.Sy="middle",d=Math.round(100*this.Ah)+"%",e=a.measureText?a.measureText(d):r,a.fillText(d,b-(e?e.width:0)/2,c))}this.Qq=this.Ah}setTimeout(function(a){return function(){a.go()}}(this),100)}}};a.prototype.Ru=function(){this.Vc&&(this.canvas.parentNode.removeChild(this.Vc),this.Vc=this.mo=r);this.bk=Date.now();this.zj=Ga();var a,b,c;if(this.So){a=0;for(b=this.R.length;a<b;a++)c=this.R[a],!c.ha&&(!c.wn&&c.wc.ng)&&
c.mc()}else this.pl=s;a=0;for(b=this.xe.length;a<b;a++)this.xe[a].Ct();2<=this.te&&(a=this.nd/this.md,b=this.width/this.height,this.Ek=2!==this.te&&b>a||2===this.te&&b<a?this.height/this.md:this.width/this.nd);this.nq?this.Hn[this.nq].Ho():this.xe[0].Ho();this.So||(this.xl=1,this.trigger(O.prototype.ya.pp,r));this.Ch();this.lh&&AppMobi.webview.execute("onGameReady();")};var l=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||
window.oRequestAnimationFrame;a.prototype.Ch=function(){if(this.kb){if(this.Yu){var a=jQuery(window).width(),b=jQuery(window).height();if(this.Sq!==a||this.Rq!==b)this.Sq=a,this.Rq=b,this.setSize(a,b)}a=Ga();this.pl&&(b=this.Lp(),this.xl=this.Ah,b&&(this.pl=s,this.Ah=1,this.trigger(O.prototype.ya.pp,r)));this.iv();if((this.$a||this.Gf)&&!this.zn&&!this.ck)this.$a=s,this.za?this.se():this.ig(),this.Tl&&(this.canvas&&this.canvas.toDataURL&&(this.jw=this.canvas.toDataURL(this.Tl[0],this.Tl[1]),this.trigger(O.prototype.ya.Gs,
r)),this.Tl=r);this.Hg++;this.Vk++;this.Zk++;this.zl+=Ga()-a;this.xj||(l?this.uo=l(this.Tr,this.canvas):this.Lo=setTimeout(this.Tr,this.$h?1:16))}};a.prototype.iv=function(){var a,b,c,d,e,m,g,f,k;a=Ga();1E3<=a-this.zj&&(this.zj+=1E3,this.kn=this.Zk,this.Zk=0,this.Xm=this.zl,this.zl=0);this.hr&&(0!==this.tl&&(b=a-this.tl,0===b?(this.xw++,10<=this.Xy&&(this.hr=s),this.jg=1/60):(this.jg=b/1E3,0.5<this.jg?this.jg=0:0.1<this.jg&&(this.jg=0.1))),this.tl=a);this.ka=this.jg*this.Ig;this.ei.add(this.ka);a=
document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||this.jl;2<=this.te||a&&0<this.lj?(b=this.nd/this.md,c=this.width/this.height,d=this.te,a&&0<this.lj&&(d=this.lj),this.Ek=2!==d&&c>b||2===d&&c<b?this.height/this.md:this.width/this.nd,this.kb&&(this.kb.Ir(this.kb.scrollX),this.kb.Jr(this.kb.scrollY))):this.Ek=1;this.pc();this.Hf++;this.nf.$v();this.Hf--;this.pc();this.Hf++;a=0;for(b=this.R.length;a<b;a++)if(g=this.R[a],!(g.ha||!g.Eb.length&&!g.Wa.length)){c=0;for(d=g.A.length;c<
d;c++){f=g.A[c];e=0;for(m=f.xa.length;e<m;e++)f.xa[e].Ch()}}a=0;for(b=this.R.length;a<b;a++)if(g=this.R[a],!(g.ha||!g.Eb.length&&!g.Wa.length)){c=0;for(d=g.A.length;c<d;c++){f=g.A[c];e=0;for(m=f.xa.length;e<m;e++)k=f.xa[e],k.Uv&&k.Uv()}}c=this.io.Ci();a=0;for(b=c.length;a<b;a++)c[a].Ch();this.Hf--;this.Su();for(a=0;this.Rm&&10>a++;)this.hq(this.Rm);a=0;for(b=this.fh.length;a<b;a++)this.fh[a].pn=s;this.kb.Sk&&this.kb.Sk.Ub();this.Cr.length=0;this.Uq=s;this.Hf++;a=0;for(b=this.R.length;a<b;a++)if(g=
this.R[a],!(g.ha||!g.Eb.length&&!g.Wa.length)){c=0;for(d=g.A.length;c<d;c++){f=g.A[c];e=0;for(m=f.xa.length;e<m;e++)k=f.xa[e],k.Sr&&k.Sr()}}c=this.nr.Ci();a=0;for(b=c.length;a<b;a++)c[a].Sr();this.Hf--};a.prototype.hq=function(a){var b=this.kb;this.kb.mw();var c,d,e,m,g,f,k;if(this.za){c=0;for(d=this.R.length;c<d;c++)g=this.R[c],g.ha||g.Qo&&((!g.global||0===g.A.length)&&-1===a.sj.indexOf(g))&&g.Qo()}b==a&&(this.nf.sd.length=0);a.Ho();c=0;for(d=this.R.length;c<d;c++)if(g=this.R[c],g.global||g.wc.Go){a=
0;for(b=g.A.length;a<b;a++)if(f=g.A[a],f.jo&&f.jo(),f.xa){e=0;for(m=f.xa.length;e<m;e++)k=f.xa[e],k.jo&&k.jo()}}this.Uq=this.$a=q;this.pc()};a.prototype.pw=function(a){this.io.add(a)};a.prototype.sq=function(a){return!a||-1===a.zh?this.ka:this.jg*a.zh};a.prototype.ig=function(){this.kb.ig(this.Pa);this.lh&&this.Pa.present()};a.prototype.se=function(){this.kb.se(this.za)};a.prototype.nt=function(a){a&&this.Rk.push(a)};a.prototype.Xv=function(a){ra(this.Rk,a)};a.prototype.mj=function(a){return this.si[a.toString()]};
a.prototype.Jh=function(a){var b,c;if(!this.Pe.contains(a)){this.Pe.add(a);if(a.ve){b=0;for(c=a.siblings.length;b<c;b++)this.Jh(a.siblings[b])}this.vn&&this.Pe.ek.push(a);this.Hf++;this.trigger(Object.getPrototypeOf(a.type.wc).ya.Is,a);this.Hf--}};a.prototype.pc=function(){var a,b,c,d,e,m,g,f,k,h;this.vn=q;d=0;for(m=this.Oe.length;d<m;d++){a=this.Oe[d];b=a.type;b.A.push(a);b.Eg=q;e=0;for(g=b.Wa.length;e<g;e++)b.Wa[e].A.push(a),b.Wa[e].Eg=q}this.Oe.length=0;m=this.Pe.Ci();for(d=0;d<m.length;d++){a=
m[d];b=a.type;c=b.A;e=0;for(g=this.Rk.length;e<g;e++)this.Rk[e](a);ra(c,a);a.Q&&(oa(a.Q.A,a.Ad()),a.Q.td=q);e=0;for(g=b.Wa.length;e<g;e++)ra(b.Wa[e].A,a),b.Wa[e].Eg=q;if(a.xa){e=0;for(g=a.xa.length;e<g;e++)c=a.xa[e],c.Rj&&c.Rj(),c.Ob.ho.remove(a)}this.io.remove(a);this.nr.remove(a);e=0;for(g=this.nf.sd.length;e<g;e++)if(k=this.nf.sd[e],k.od.hasOwnProperty(b.index)&&ra(k.od[b.index].kh,a),!b.ha){c=0;for(f=b.Wa.length;c<f;c++)h=b.Wa[c],k.od.hasOwnProperty(h.index)&&ra(k.od[h.index].kh,a)}a.Rj&&a.Rj();
this.si.hasOwnProperty(a.uid.toString())&&delete this.si[a.uid.toString()];this.Kl--;64>b.Pk.length&&b.Pk.push(a);b.Eg=q}this.Pe.uj()||(this.$a=q);this.Pe.clear();this.vn=s};var h=[];a.prototype.dh=function(a,b,c,d,e,m){var g,f,k,l;if(!a)return r;var J=this.R[a[1]],F=J.wc.ng;if(this.pl&&F&&!J.wn||F&&!this.za&&11===a[0][11])return r;var E=b;F||(b=r);var z;J.Pk.length?(z=J.Pk.pop(),z.kf=q,J.wc.Md.call(z,J)):(z=new J.wc.Md(J),z.kf=s);z.uid=c&&!m?a[2]:this.Qj++;this.si[z.uid.toString()]=z;z.yr=this.lr++;
z.qj=0;z.oj=ub;J.Eg=q;k=a[3];if(z.kf){g=0;for(f=k.length;g<f;g++)z.ac[g]=k[g];Fa(z.oa)}else z.ac=k.slice(0),z.oa={};if(F){var I=a[0];z.x=ca(d)?I[0]:d;z.y=ca(e)?I[1]:e;z.D=I[2];z.width=I[3];z.height=I[4];z.depth=I[5];z.P=I[6];z.opacity=I[7];z.Sc=I[8];z.Tc=I[9];z.Nc=I[10];g=I[11];!this.za&&J.fa.length&&(z.Nc=g);z.dj=Na(z.Nc);this.Df&&Oa(z,z.Nc,this.Df);if(z.kf){g=0;for(f=I[12].length;g<f;g++){k=0;for(l=I[12][g].length;k<l;k++)z.pb[g][k]=I[12][g][k]}z.La.set(0,0,0,0);z.lc.Eo(z.La);z.Fk.length=0}else{z.pb=
I[12].slice(0);g=0;for(f=z.pb.length;g<f;g++)z.pb[g]=I[12][g].slice(0);z.Ka=[];z.gg=[];z.gg.length=J.fa.length;z.La=new la(0,0,0,0);z.lc=new ma;z.Fk=[];z.Ab=wb;z.ay=xb;z.Vh=yb;z.rd=zb;z.Ad=Ab}g=0;for(f=J.fa.length;g<f;g++)z.gg[g]=q;z.Zf=Bb;z.Zf();z.bs=!!z.Ka.length;z.Mm=q;z.visible=q;z.zh=-1;z.Q=b;z.Fh=b.A.length;"undefined"===typeof z.Pc&&(z.Pc=r);this.$a=z.Uh=q}z.toString=vb;var K;g=h.length=0;for(f=J.Wa.length;g<f;g++)h.push.apply(h,J.Wa[g].Eb);h.push.apply(h,J.Eb);if(z.kf){g=0;for(f=h.length;g<
f;g++){var T=h[g];K=z.xa[g];K.kf=q;T.Ob.Md.call(K,T,z);I=a[4][g];k=0;for(l=I.length;k<l;k++)K.fc[k]=I[k];K.mc();T.Ob.ho.add(z)}}else{z.xa=[];g=0;for(f=h.length;g<f;g++)T=h[g],K=new T.Ob.Md(T,z),K.kf=s,K.fc=a[4][g].slice(0),K.mc(),z.xa.push(K),T.Ob.ho.add(z)}I=a[5];if(z.kf){g=0;for(f=I.length;g<f;g++)z.fc[g]=I[g]}else z.fc=I.slice(0);this.Oe.push(z);b&&b.A.push(z);this.Kl++;if(J.ve){if(z.ve=q,z.kf?z.siblings.length=0:z.siblings=[],!c&&!m){g=0;for(f=J.Rc.length;g<f;g++)if(J.Rc[g]!==J){if(!J.Rc[g].Qe)return r;
z.siblings.push(this.dh(J.Rc[g].Qe,E,s,F?z.x:d,F?z.y:e,q))}g=0;for(f=z.siblings.length;g<f;g++){z.siblings[g].siblings.push(z);for(k=0;k<f;k++)g!==k&&z.siblings[g].siblings.push(z.siblings[k])}}}else z.ve=s,z.siblings=r;z.mc();g=0;for(f=z.xa.length;g<f;g++)z.xa[g].tr&&z.xa[g].tr();return z};a.prototype.Au=function(a){var b,c;b=0;for(c=this.kb.Ba.length;b<c;b++){var d=this.kb.Ba[b];if(d.name.toLowerCase()===a.toLowerCase())return d}return r};a.prototype.Bu=function(a){a=ia(a);0>a&&(a=0);a>=this.kb.Ba.length&&
(a=this.kb.Ba.length-1);return this.kb.Ba[a]};a.prototype.Sm=function(a){var b,c;b=0;for(c=a.length;b<c;b++)a[b].qb().Kb=q};a.prototype.Wj=function(a){var b,c;b=0;for(c=a.length;b<c;b++)a[b].Wj()};a.prototype.ro=function(a){var b,c;b=0;for(c=a.length;b<c;b++)a[b].ro()};a.prototype.wi=function(a){var b,c;b=0;for(c=a.length;b<c;b++)a[b].wi()};new ma;new la(0,0,0,0);a.prototype.Xr=function(a,b){if(!b)return s;var c,d,e,m,g;c=0;for(d=a.Eb.length;c<d;c++)if(a.Eb[c].Ob instanceof b)return q;if(!a.ha){c=
0;for(d=a.Wa.length;c<d;c++){g=a.Wa[c];e=0;for(m=g.Eb.length;e<m;e++)if(g.Eb[e].Ob instanceof b)return q}}return s};a.prototype.Yr=function(a){return this.Xr(a,fb.ox)};a.prototype.Po=function(a){return this.Xr(a,fb.qx)};a.prototype.Wv=function(a,b){a.Uh&&b.Uh&&this.Cr.push([a,b])};var k=[],m=-1;a.prototype.trigger=function(a,b,c){if(!this.kb)return s;var d=this.kb.Sk;if(!d)return s;m++;m===k.length?k.push(new Ha):k[m].clear();a=this.Vr(a,b,d,c);m--;return a};a.prototype.Vr=function(a,b,c,d){var e=
k[m];if(e.contains(c))return s;e.add(c);var e=c.Dq.Ci(),g=s,f,h,l;f=0;for(h=e.length;f<h;f++)e[f].Wu()&&(l=this.Vr(a,b,e[f].rj,d),g=g||l);if(b){l=this.No(a,b,b.type.name,c,d);g=g||l;f=0;for(h=b.type.Wa.length;f<h;f++)l=this.No(a,b,b.type.Wa[f].name,c,d),g=g||l}else l=this.No(a,b,"system",c,d),g=g||l;return g};a.prototype.No=function(a,b,c,d,e){var m,g=s,f=s,f="undefined"!==typeof e,k=(f?d.lq:d.Wr)[c];if(!k)return g;var h=r;d=0;for(m=k.length;d<m;d++)if(k[d].method==a){h=k[d].Uk;break}if(!h)return g;
a=f?h[e]:h;if(!a)return r;d=0;for(m=a.length;d<m;d++)e=a[d][0],f=a[d][1],f=this.pu(b,c,e,f),g=g||f;return g};a.prototype.pu=function(a,b,c,d){var e,g,f=s;this.Oo++;var k=this.zd().pe;k&&this.Wj(k.Bg);var h=1<this.Oo;this.Wj(c.Bg);h&&this.Vv();var l=this.so(c);l.pe=c;a&&(e=this.types[b].qb(),e.Kb=s,e.A.length=1,e.A[0]=a,this.types[b].Dk());a=q;if(c.parent){b=l.Rr;for(e=c.parent;e;)b.push(e),e=e.parent;b.reverse();e=0;for(g=b.length;e<g;e++)if(!b[e].bw()){a=s;break}}a&&(this.Vk++,c.jf?c.aw(d):c.Ub(),
f=f||l.fi);this.rr();h&&this.Tv();this.wi(c.Bg);k&&this.wi(k.Bg);0===this.Hf&&(0===m&&!this.xn&&(!this.Pe.uj()||this.Oe.length))&&this.pc();this.Oo--;return f};a.prototype.vu=function(){var a=this.zd();return a.pe.Fb[a.Oc]};a.prototype.Vv=function(){this.yl++;this.yl>=this.On.length&&this.On.push([])};a.prototype.Tv=function(){this.yl--};a.prototype.rq=function(){return this.On[this.yl]};a.prototype.so=function(a){this.Tk++;this.Tk>=this.cn.length&&this.cn.push(new Ta);var b=this.zd();b.reset(a);
return b};a.prototype.rr=function(){this.Tk--};a.prototype.zd=function(){return this.cn[this.Tk]};a.prototype.tq=function(a,b){for(var c,d,e,m,g,f;b;){c=0;for(d=b.be.length;c<d;c++)if(f=b.be[c],f instanceof Ua&&a.toLowerCase()===f.name.toLowerCase())return f;b=b.parent}c=0;for(d=this.fh.length;c<d;c++){g=this.fh[c];e=0;for(m=g.lg.length;e<m;e++)if(f=g.lg[e],f instanceof Ua&&a.toLowerCase()===f.name.toLowerCase())return f}return r};a.prototype.uq=function(a){var b,c;b=0;for(c=this.xe.length;b<c;b++)if(this.xe[b].ua===
a)return this.xe[b];return r};a.prototype.fl=function(a){var b,c;b=0;for(c=this.R.length;b<c;b++)if(this.R[b].ua===a)return this.R[b];return r};a.prototype.xu=function(a){var b,c;b=0;for(c=this.Ph.length;b<c;b++)if(this.Ph[b].ua===a)return this.Ph[b];return r};a.prototype.Su=function(){var a=this,b=this.Do,m=this.Kf,g=this.wl,f=s;this.Nr&&(f=q,b="__c2_continuouspreview",this.Nr=s);if(b.length){this.pc();m=this.gw();if(window.indexedDB&&!this.Gf)c(b,m,function(){L("Saved state to IndexedDB storage ("+
m.length+" bytes)");a.Kf=m;a.trigger(O.prototype.ya.xm,r);a.Kf="";f&&e()},function(c){try{localStorage.setItem("__c2save_"+b,m),L("Saved state to WebStorage ("+m.length+" bytes)"),a.Kf=m,a.trigger(O.prototype.ya.xm,r),a.Kf="",f&&e()}catch(d){L("Failed to save game state: "+c+"; "+d)}});else try{localStorage.setItem("__c2save_"+b,m),L("Saved state to WebStorage ("+m.length+" bytes)"),a.Kf=m,this.trigger(O.prototype.ya.xm,r),a.Kf="",f&&e()}catch(k){L("Error saving to WebStorage: "+k)}this.Gc=this.wl=
this.Do=""}g.length&&(window.indexedDB&&!this.Gf?d(g,function(b){b?(a.Gc=b,L("Loaded state from IndexedDB storage ("+a.Gc.length+" bytes)")):(a.Gc=localStorage.getItem("__c2save_"+g)||"",L("Loaded state from WebStorage ("+a.Gc.length+" bytes)"));a.ck=s;a.Gc.length||a.trigger(O.prototype.ya.wm,r)},function(){a.Gc=localStorage.getItem("__c2save_"+g)||"";L("Loaded state from WebStorage ("+a.Gc.length+" bytes)");a.ck=s;a.Gc.length||a.trigger(O.prototype.ya.wm,r)}):(this.Gc=localStorage.getItem("__c2save_"+
g)||"",L("Loaded state from WebStorage ("+this.Gc.length+" bytes)"),this.ck=s,a.Gc.length||a.trigger(O.prototype.ya.wm,r)),this.Do=this.wl="");this.Gc.length&&(this.pc(),this.hv(this.Gc),this.Kf=this.Gc,this.trigger(O.prototype.ya.Ps,r),this.Gc=this.Kf="")};a.prototype.gw=function(){var a,b,c,d,e,m,f,k={c2save:q,version:1,rt:{time:this.ei.Fg,timescale:this.Ig,tickcount:this.Hg,execcount:this.Vk,next_uid:this.Qj,running_layout:this.kb.ua,start_time_offset:Date.now()-this.bk},types:{},layouts:{},events:{groups:{},
cnds:{},acts:{},vars:{}}};a=0;for(b=this.R.length;a<b;a++)if(e=this.R[a],!e.ha&&!this.Yr(e)){m={instances:[]};Ea(e.oa)&&(m.ex=g(e.oa));c=0;for(d=e.A.length;c<d;c++)m.instances.push(this.Hr(e.A[c]));k.types[e.ua.toString()]=m}a=0;for(b=this.xe.length;a<b;a++)c=this.xe[a],k.layouts[c.ua.toString()]=c.ae();d=k.events.groups;a=0;for(b=this.Ph.length;a<b;a++)c=this.Ph[a],d[c.ua.toString()]=!!this.Ck[c.pj];b=k.events.cnds;for(f in this.Th)this.Th.hasOwnProperty(f)&&(a=this.Th[f],Ea(a.oa)&&(b[f]={ex:g(a.oa)}));
b=k.events.acts;for(f in this.Oh)this.Oh.hasOwnProperty(f)&&(a=this.Oh[f],Ea(a.oa)&&(b[f]={ex:a.oa}));b=k.events.vars;for(f in this.Di)if(this.Di.hasOwnProperty(f)&&(a=this.Di[f],!a.ll&&(!a.parent||a.yj)))b[f]=a.data;k.system=this.nf.ae();return JSON.stringify(k)};a.prototype.Br=function(){var a,b,c,d,e,m;this.si={};a=0;for(b=this.R.length;a<b;a++)if(c=this.R[a],!c.ha){d=0;for(e=c.A.length;d<e;d++)m=c.A[d],this.si[m.uid.toString()]=m}};a.prototype.hv=function(a){a=JSON.parse(a);if(a.c2save&&!(1<a.version)){var b=
a.rt;this.ei.reset();this.ei.Fg=b.time;this.Ig=b.timescale;this.Hg=b.tickcount;this.Vk=b.execcount;this.bk=Date.now()-b.start_time_offset;var c=b.running_layout;if(c!==this.kb.ua)if(c=this.uq(c))this.hq(c);else return;this.Jq=q;var d,e,m,g,f,k,h;k=a.types;for(e in k)if(k.hasOwnProperty(e)&&(g=this.fl(parseInt(e,10)))&&!g.ha&&!this.Yr(g)){k[e].ex?g.oa=k[e].ex:Fa(g.oa);f=g.A;m=k[e].instances;c=0;for(d=ga(f.length,m.length);c<d;c++)this.Ln(f[c],m[c]);c=m.length;for(d=f.length;c<d;c++)this.Jh(f[c]);c=
f.length;for(d=m.length;c<d;c++){f=r;if(g.wc.ng&&(f=this.kb.dl(m[c].w.l),!f))continue;f=this.dh(g.Qe,f,s,0,0,q);this.Ln(f,m[c])}g.Eg=q}this.pc();this.Br();d=a.layouts;for(e in d)d.hasOwnProperty(e)&&(c=this.uq(parseInt(e,10)))&&c.Ye(d[e]);d=a.events.groups;for(e in d)d.hasOwnProperty(e)&&(c=this.xu(parseInt(e,10)))&&(this.Ck[c.pj]=d[e]);c=a.events.cnds;for(e in c)c.hasOwnProperty(e)&&this.Th.hasOwnProperty(e)&&(this.Th[e].oa=c[e].ex);c=a.events.acts;for(e in c)c.hasOwnProperty(e)&&this.Oh.hasOwnProperty(e)&&
(this.Oh[e].oa=c[e].ex);c=a.events.vars;for(e in c)c.hasOwnProperty(e)&&this.Di.hasOwnProperty(e)&&(this.Di[e].data=c[e]);this.Qj=b.next_uid;this.Jq=s;this.nf.Ye(a.system);c=0;for(d=this.R.length;c<d;c++)if(g=this.R[c],!g.ha){e=0;for(a=g.A.length;e<a;e++){f=g.A[e];if(g.ve){k=f.oj();b=f.siblings.length=0;for(m=g.Rc.length;b<m;b++)h=g.Rc[b],g!==h&&f.siblings.push(h.A[k])}f.bj&&f.bj();if(f.xa){b=0;for(m=f.xa.length;b<m;b++)k=f.xa[b],k.bj&&k.bj()}}}this.$a=q}};a.prototype.Hr=function(a){var b,c,d,e,m;
e=a.type;d=e.wc;var f={uid:a.uid};Ea(a.oa)&&(f.ex=g(a.oa));if(a.ac&&a.ac.length){f.ivs={};b=0;for(c=a.ac.length;b<c;b++)f.ivs[a.type.un[b].toString()]=a.ac[b]}if(d.ng){d={x:a.x,y:a.y,w:a.width,h:a.height,l:a.Q.ua,zi:a.Ad()};0!==a.P&&(d.a=a.P);1!==a.opacity&&(d.o=a.opacity);0.5!==a.Sc&&(d.hX=a.Sc);0.5!==a.Tc&&(d.hY=a.Tc);0!==a.Nc&&(d.bm=a.Nc);a.visible||(d.v=a.visible);a.Uh||(d.ce=a.Uh);-1!==a.zh&&(d.mts=a.zh);if(e.fa.length){d.fx=[];b=0;for(c=e.fa.length;b<c;b++)m=e.fa[b],d.fx.push({name:m.name,active:a.gg[m.index],
params:a.pb[m.index]})}f.w=d}if(a.xa&&a.xa.length){f.behs={};b=0;for(c=a.xa.length;b<c;b++)e=a.xa[b],e.ae&&(f.behs[e.type.ua.toString()]=e.ae())}a.ae&&(f.data=a.ae());return f};a.prototype.zu=function(a,b){var c,d;c=0;for(d=a.un.length;c<d;c++)if(a.un[c]===b)return c;return-1};a.prototype.uu=function(a,b){var c,d;c=0;for(d=a.xa.length;c<d;c++)if(a.xa[c].type.ua===b)return c;return-1};a.prototype.Ln=function(a,b){var c,d,e,m,g,f;f=a.type;e=f.wc;a.uid=b.uid;b.ex?a.oa=b.ex:Fa(a.oa);if(d=b.ivs)for(c in d)d.hasOwnProperty(c)&&
(m=this.zu(f,parseInt(c,10)),0>m||m>=a.ac.length||(a.ac[m]=d[c]));if(e.ng){m=b.w;a.Q.ua!==m.l&&(d=a.Q,a.Q=this.kb.dl(m.l),a.Q?(a.Q.A.push(a),a.Q.td=q,ra(d.A,a),d.td=q):(a.Q=d,this.Jh(a)));a.x=m.x;a.y=m.y;a.width=m.w;a.height=m.h;a.Fh=m.zi;a.P=m.hasOwnProperty("a")?m.a:0;a.opacity=m.hasOwnProperty("o")?m.o:1;a.Sc=m.hasOwnProperty("hX")?m.hX:0.5;a.Tc=m.hasOwnProperty("hY")?m.hY:0.5;a.visible=m.hasOwnProperty("v")?m.v:q;a.Uh=m.hasOwnProperty("ce")?m.ce:q;a.zh=m.hasOwnProperty("mts")?m.mts:-1;a.Nc=m.hasOwnProperty("bm")?
m.bm:0;a.dj=Na(a.Nc);this.Df&&Oa(a,a.Nc,this.Df);a.Ab();if(m.hasOwnProperty("fx")){d=0;for(e=m.fx.length;d<e;d++)g=f.on(m.fx[d].name),0>g||(a.gg[g]=m.fx[d].active,a.pb[g]=m.fx[d].params)}a.Zf()}if(f=b.behs)for(c in f)f.hasOwnProperty(c)&&(m=this.uu(a,parseInt(c,10)),0>m||a.xa[m].Ye(f[c]));b.data&&a.Ye(b.data)};Va=function(b){return new a(document.getElementById(b))};Wa=function(b,c){return new a({dc:q,width:b,height:c})};window.cr_createRuntime=Va;window.cr_createDCRuntime=Wa;window.createCocoonJSRuntime=
function(){window.c2cocoonjs=q;var b=document.createElement("screencanvas")||document.createElement("canvas");document.body.appendChild(b);b=new a(b);window.c2runtime=b;window.addEventListener("orientationchange",function(){window.c2runtime.setSize(window.innerWidth,window.innerHeight)});window.c2runtime.setSize(window.innerWidth,window.innerHeight);return b}})();window.cr_getC2Runtime=function(){var a=document.getElementById("c2canvas");return a?a.c2runtime:window.c2runtime?window.c2runtime:r};
window.cr_sizeCanvas=function(a,b){if(!(0===a||0===b)){var c=window.cr_getC2Runtime();c&&c.setSize(a,b)}};window.cr_setSuspended=function(a){var b=window.cr_getC2Runtime();b&&b.setSuspended(a)};
(function(){function a(a,b){this.g=a;this.Sk=r;this.scrollX=this.g.nd/2;this.scrollY=this.g.md/2;this.scale=1;this.P=0;this.ij=q;this.name=b[0];this.width=b[1];this.height=b[2];this.Zr=b[3];this.Mr=b[4];this.ua=b[5];var c=b[6],d,h;this.Ba=[];this.sj=[];d=0;for(h=c.length;d<h;d++){var k=new Xa(this,c[d]);k.mr=d;this.Ba.push(k)}c=b[7];this.jh=[];d=0;for(h=c.length;d<h;d++){var k=c[d],m=this.g.R[k[1]];m.Qe||(m.Qe=k);this.jh.push(k);-1===this.sj.indexOf(m)&&this.sj.push(m)}this.fa=[];this.Ka=[];this.pb=
[];d=0;for(h=b[8].length;d<h;d++)this.fa.push({id:b[8][d][0],name:b[8][d][1],nc:-1,xd:q,index:d}),this.pb.push(b[8][d][2].slice(0));this.Zf();this.Xj=new la(0,0,1,1);this.vo=new la(0,0,1,1);this.ug={}}function b(a,b){this.Ra=a;this.g=a.g;this.A=[];this.scale=1;this.P=0;this.eh=s;this.Yf=new la(0,0,0,0);this.Ur=new ma;this.de=this.ge=this.fe=this.ee=0;this.td=s;this.name=b[0];this.index=b[1];this.ua=b[2];this.visible=b[3];this.hg=b[4];this.Dh=b[5];this.Sj=b[6];this.Tj=b[7];this.opacity=b[8];this.jn=
b[9];this.Uo=b[10];this.Nc=b[11];this.Rt=b[12];this.dj="source-over";this.rc=this.xc=0;this.zg=s;var c=b[13],d,h;this.Zh=[];d=0;for(h=c.length;d<h;d++){var k=c[d],m=this.g.R[k[1]];m.Qe||(m.Qe=k);this.Zh.push(k);-1===this.Ra.sj.indexOf(m)&&this.Ra.sj.push(m)}this.fa=[];this.Ka=[];this.pb=[];d=0;for(h=b[14].length;d<h;d++)this.fa.push({id:b[14][d][0],name:b[14][d][1],nc:-1,xd:q,index:d}),this.pb.push(b[14][d][2].slice(0));this.Zf();this.Xj=new la(0,0,1,1);this.vo=new la(0,0,1,1)}function c(a,b){return a.Fh-
b.Fh}a.prototype.fw=function(a){var b=a.type.ua.toString();this.ug.hasOwnProperty(b)||(this.ug[b]=[]);this.ug[b].push(this.g.Hr(a))};a.prototype.zq=function(){var a=this.Ba[0];return!a.Dh&&1===a.opacity&&!a.jn&&a.visible};a.prototype.Zf=function(){this.Ka.length=0;var a,b,c;a=0;for(b=this.fa.length;a<b;a++)c=this.fa[a],c.xd&&this.Ka.push(c)};a.prototype.nn=function(a){var b,c,d;b=0;for(c=this.fa.length;b<c;b++)if(d=this.fa[b],d.name===a)return d;return r};var d=[];a.prototype.Ho=function(){this.Mr&&
(this.Sk=this.g.dn[this.Mr]);this.g.kb=this;this.scrollX=this.g.nd/2;this.scrollY=this.g.md/2;var a,b,f,l,h,k,m;a=0;for(f=this.g.R.length;a<f;a++)if(b=this.g.R[a],!b.ha){h=b.A;b=0;for(l=h.length;b<l;b++)if(k=h[b],k.Q){var n=k.Q.mr;n>=this.Ba.length&&(n=this.Ba.length-1);k.Q=this.Ba[n];k.Q.A.push(k);k.Q.td=q}}d.length=0;this.yt();a=0;for(f=this.Ba.length;a<f;a++)k=this.Ba[a],k.Dt(),k.eh=q,b=k.Rh(q),l=k.Rh(s),k.eh=s,this.g.vg&&(b=b+0.5|0,l=l+0.5|0),k.zo(b,l,r);h=s;if(!this.ij){for(m in this.ug)if(this.ug.hasOwnProperty(m)&&
(b=this.g.fl(parseInt(m,10)))&&!b.ha&&this.g.Po(b)){l=this.ug[m];a=0;for(f=l.length;a<f;a++){k=r;if(b.wc.ng&&(k=this.dl(l[a].w.l),!k))continue;k=this.g.dh(b.Qe,k,s,0,0,q);this.g.Ln(k,l[a]);h=q;d.push(k)}l.length=0}a=0;for(f=this.Ba.length;a<f;a++)this.Ba[a].A.sort(c),this.Ba[a].td=q}h&&(this.g.pc(),this.g.Br());for(a=0;a<d.length;a++)if(k=d[a],k.type.ve){f=k.oj();b=0;for(l=k.type.Rc.length;b<l;b++)m=k.type.Rc[b],k.type!==m&&(m.A.length>f?k.siblings.push(m.A[f]):m.Qe&&(h=this.g.dh(m.Qe,k.Q,q,k.x,k.y,
q),this.g.pc(),m.am(),k.siblings.push(h),d.push(h)))}a=0;for(f=this.jh.length;a<f;a++)this.g.dh(this.jh[a],r,q);this.g.Rm=r;this.g.pc();if(this.g.Pa&&!this.g.Xe){a=0;for(f=this.g.R.length;a<f;a++)m=this.g.R[a],!m.ha&&(m.A.length&&m.no)&&m.no(this.g.Pa)}a=0;for(f=d.length;a<f;a++)k=d[a],this.g.trigger(Object.getPrototypeOf(k.type.wc).ya.Hs,k);d.length=0;this.g.trigger(O.prototype.ya.Os,r);this.ij=s};a.prototype.Ct=function(){var a,b,c,d,h;b=a=0;for(c=this.jh.length;a<c;a++)d=this.jh[a],h=this.g.R[d[1]],
h.global?this.g.dh(d,r,q):(this.jh[b]=d,b++);this.jh.length=b};a.prototype.mw=function(){this.g.trigger(O.prototype.ya.Ns,r);this.g.nf.sd.length=0;var a,b,c,d,h,k;a=0;for(b=this.Ba.length;a<b;a++){h=this.Ba[a].A;c=0;for(d=h.length;c<d;c++)k=h[c],k.type.global||(this.g.Po(k.type)&&this.fw(k),this.g.Jh(k));this.g.pc();h.length=0;this.Ba[a].td=q}a=0;for(b=this.g.R.length;a<b;a++)if(h=this.g.R[a],!h.global&&!h.wc.ng&&!h.wc.Go&&!h.ha){c=0;for(d=h.A.length;c<d;c++)this.g.Jh(h.A[c]);this.g.pc()}};a.prototype.ig=
function(a){a.globalAlpha=1;a.globalCompositeOperation="source-over";this.g.Yp&&!this.zq()&&a.clearRect(0,0,this.g.width,this.g.height);var b,c,d;b=0;for(c=this.Ba.length;b<c;b++)d=this.Ba[b],d.visible&&(0<d.opacity&&11!==d.Nc)&&d.ig(a)};a.prototype.se=function(a){var b=0<this.Ka.length||this.g.Bi;if(b){this.g.we||(this.g.we=a.bh(this.g.width,this.g.height,this.g.yb));if(this.g.we.Om!==this.g.width||this.g.we.Nm!==this.g.height)a.deleteTexture(this.g.we),this.g.we=a.bh(this.g.width,this.g.height,
this.g.yb);a.Ag(this.g.we)}this.g.Yp&&!this.zq()&&a.clear(0,0,0,0);var c,d;c=0;for(d=this.Ba.length;c<d;c++)this.Ba[c].visible&&0<this.Ba[c].opacity&&this.Ba[c].se(a);b&&(1>=this.Ka.length?(1===this.Ka.length?(b=this.Ka[0].index,a.Gg(this.Ka[0].nc),a.$j(r,1/this.g.width,1/this.g.height,0,0,1,1,this.scale,this.pb[b]),a.po(this.Ka[0].nc)&&(this.g.$a=q)):a.Gg(0),a.Ag(r),a.Zj(1),a.Ge(this.g.we),a.hw(),a.Bh(),a.Eh(),b=this.g.width/2,c=this.g.height/2,a.to(-b,c,b,c,b,-c,-b,-c),a.Ge(r)):this.xo(a,r,r,r));
a.My()};a.prototype.nj=function(){return 0<this.Ka.length||this.g.Bi?this.g.we:r};a.prototype.vq=function(){var a=this.Ba[0].Td(),b,c,d;b=1;for(c=this.Ba.length;b<c;b++)d=this.Ba[b],0===d.Sj&&0===d.Tj||d.Td()<a&&(a=d.Td());return a};a.prototype.Ir=function(a){if(!this.Zr){var b=this.g.width*(1/this.vq())/2;a>this.width-b&&(a=this.width-b);a<b&&(a=b)}this.scrollX!==a&&(this.scrollX=a,this.g.$a=q)};a.prototype.Jr=function(a){if(!this.Zr){var b=this.g.height*(1/this.vq())/2;a>this.height-b&&(a=this.height-
b);a<b&&(a=b)}this.scrollY!==a&&(this.scrollY=a,this.g.$a=q)};a.prototype.yt=function(){this.Ir(this.scrollX);this.Jr(this.scrollY)};a.prototype.xo=function(a,b,c,d){var h=c?c.Ka:b?b.Ka:this.Ka,k=c?c.Q.Td():b?b.Td():1,m=this.g.ln,n,w,u,x,v=0,A=1,D,C=this.g.width,G=this.g.height,P=C/2,J=G/2,F=b?b.Xj:this.Xj,E=b?b.vo:this.vo,z=0,I=0,K=0,T=0,R=C,ja=C,Q=G,Da=G,pa=u=0,Ka=c?c.Q.ih():0;if(c){n=0;for(w=h.length;n<w;n++)u+=a.fy(h[n].nc),pa+=a.gy(h[n].nc);x=c.La;z=b.Ud(x.left,x.top,q);K=b.Ud(x.left,x.top,s);
R=b.Ud(x.right,x.bottom,q);Q=b.Ud(x.right,x.bottom,s);0!==Ka&&(n=b.Ud(x.right,x.top,q),w=b.Ud(x.right,x.top,s),I=b.Ud(x.left,x.bottom,q),T=b.Ud(x.left,x.bottom,s),x=Math.min(z,R,n,I),R=Math.max(z,R,n,I),z=x,x=Math.min(K,Q,w,T),Q=Math.max(K,Q,w,T),K=x);z-=u;K-=pa;R+=u;Q+=pa;E.left=z/C;E.top=1-K/G;E.right=R/C;E.bottom=1-Q/G;I=z=Math.floor(z);T=K=Math.floor(K);ja=R=Math.ceil(R);Da=Q=Math.ceil(Q);I-=u;T-=pa;ja+=u;Da+=pa;0>z&&(z=0);0>K&&(K=0);R>C&&(R=C);Q>G&&(Q=G);0>I&&(I=0);0>T&&(T=0);ja>C&&(ja=C);Da>
G&&(Da=G);F.left=z/C;F.top=1-K/G;F.right=R/C;F.bottom=1-Q/G}else F.left=E.left=0,F.top=E.top=0,F.right=E.right=1,F.bottom=E.bottom=1;pa=c&&((c.P||Ka)&&a.Ml(h[0].nc)||0!==u||0!==pa||1!==c.opacity||c.type.wc.jr)||b&&!c&&1!==b.opacity;a.hw();if(pa){m[v]||(m[v]=a.bh(C,G,this.g.yb));if(m[v].Om!==C||m[v].Nm!==G)a.deleteTexture(m[v]),m[v]=a.bh(C,G,this.g.yb);a.Gg(0);a.Ag(m[v]);D=Da-T;a.clearRect(I,G-T-D,ja-I,D);c?c.se(a):(a.Ge(this.g.Bd),a.Zj(b.opacity),a.Bh(),a.translate(-P,-J),a.Eh(),a.wg(z,Q,R,Q,R,K,
z,K,F));E.left=E.top=0;E.right=E.bottom=1;c&&(x=F.top,F.top=F.bottom,F.bottom=x);v=1;A=0}a.Zj(1);u=h.length-1;var Ka=a.wr(h[u].nc),La=0;n=0;for(w=h.length;n<w;n++){m[v]||(m[v]=a.bh(C,G,this.g.yb));if(m[v].Om!==C||m[v].Nm!==G)a.deleteTexture(m[v]),m[v]=a.bh(C,G,this.g.yb);a.Gg(h[n].nc);La=h[n].index;a.po(h[n].nc)&&(this.g.$a=q);0==n&&!pa?(a.Ag(m[v]),D=Da-T,x=G-T-D,a.clearRect(I,x,ja-I,D),c?(a.$j(d,1/c.width,1/c.height,E.left,E.top,E.right,E.bottom,k,c.pb[La]),c.se(a)):(a.$j(d,1/C,1/G,0,0,1,1,k,b?b.pb[La]:
this.pb[La]),a.Ge(b?this.g.Bd:this.g.we),a.Bh(),a.translate(-P,-J),a.Eh(),a.wg(z,Q,R,Q,R,K,z,K,F)),E.left=E.top=0,E.right=E.bottom=1,c&&!Ka&&(x=Q,Q=K,K=x)):(a.$j(d,1/C,1/G,E.left,E.top,E.right,E.bottom,k,c?c.pb[La]:b?b.pb[La]:this.pb[La]),n===u&&!Ka?(c?a.xi(c.xc,c.rc):b&&a.xi(b.xc,b.rc),a.Ag(d)):(a.Ag(m[v]),D=Da-T,x=G-T-D,a.clearRect(I,x,ja-I,D)),a.Ge(m[A]),a.Bh(),a.translate(-P,-J),a.Eh(),a.wg(z,Q,R,Q,R,K,z,K,F),n===u&&!Ka&&a.Ge(r));v=0===v?1:0;A=0===v?1:0}Ka&&(a.Gg(0),c?a.xi(c.xc,c.rc):b&&a.xi(b.xc,
b.rc),a.Ag(d),a.Ge(m[A]),a.Bh(),a.translate(-P,-J),a.Eh(),c&&1===h.length&&!pa?a.wg(z,K,R,K,R,Q,z,Q,F):a.wg(z,Q,R,Q,R,K,z,K,F),a.Ge(r))};a.prototype.dl=function(a){var b,c;b=0;for(c=this.Ba.length;b<c;b++)if(this.Ba[b].ua===a)return this.Ba[b];return r};a.prototype.ae=function(){var a,b,c,d={sx:this.scrollX,sy:this.scrollY,s:this.scale,a:this.P,w:this.width,h:this.height,fv:this.ij,persist:this.ug,fx:[],layers:{}};a=0;for(b=this.fa.length;a<b;a++)c=this.fa[a],d.fx.push({name:c.name,active:c.xd,params:this.pb[c.index]});
a=0;for(b=this.Ba.length;a<b;a++)c=this.Ba[a],d.layers[c.ua.toString()]=c.ae();return d};a.prototype.Ye=function(a){var b,c,d,h;this.scrollX=a.sx;this.scrollY=a.sy;this.scale=a.s;this.P=a.a;this.width=a.w;this.height=a.h;this.ug=a.persist;"undefined"!==typeof a.fv&&(this.ij=a.fv);var k=a.fx;b=0;for(c=k.length;b<c;b++)if(d=this.nn(k[b].name))d.xd=k[b].active,this.pb[d.index]=k[b].params;this.Zf();b=a.layers;for(h in b)b.hasOwnProperty(h)&&(a=this.dl(parseInt(h,10)))&&a.Ye(b[h])};Ra=a;b.prototype.Zf=
function(){this.Ka.length=0;var a,b,c;a=0;for(b=this.fa.length;a<b;a++)c=this.fa[a],c.xd&&this.Ka.push(c)};b.prototype.nn=function(a){var b,c,d;b=0;for(c=this.fa.length;b<c;b++)if(d=this.fa[b],d.name===a)return d;return r};b.prototype.Dt=function(){var a,b,c,l,h,k;b=a=0;for(c=this.Zh.length;a<c;a++){l=this.Zh[a];h=this.g.R[l[1]];k=this.g.Po(h);h=q;if(!k||this.Ra.ij)l=this.g.dh(l,this,q),d.push(l),l.type.global&&(h=s);h&&(this.Zh[b]=this.Zh[a],b++)}this.Zh.length=b;this.g.pc();!this.g.za&&this.fa.length&&
(this.Nc=this.Rt);this.dj=Na(this.Nc);this.g.Df&&Oa(this,this.Nc,this.g.Df)};b.prototype.sw=function(){if(this.td){var a,b;a=0;for(b=this.A.length;a<b;a++)this.A[a].Fh=a;this.td=s}};b.prototype.Td=function(){return this.Cu()*this.g.Ek};b.prototype.Cu=function(){return(this.scale*this.Ra.scale-1)*this.Uo+1};b.prototype.ih=function(){return this.eh?0:ua(this.Ra.P+this.P)};b.prototype.ig=function(a){this.zg=this.jn||1!==this.opacity||0!==this.Nc;var b=this.g.canvas,c=a;a.globalAlpha=1;a.globalCompositeOperation=
"source-over";this.zg&&(this.g.ul||(this.g.ul=document.createElement("canvas"),b=this.g.ul,b.width=this.g.width,b.height=this.g.height,this.g.Tq=b.getContext("2d")),b=this.g.ul,c=this.g.Tq,b.width!==this.g.width&&(b.width=this.g.width),b.height!==this.g.height&&(b.height=this.g.height),this.Dh&&c.clearRect(0,0,this.g.width,this.g.height));this.Dh||(c.fillStyle="rgb("+this.hg[0]+","+this.hg[1]+","+this.hg[2]+")",c.fillRect(0,0,this.g.width,this.g.height));c.save();this.eh=q;var d=this.Rh(q),h=this.Rh(s);
this.eh=s;this.g.vg&&(d=d+0.5|0,h=h+0.5|0);this.zo(d,h,c);var k=this.Td();c.scale(k,k);c.translate(-d,-h);for(var m,d=0,h=this.A.length;d<h;d++)if(k=this.A[d],k.visible&&!(0===k.width||0===k.height))k.rd(),m=k.La,m.right<this.ee||(m.bottom<this.ge||m.left>this.fe||m.top>this.de)||(c.globalCompositeOperation=k.dj,k.ig(c));c.restore();this.zg&&(a.globalCompositeOperation=this.dj,a.globalAlpha=this.opacity,a.drawImage(b,0,0))};b.prototype.zo=function(a,b,c){var d=this.Td();this.ee=a;this.ge=b;this.fe=
a+this.g.width*(1/d);this.de=b+this.g.height*(1/d);a=this.ih();0!==a&&(c&&(c.translate(this.g.width/2,this.g.height/2),c.rotate(-a),c.translate(this.g.width/-2,this.g.height/-2)),this.Yf.set(this.ee,this.ge,this.fe,this.de),this.Yf.offset((this.ee+this.fe)/-2,(this.ge+this.de)/-2),this.Ur.Lr(this.Yf,a),this.Ur.Sp(this.Yf),this.Yf.offset((this.ee+this.fe)/2,(this.ge+this.de)/2),this.ee=this.Yf.left,this.ge=this.Yf.top,this.fe=this.Yf.right,this.de=this.Yf.bottom)};b.prototype.se=function(a){var b=
this.g.width,c=this.g.height,d=0,h=0;if(this.zg=this.jn||1!==this.opacity||0<this.Ka.length||0!==this.Nc){this.g.Bd||(this.g.Bd=a.bh(this.g.width,this.g.height,this.g.yb));if(this.g.Bd.Om!==this.g.width||this.g.Bd.Nm!==this.g.height)a.deleteTexture(this.g.Bd),this.g.Bd=a.bh(this.g.width,this.g.height,this.g.yb);a.Ag(this.g.Bd);this.Dh&&a.clear(0,0,0,0)}this.Dh||a.clear(this.hg[0]/255,this.hg[1]/255,this.hg[2]/255,1);this.eh=q;var h=this.Rh(q),k=this.Rh(s);this.eh=s;this.g.vg&&(h=h+0.5|0,k=k+0.5|0);
this.zo(h,k,r);k=this.Td();a.Bh();a.scale(k,k);a.Zv(-this.ih());a.translate((this.ee+this.fe)/-2,(this.ge+this.de)/-2);a.Eh();var m,n,w;m=0;for(n=this.A.length;m<n;m++)if(w=this.A[m],w.visible&&!(0===w.width||0===w.height))if(w.rd(),d=w.La,!(d.right<this.ee||d.bottom<this.ge||d.left>this.fe||d.top>this.de))if(w.bs)if(d=w.Ka[0].nc,h=w.Ka[0].index,1===w.Ka.length&&!a.wr(d)&&!a.Ny(d)&&(!w.P&&!w.Q.ih()||!a.Ml(d))&&1===w.opacity&&!w.type.wc.jr){a.Gg(d);a.xi(w.xc,w.rc);a.po(d)&&(this.g.$a=q);var u=0,x=
0,v=0,A=0;a.Ml(d)&&(d=w.La,u=this.Ud(d.left,d.top,q),x=this.Ud(d.left,d.top,s),v=this.Ud(d.right,d.bottom,q),d=this.Ud(d.right,d.bottom,s),u/=b,x=1-x/c,v/=b,A=1-d/c);a.$j(this.zg?this.g.Bd:this.Ra.nj(),1/w.width,1/w.height,u,x,v,A,this.Td(),w.pb[h]);w.se(a)}else this.Ra.xo(a,this,w,this.zg?this.g.Bd:this.Ra.nj()),a.Bh(),a.scale(k,k),a.Zv(-this.ih()),a.translate((this.ee+this.fe)/-2,(this.ge+this.de)/-2),a.Eh();else a.Gg(0),a.xi(w.xc,w.rc),w.se(a);this.zg&&(d=this.Ka.length?this.Ka[0].nc:0,h=this.Ka.length?
this.Ka[0].index:0,0===this.Ka.length||1===this.Ka.length&&!a.wr(d)&&1===this.opacity?(1===this.Ka.length?(a.Gg(d),a.$j(this.Ra.nj(),1/this.g.width,1/this.g.height,0,0,1,1,this.Td(),this.pb[h]),a.po(d)&&(this.g.$a=q)):a.Gg(0),a.Ag(this.Ra.nj()),a.Zj(this.opacity),a.Ge(this.g.Bd),a.xi(this.xc,this.rc),a.Bh(),a.Eh(),b=this.g.width/2,c=this.g.height/2,a.to(-b,c,b,c,b,-c,-b,-c),a.Ge(r)):this.Ra.xo(a,this,r,this.Ra.nj()))};b.prototype.Rh=function(a){var b=0,c=0,d=this.g.devicePixelRatio;this.g.wj&&0<this.g.te&&
(b*=d,c*=d);var d=this.g.nd/2,h=this.g.md/2,d=(this.Ra.scrollX-d)*this.Sj+d,h=(this.Ra.scrollY-h)*this.Tj+h,k=1/this.Td(),d=d-this.g.width*k/2,h=h-this.g.height*k/2,d=d+b*k,h=h+c*k,c=this.ih();0!==c&&(d-=this.Ra.scrollX,h-=this.Ra.scrollY,b=Math.cos(c),c=Math.sin(c),k=d*b-h*c,h=h*b+d*c,d=k+this.Ra.scrollX,h+=this.Ra.scrollY);return a?d:h};b.prototype.Ud=function(a,b,c){var d=this.ih();if(0!==d){a-=this.Ra.scrollX;b-=this.Ra.scrollY;var h=Math.cos(-d),d=Math.sin(-d),k=a*h-b*d;b=b*h+a*d;a=k+this.Ra.scrollX;
b+=this.Ra.scrollY}h=this.g.nd/2;d=this.g.md/2;h=(this.Ra.scrollX-h)*this.Sj+h;d=(this.Ra.scrollY-d)*this.Tj+d;k=1/this.Td();h-=this.g.width*k/2;d-=this.g.height*k/2;h=(a-h)/k;d=(b-d)/k;a=this.g.devicePixelRatio;this.g.wj&&0<this.g.te&&(h/=a,d/=a);return c?h:d};b.prototype.ae=function(){var a,b,c,d={s:this.scale,a:this.P,vl:this.ee,vt:this.ge,vr:this.fe,vb:this.de,v:this.visible,bc:this.hg,t:this.Dh,px:this.Sj,py:this.Tj,o:this.opacity,zr:this.Uo,fx:[],instances:[]};a=0;for(b=this.fa.length;a<b;a++)c=
this.fa[a],d.fx.push({name:c.name,active:c.xd,params:this.pb[c.index]});return d};b.prototype.Ye=function(a){var b,d;this.scale=a.s;this.P=a.a;this.ee=a.vl;this.ge=a.vt;this.fe=a.vr;this.de=a.vb;this.visible=a.v;this.hg=a.bc;this.Dh=a.t;this.Sj=a.px;this.Tj=a.py;this.opacity=a.o;this.Uo=a.zr;var l=a.fx;a=0;for(b=l.length;a<b;a++)if(d=this.nn(l[a].name))d.xd=l[a].active,this.pb[d.index]=l[a].params;this.Zf();this.A.sort(c);this.td=q};Xa=b})();
(function(){function a(a,b){var c,d=a.length;switch(d){case 0:return q;case 1:return a[0]===b[0];case 2:return a[0]===b[0]&&a[1]===b[1];default:for(c=0;c<d;c++)if(a[c]!==b[c])return s;return q}}function b(a,b){return a.index-b.index}function c(c){var d,m,e,k;2===c.length?c[0].index>c[1].index&&(d=c[0],c[0]=c[1],c[1]=d):2<c.length&&c.sort(b);c.length>=u.length&&(u.length=c.length+1);u[c.length]||(u[c.length]=[]);k=u[c.length];d=0;for(m=k.length;d<m;d++)if(e=k[d],a(c,e))return e;k.push(c);return c}
function d(a,b){this.g=a;this.Wr={};this.lq={};this.pn=s;this.Dq=new Ha;this.name=b[0];var c=b[1];this.lg=[];var d,m;d=0;for(m=c.length;d<m;d++)this.Fq(c[d],r,this.lg)}function e(a){this.type=a;this.A=[];this.Va=[];this.Kb=q}function g(a,b,c){this.sheet=a;this.parent=b;this.g=a.g;this.Bb=[];this.Bg=[];this.Aq=this.Xl=this.Mo=this.tn=this.group=this.Or=s;this.Fb=[];this.me=[];this.be=[];c[1]?(this.pj=c[1][1].toLowerCase(),this.group=q,this.tn=!!c[1][0],this.g.Ph.push(this),this.g.Ck[this.pj.toLowerCase()]=
this.tn):(this.pj="",this.tn=this.group=s);this.jf=c[2];this.ua=c[3];this.group||(this.g.Qp[this.ua.toString()]=this);var d=c[4];a=0;for(b=d.length;a<b;a++){var m=new Ya(this,d[a]);this.Fb.push(m);this.Hp(m.type)}d=c[5];a=0;for(b=d.length;a<b;a++)m=new Za(this,d[a]),this.me.push(m);if(7===c.length){c=c[6];a=0;for(b=c.length;a<b;a++)this.sheet.Fq(c[a],this,this.be)}this.ml=s;this.Fb.length&&(this.ml=this.Fb[0].type==r&&this.Fb[0].Hb==O.prototype.ya.rs)}function f(a,b){var c,d,m;if(a&&(-1===b.indexOf(a)&&
b.push(a),a.ve)){c=0;for(d=a.Rc.length;c<d;c++)m=a.Rc[c],a!==m&&-1===b.indexOf(m)&&b.push(m)}}function l(a,b){this.Qd=a;this.sheet=a.sheet;this.g=a.g;this.ta=[];this.la=[];this.oa={};this.Hb=b[1];this.trigger=0<b[3];this.kq=2===b[3];this.oy=b[4];this.tj=b[5];this.dv=b[6];this.ua=b[7];this.g.Th[this.ua.toString()]=this;-1===b[0]?(this.type=r,this.Ub=this.Co,this.Yg=r,this.kc=-1):(this.type=this.g.R[b[0]],this.Ub=this.dv?this.cw:this.Bo,b[2]?(this.Yg=this.type.al(b[2]),this.kc=this.type.mn(b[2])):(this.Yg=
r,this.kc=-1),this.Qd.parent&&this.Qd.parent.Sl());this.kq&&(this.Ub=this.dw);if(9===b.length){var c,d,m=b[8];c=0;for(d=m.length;c<d;c++){var e=new $a(this,m[c]);this.ta.push(e)}this.la.length=m.length}}function h(a,b){this.Qd=a;this.sheet=a.sheet;this.g=a.g;this.ta=[];this.la=[];this.oa={};this.Hb=b[1];-1===b[0]?(this.type=r,this.Ub=this.Co,this.Yg=r,this.kc=-1):(this.type=this.g.R[b[0]],this.Ub=this.Bo,b[2]?(this.Yg=this.type.al(b[2]),this.kc=this.type.mn(b[2])):(this.Yg=r,this.kc=-1));this.ua=
b[3];this.g.Oh[this.ua.toString()]=this;if(5===b.length){var c,d,m=b[4];c=0;for(d=m.length;c<d;c++){var e=new $a(this,m[c]);this.ta.push(e)}this.la.length=m.length}}function k(a,b){this.aa=a;this.Qd=a.Qd;this.sheet=a.sheet;this.g=a.g;this.type=b[0];this.Se=r;this.$p=this.Cg=0;this.Ra=r;this.key=0;this.object=r;this.index=0;this.dm=this.Ai=this.mq=this.gh=this.fk=r;var c,d,m;switch(b[0]){case 0:case 7:this.Se=new ab(this,b[1]);this.Cg=0;this.get=this.Iu;break;case 1:this.Se=new ab(this,b[1]);this.Cg=
0;this.get=this.Ju;break;case 5:this.Se=new ab(this,b[1]);this.Cg=0;this.get=this.Nu;break;case 3:case 8:this.$p=b[1];this.get=this.Gu;break;case 6:this.Ra=this.g.Hn[b[1]];this.get=this.Ou;break;case 9:this.key=b[1];this.get=this.Mu;break;case 4:this.object=this.g.R[b[1]];this.get=this.Pu;this.Qd.Hp(this.object);this.aa instanceof Za?this.Qd.Sl():this.Qd.parent&&this.Qd.parent.Sl();break;case 10:this.index=b[1];this.get=a.type.ha?this.Ku:this.Lu;break;case 11:this.fk=b[1];this.gh=r;this.get=this.Hu;
break;case 2:case 12:this.mq=b[1];this.get=this.Fu;break;case 13:this.get=this.Qu;this.Ai=[];this.dm=[];c=1;for(d=b.length;c<d;c++)m=new $a(this.aa,b[c]),this.Ai.push(m),this.dm.push(0)}}function m(a,b,c){this.sheet=a;this.parent=b;this.g=a.g;this.Bb=[];this.name=c[1];this.Uy=c[2];this.sn=c[3];this.yj=!!c[4];this.ll=!!c[5];this.ua=c[6];this.g.Di[this.ua.toString()]=this;this.data=this.sn;this.parent?this.oh=this.yj||this.ll?-1:this.g.kw++:(this.oh=-1,this.g.qt.push(this))}function n(a,b,c){this.sheet=
a;this.parent=b;this.g=a.g;this.Bb=[];this.rj=r;this.Uu=c[1]}function w(){this.Rr=[];this.reset(r)}var u=[];d.prototype.toString=y("name");d.prototype.Fq=function(a,b,c){switch(a[0]){case 0:a=new bb(this,b,a);if(a.jf){c.push(a);c=0;for(b=a.Fb.length;c<b;c++)a.Fb[c].trigger&&this.Gq(a,c)}else a.Mq()?this.Gq(a,0):c.push(a);break;case 1:a=new Ua(this,b,a);c.push(a);break;case 2:a=new cb(this,b,a),c.push(a)}};d.prototype.zb=function(){var a,b;a=0;for(b=this.lg.length;a<b;a++)this.lg[a].zb(a<b-1&&this.lg[a+
1].ml)};d.prototype.Ub=function(){this.pn=q;this.g.xn=q;var a,b;a=0;for(b=this.lg.length;a<b;a++){var c=this.lg[a];c.Ub();this.g.Sm(c.Bb);(!this.g.Pe.uj()||this.g.Oe.length)&&this.g.pc()}this.g.xn=s};d.prototype.Gq=function(a,b){a.jf||this.g.$l.push(a);var c,d,m=a.Fb[b],e;e=m.type?m.type.name:"system";var k=(c=m.kq)?this.lq:this.Wr;k[e]||(k[e]=[]);e=k[e];k=m.Hb;if(c){if(m.ta.length&&(m=m.ta[0],!(1!==m.type||2!==m.Se.type))){m=m.Se.value.toLowerCase();c=0;for(d=e.length;c<d;c++)if(e[c].method==k){c=
e[c].Uk;c[m]?c[m].push([a,b]):c[m]=[[a,b]];return}c={};c[m]=[[a,b]];e.push({method:k,Uk:c})}}else{c=0;for(d=e.length;c<d;c++)if(e[c].method==k){e[c].Uk.push([a,b]);return}e.push({method:k,Uk:[[a,b]]})}};Sa=d;e.prototype.yq=function(){return this.Kb?this.type.A.length:this.A.length};e.prototype.We=function(){return this.Kb?this.type.A:this.A};e.prototype.Uj=function(a){a&&(a.g.zd().pe.jf?(this.Kb&&(this.A.length=0,qa(this.Va,a.type.A),this.Kb=s),a=this.Va.indexOf(a),-1!==a&&(this.A.push(this.Va[a]),
this.Va.splice(a,1))):(this.Kb=s,this.A.length=1,this.A[0]=a))};Qa=e;g.prototype.zb=function(a){var b,d=this.parent;if(this.group)for(this.Xl=q;d;){if(!d.group){this.Xl=s;break}d=d.parent}this.Mo=!this.Mq()&&(!this.parent||this.parent.group&&this.parent.Xl);this.Aq=!!a;this.Bg=this.Bb.slice(0);for(d=this.parent;d;){a=0;for(b=d.Bb.length;a<b;a++)this.ot(d.Bb[a]);d=d.parent}this.Bb=c(this.Bb);this.Bg=c(this.Bg);a=0;for(b=this.Fb.length;a<b;a++)this.Fb[a].zb();a=0;for(b=this.me.length;a<b;a++)this.me[a].zb();
a=0;for(b=this.be.length;a<b;a++)this.be[a].zb(a<b-1&&this.be[a+1].ml)};g.prototype.Hp=function(a){f(a,this.Bb)};g.prototype.ot=function(a){f(a,this.Bg)};g.prototype.Sl=function(){this.Or=q;this.parent&&this.parent.Sl()};g.prototype.Mq=function(){return this.Fb.length?this.Fb[0].trigger:s};g.prototype.Ub=function(){var a,b=s,c=this.g.zd();c.pe=this;this.ml||(c.bn=s);if(this.jf){0===this.Fb.length&&(b=q);c.Oc=0;for(a=this.Fb.length;c.Oc<a;c.Oc++)this.Fb[c.Oc].trigger||this.Fb[c.Oc].Ub()&&(b=q);(c.fi=
b)&&this.Ao()}else{c.Oc=0;for(a=this.Fb.length;c.Oc<a;c.Oc++)if(!this.Fb[c.Oc].Ub()){c.fi=s;this.Mo&&(!this.g.Pe.uj()||this.g.Oe.length)&&this.g.pc();return}c.fi=q;this.Ao()}c.fi&&this.Aq&&(c.bn=q);this.Mo&&(!this.g.Pe.uj()||this.g.Oe.length)&&this.g.pc()};g.prototype.aw=function(a){this.g.zd().pe=this;this.Fb[a].Ub()&&this.Ao()};g.prototype.Ao=function(){var a=this.g.zd(),b;a.Od=0;for(b=this.me.length;a.Od<b;a.Od++)if(this.me[a.Od].Ub())return;this.Dr()};g.prototype.Yv=function(){var a=this.g.zd(),
b;for(b=this.me.length;a.Od<b;a.Od++)if(this.me[a.Od].Ub())return;this.Dr()};g.prototype.Dr=function(){if(this.be.length){var a,b,c,d,m=this.be.length-1;this.g.so(this);if(this.Or){a=0;for(b=this.be.length;a<b;a++)c=this.be[a],(d=!this.Xl||!this.group&&a<m)&&this.g.ro(c.Bb),c.Ub(),d?this.g.wi(c.Bb):this.g.Sm(c.Bb)}else{a=0;for(b=this.be.length;a<b;a++)this.be[a].Ub()}this.g.rr()}};g.prototype.bw=function(){var a=this.g.zd();a.pe=this;var b=s,c;a.Oc=0;for(c=this.Fb.length;a.Oc<c;a.Oc++)if(this.Fb[a.Oc].Ub())b=
q;else if(!this.jf)return s;return this.jf?b:q};bb=g;l.prototype.zb=function(){var a,b;a=0;for(b=this.ta.length;a<b;a++)this.ta[a].zb()};l.prototype.dw=B(q);l.prototype.Co=function(){var a,b;a=0;for(b=this.ta.length;a<b;a++)this.la[a]=this.ta[a].get();return Ca(this.Hb.apply(this.g.nf,this.la),this.tj)};l.prototype.cw=function(){var a,b;a=0;for(b=this.ta.length;a<b;a++)this.la[a]=this.ta[a].get(a);a=this.Hb.apply(this.Yg?this.Yg:this.type,this.la);this.type.Dk();return a};l.prototype.Bo=function(){var a,
b,c,d,m,e,k,f=this.type.qb(),g=this.Qd.jf&&!this.trigger,h=0,n=this.type.ve;if(f.Kb){f.A.length=0;a=f.Va.length=0;for(c=this.type.A.length;a<c;a++){e=this.type.A[a];b=0;for(d=this.ta.length;b<d;b++)this.la[b]=this.ta[b].get(a);-1<this.kc?(this.type.ha&&(h=e.type.Xh[this.type.Te]),b=this.Hb.apply(e.xa[this.kc+h],this.la)):b=this.Hb.apply(e,this.la);(m=Ca(b,this.tj))?f.A.push(e):g&&f.Va.push(e)}this.type.finish&&this.type.finish(q);f.Kb=s;this.type.Dk();return f.yq()}var l=0,w=g?f.Va:f.A;m=s;a=0;for(c=
w.length;a<c;a++){e=w[a];b=0;for(d=this.ta.length;b<d;b++)this.la[b]=this.ta[b].get(a);-1<this.kc?(this.type.ha&&(h=e.type.Xh[this.type.Te]),b=this.Hb.apply(e.xa[this.kc+h],this.la)):b=this.Hb.apply(e,this.la);if(Ca(b,this.tj))if(m=q,g){if(f.A.push(e),n){b=0;for(d=e.siblings.length;b<d;b++)k=e.siblings[b],k.type.qb().A.push(k)}}else{w[l]=e;if(n){b=0;for(d=e.siblings.length;b<d;b++)k=e.siblings[b],k.type.qb().A[l]=k}l++}else if(g){w[l]=e;if(n){b=0;for(d=e.siblings.length;b<d;b++)k=e.siblings[b],k.type.qb().Va[l]=
k}l++}}w.length=l;if(n){a=0;for(c=this.type.Rc.length;a<c;a++)e=this.type.Rc[a].qb(),g?e.Va.length=l:e.A.length=l}h=m;if(g&&!m){a=0;for(c=f.A.length;a<c;a++){e=f.A[a];b=0;for(d=this.ta.length;b<d;b++)this.la[b]=this.ta[b].get(a);b=-1<this.kc?this.Hb.apply(e.xa[this.kc],this.la):this.Hb.apply(e,this.la);if(Ca(b,this.tj)){m=q;break}}}this.type.finish&&this.type.finish(h||g);return g?m:f.yq()};Ya=l;h.prototype.zb=function(){var a,b;a=0;for(b=this.ta.length;a<b;a++)this.ta[a].zb()};h.prototype.Co=function(){var a,
b;a=0;for(b=this.ta.length;a<b;a++)this.la[a]=this.ta[a].get();return this.Hb.apply(this.g.nf,this.la)};h.prototype.Bo=function(){var a=this.type.qb().We(),b,c,d,m,e;b=0;for(d=a.length;b<d;b++){e=a[b];c=0;for(m=this.ta.length;c<m;c++)this.la[c]=this.ta[c].get(b);-1<this.kc?(c=0,this.type.ha&&(c=e.type.Xh[this.type.Te]),this.Hb.apply(e.xa[this.kc+c],this.la)):this.Hb.apply(e,this.la)}return s};Za=h;var x=[],v=-1;k.prototype.zb=function(){var a,b;if(11===this.type)this.gh=this.g.tq(this.fk,this.Qd.parent);
else if(13===this.type){a=0;for(b=this.Ai.length;a<b;a++)this.Ai[a].zb()}this.Se&&this.Se.zb()};k.prototype.Tb=function(){v++;x.length===v&&x.push(new db);return x[v]};k.prototype.Jb=function(){v--};k.prototype.Iu=function(a){this.Cg=a||0;a=this.Tb();this.Se.get(a);this.Jb();return a.data};k.prototype.Ju=function(a){this.Cg=a||0;a=this.Tb();this.Se.get(a);this.Jb();return M(a.data)?a.data:""};k.prototype.Pu=y("object");k.prototype.Gu=y("$p");k.prototype.Nu=function(a){this.Cg=a||0;a=this.Tb();this.Se.get(a);
this.Jb();return a.cc()?this.g.Bu(a.data):this.g.Au(a.data)};k.prototype.Ou=y("Ra");k.prototype.Mu=y("key");k.prototype.Lu=y("index");k.prototype.Ku=function(a){var b=this.aa.type,c=r,c=b.qb(),d=c.We(),c=d.length?d[a%d.length].type:c.Va[a%c.Va.length].type;return this.index+c.Wk[b.Te]};k.prototype.Hu=y("gh");k.prototype.Fu=y("mq");k.prototype.Qu=function(){var a,b;a=0;for(b=this.Ai.length;a<b;a++)this.dm[a]=this.Ai[a].get();return this.dm};$a=k;m.prototype.zb=function(){this.Bb=c(this.Bb)};m.prototype.iw=
function(a){var b=this.g.rq();!this.parent||this.yj||!b?this.data=a:(this.oh>=b.length&&(b.length=this.oh+1),b[this.oh]=a)};m.prototype.Eu=function(){var a=this.g.rq();return!this.parent||this.yj||!a||this.ll?this.data:this.oh>=a.length||"undefined"===typeof a[this.oh]?this.sn:a[this.oh]};m.prototype.Ub=function(){this.parent&&(!this.yj&&!this.ll)&&this.iw(this.sn)};Ua=m;n.prototype.toString=function(){return"include:"+this.rj.toString()};n.prototype.zb=function(){this.rj=this.g.dn[this.Uu];this.sheet.Dq.add(this);
this.Bb=c(this.Bb)};n.prototype.Ub=function(){this.parent&&this.g.Wj(this.g.R);this.rj.pn||this.rj.Ub();this.parent&&this.g.wi(this.g.R)};n.prototype.Wu=function(){for(var a=this.parent;a;){if(a.group&&!this.g.Ck[a.pj.toLowerCase()])return s;a=a.parent}return q};cb=n;w.prototype.reset=function(a){this.pe=a;this.Od=this.Oc=0;this.Rr.length=0;this.bn=this.fi=s};Ta=w})();
(function(){function a(a,b){this.aa=a;this.g=a.g;this.type=b[0];this.get=[this.du,this.$t,this.lu,this.ou,this.Ut,this.mu,this.hu,this.Xt,this.gu,this.ku,this.Vt,this.ju,this.Yt,this.iu,this.eu,this.fu,this.au,this.bu,this.Wt,this.nu,this.iq,this.cu,this.iq,this.Zt][this.type];var e=r;this.kd=this.ta=this.la=this.Hb=this.Wl=this.gc=this.first=this.value=r;this.kc=-1;this.Ef=r;this.To=-1;this.gh=this.fk=this.wt=r;this.Yj=s;switch(this.type){case 0:case 1:case 2:this.value=b[1];break;case 3:this.first=
new ab(a,b[1]);break;case 18:this.first=new ab(a,b[1]);this.gc=new ab(a,b[2]);this.Wl=new ab(a,b[3]);break;case 19:this.Hb=b[1];this.la=[];this.ta=[];3===b.length?(e=b[2],this.la.length=e.length+1):this.la.length=1;break;case 20:this.kd=this.g.R[b[1]];this.kc=-1;this.Hb=b[2];this.Yj=b[3];this.Ef=b[4]?new ab(a,b[4]):r;this.la=[];this.ta=[];6===b.length?(e=b[5],this.la.length=e.length+1):this.la.length=1;break;case 21:this.kd=this.g.R[b[1]];this.Yj=b[2];this.Ef=b[3]?new ab(a,b[3]):r;this.To=b[4];break;
case 22:this.kd=this.g.R[b[1]];this.wt=this.kd.al(b[2]);this.kc=this.kd.mn(b[2]);this.Hb=b[3];this.Yj=b[4];this.Ef=b[5]?new ab(a,b[5]):r;this.la=[];this.ta=[];7===b.length?(e=b[6],this.la.length=e.length+1):this.la.length=1;break;case 23:this.fk=b[1],this.gh=r}4<=this.type&&17>=this.type&&(this.first=new ab(a,b[1]),this.gc=new ab(a,b[2]));if(e){var g,f;g=0;for(f=e.length;g<f;g++)this.ta.push(new ab(a,e[g]))}}function b(a,b){this.type=a||eb.Qi;this.data=b||0;this.ri=r;this.type==eb.Qi&&(this.data=
Math.floor(this.data))}a.prototype.zb=function(){23===this.type&&(this.gh=this.aa.g.tq(this.fk,this.aa.Qd.parent));this.first&&this.first.zb();this.gc&&this.gc.zb();this.Wl&&this.Wl.zb();this.Ef&&this.Ef.zb();if(this.ta){var a,b;a=0;for(b=this.ta.length;a<b;a++)this.ta[a].zb()}};a.prototype.nu=function(a){this.la[0]=a;a=this.aa.Tb();var b,e;b=0;for(e=this.ta.length;b<e;b++)this.ta[b].get(a),this.la[b+1]=a.data;this.aa.Jb();this.Hb.apply(this.g.nf,this.la)};a.prototype.iq=function(a){var b=this.kd.qb(),
e=b.We();if(!e.length)if(b.Va.length)e=b.Va;else{this.Yj?a.He(""):a.ab(0);return}this.la[0]=a;a.ri=this.kd;a=this.aa.Tb();var g,b=0;for(g=this.ta.length;b<g;b++)this.ta[b].get(a),this.la[b+1]=a.data;b=this.aa.Cg;this.Ef&&(this.Ef.get(a),a.cc()&&(b=a.data,e=this.kd.A));this.aa.Jb();b%=e.length;0>b&&(b+=e.length);e=e[b];-1<this.kc?(a=0,this.kd.ha&&(a=e.type.Xh[this.kd.Te]),this.Hb.apply(e.xa[this.kc+a],this.la)):this.Hb.apply(e,this.la)};a.prototype.cu=function(a){var b=this.kd.qb(),e=b.We();if(!e.length)if(b.Va.length)e=
b.Va;else{this.Yj?a.He(""):a.ab(0);return}b=this.aa.Cg;if(this.Ef){var g=this.aa.Tb();this.Ef.get(g);if(g.cc()){b=g.data;e=this.kd.A;b%=e.length;0>b&&(b+=e.length);e=e[b].ac[this.To];M(e)?a.He(e):a.Ha(e);this.aa.Jb();return}this.aa.Jb()}b%=e.length;0>b&&(b+=e.length);e=e[b];b=0;this.kd.ha&&(b=e.type.Wk[this.kd.Te]);e=e.ac[this.To+b];M(e)?a.He(e):a.Ha(e)};a.prototype.du=function(a){a.type=eb.Qi;a.data=this.value};a.prototype.$t=function(a){a.type=eb.Li;a.data=this.value};a.prototype.lu=function(a){a.type=
eb.Fm;a.data=this.value};a.prototype.ou=function(a){this.first.get(a);a.cc()&&(a.data=-a.data)};a.prototype.Ut=function(a){this.first.get(a);var b=this.aa.Tb();this.gc.get(b);a.cc()&&b.cc()&&(a.data+=b.data,b.ai()&&a.pi());this.aa.Jb()};a.prototype.mu=function(a){this.first.get(a);var b=this.aa.Tb();this.gc.get(b);a.cc()&&b.cc()&&(a.data-=b.data,b.ai()&&a.pi());this.aa.Jb()};a.prototype.hu=function(a){this.first.get(a);var b=this.aa.Tb();this.gc.get(b);a.cc()&&b.cc()&&(a.data*=b.data,b.ai()&&a.pi());
this.aa.Jb()};a.prototype.Xt=function(a){this.first.get(a);var b=this.aa.Tb();this.gc.get(b);a.cc()&&b.cc()&&(a.data/=b.data,a.pi());this.aa.Jb()};a.prototype.gu=function(a){this.first.get(a);var b=this.aa.Tb();this.gc.get(b);a.cc()&&b.cc()&&(a.data%=b.data,b.ai()&&a.pi());this.aa.Jb()};a.prototype.ku=function(a){this.first.get(a);var b=this.aa.Tb();this.gc.get(b);a.cc()&&b.cc()&&(a.data=Math.pow(a.data,b.data),b.ai()&&a.pi());this.aa.Jb()};a.prototype.Vt=function(a){this.first.get(a);var b=this.aa.Tb();
this.gc.get(b);a.cc()?b.nl()?a.He(a.data.toString()+b.data):a.data&&b.data?a.ab(1):a.ab(0):a.nl()&&(a.data=b.nl()?a.data+b.data:a.data+(Math.round(1E10*b.data)/1E10).toString());this.aa.Jb()};a.prototype.ju=function(a){this.first.get(a);var b=this.aa.Tb();this.gc.get(b);a.cc()&&b.cc()&&(a.data||b.data?a.ab(1):a.ab(0));this.aa.Jb()};a.prototype.Wt=function(a){this.first.get(a);a.data?this.gc.get(a):this.Wl.get(a)};a.prototype.Yt=function(a){this.first.get(a);var b=this.aa.Tb();this.gc.get(b);a.ab(a.data===
b.data?1:0);this.aa.Jb()};a.prototype.iu=function(a){this.first.get(a);var b=this.aa.Tb();this.gc.get(b);a.ab(a.data!==b.data?1:0);this.aa.Jb()};a.prototype.eu=function(a){this.first.get(a);var b=this.aa.Tb();this.gc.get(b);a.ab(a.data<b.data?1:0);this.aa.Jb()};a.prototype.fu=function(a){this.first.get(a);var b=this.aa.Tb();this.gc.get(b);a.ab(a.data<=b.data?1:0);this.aa.Jb()};a.prototype.au=function(a){this.first.get(a);var b=this.aa.Tb();this.gc.get(b);a.ab(a.data>b.data?1:0);this.aa.Jb()};a.prototype.bu=
function(a){this.first.get(a);var b=this.aa.Tb();this.gc.get(b);a.ab(a.data>=b.data?1:0);this.aa.Jb()};a.prototype.Zt=function(a){var b=this.gh.Eu();da(b)?a.Ha(b):a.He(b)};ab=a;b.prototype.ai=function(){return this.type===eb.Li};b.prototype.cc=function(){return this.type===eb.Qi||this.type===eb.Li};b.prototype.nl=function(){return this.type===eb.Fm};b.prototype.pi=function(){this.ai()||(this.nl()&&(this.data=parseFloat(this.data)),this.type=eb.Li)};b.prototype.ab=function(a){this.type=eb.Qi;this.data=
Math.floor(a)};b.prototype.Ha=function(a){this.type=eb.Li;this.data=a};b.prototype.He=function(a){this.type=eb.Fm;this.data=a};db=b;eb={Qi:0,Li:1,Fm:2}})();function O(a){this.g=a;this.sd=[]}
O.prototype.ae=function(){var a={},b,c,d,e,g,f,l,h;a.waits=[];var k=a.waits,m;b=0;for(c=this.sd.length;b<c;b++){f=this.sd[b];m={t:f.time,ev:f.gj.ua,sm:[],sols:{}};f.gj.me[f.Od]&&(m.act=f.gj.me[f.Od].ua);d=0;for(e=f.Bb.length;d<e;d++)m.sm.push(f.Bb[d].ua);for(g in f.od)if(f.od.hasOwnProperty(g)){l=this.g.R[parseInt(g,10)];h={sa:f.od[g].Gr,insts:[]};d=0;for(e=f.od[g].kh.length;d<e;d++)h.insts.push(f.od[g].kh[d].uid);m.sols[l.ua.toString()]=h}k.push(m)}return a};
O.prototype.Ye=function(a){a=a.waits;var b,c,d,e,g,f,l,h,k,m,n;b=this.sd.length=0;for(c=a.length;b<c;b++)if(f=a[b],h=this.g.Qp[f.ev.toString()]){k=-1;d=0;for(e=h.me.length;d<e;d++)if(h.me[d].ua===f.act){k=d;break}if(-1!==k){l={od:{},Bb:[],gq:s};l.time=f.t;l.gj=h;l.Od=k;d=0;for(e=f.sm.length;d<e;d++)(h=this.g.fl(f.sm[d]))&&l.Bb.push(h);for(g in f.sols)if(f.sols.hasOwnProperty(g)&&(h=this.g.fl(parseInt(g,10)))){k=f.sols[g];m={Gr:k.sa,kh:[]};d=0;for(e=k.insts.length;d<e;d++)(n=this.g.mj(k.insts[d]))&&
m.kh.push(n);l.od[h.index.toString()]=m}this.sd.push(l)}}};
(function(){function a(){}function b(){}var c=O.prototype;a.prototype.Os=B(q);a.prototype.Ns=B(q);a.prototype.rs=function(){var a=this.g.zd();return a.bn?s:!a.fi};a.prototype.pp=B(q);a.prototype.Gs=B(q);a.prototype.xm=B(q);a.prototype.Ps=B(q);a.prototype.wm=B(q);c.ya=new a;var d=[],e=[];c.Pd=new (t());b.prototype["int"]=function(a,b){M(b)?(a.ab(parseInt(b,10)),isNaN(a.data)&&(a.data=0)):a.ab(b)};b.prototype["float"]=function(a,b){M(b)?(a.Ha(parseFloat(b)),isNaN(a.data)&&(a.data=0)):a.Ha(b)};b.prototype.random=
function(a,b,c){c===p?a.Ha(Math.random()*b):a.Ha(Math.random()*(c-b)+b)};b.prototype.sqrt=function(a,b){a.Ha(Math.sqrt(b))};b.prototype.abs=function(a,b){a.Ha(Math.abs(b))};b.prototype.round=function(a,b){a.ab(Math.round(b))};b.prototype.floor=function(a,b){a.ab(Math.floor(b))};b.prototype.ceil=function(a,b){a.ab(Math.ceil(b))};b.prototype.sin=function(a,b){a.Ha(Math.sin(N(b)))};b.prototype.cos=function(a,b){a.Ha(Math.cos(N(b)))};b.prototype.asin=function(a,b){a.Ha(sa(Math.asin(b)))};b.prototype.acos=
function(a,b){a.Ha(sa(Math.acos(b)))};b.prototype.max=function(a){var b=arguments[1],c,d;c=2;for(d=arguments.length;c<d;c++)b<arguments[c]&&(b=arguments[c]);a.Ha(b)};b.prototype.min=function(a){var b=arguments[1],c,d;c=2;for(d=arguments.length;c<d;c++)b>arguments[c]&&(b=arguments[c]);a.Ha(b)};b.prototype.ka=function(a){a.Ha(this.g.ka)};b.prototype.Ig=function(a){a.Ha(this.g.Ig)};b.prototype.time=function(a){a.Ha(this.g.ei.Fg)};b.prototype.Hg=function(a){a.ab(this.g.Hg)};b.prototype.Kl=function(a){a.ab(this.g.Kl)};
b.prototype.kn=function(a){a.ab(this.g.kn)};b.prototype.Bf=function(a,b,c,d,e){a.Ha(Ba(b,c,d,e))};b.prototype.P=function(a,b,c,d,e){a.Ha(sa(xa(b,c,d,e)))};b.prototype.left=function(a,b,c){a.He(M(b)?b.substr(0,c):"")};b.prototype.right=function(a,b,c){a.He(M(b)?b.substr(b.length-c):"")};b.prototype.replace=function(a,b,c,d){M(b)&&M(c)&&M(d)?a.He(b.replace(RegExp(Ja(c),"gi"),d)):a.He(M(b)?b:"")};b.prototype.Xm=function(a){a.Ha(this.g.Xm/1E3)};b.prototype.xl=function(a){a.Ha(this.g.xl)};c.hh=new b;c.$v=
function(){var a,b,c,h,k,m,n=this.g.zd();a=0;for(c=this.sd.length;a<c;a++)if(h=this.sd[a],!(h.time>this.g.ei.Fg)){n.pe=h.gj;n.Od=h.Od;n.Oc=0;for(b in h.od)h.od.hasOwnProperty(b)&&(k=this.g.R[parseInt(b,10)].qb(),m=h.od[b],k.Kb=m.Gr,qa(k.A,m.kh),k=m,k.kh.length=0,e.push(k));h.gj.Yv();this.g.Sm(h.Bb);h.gq=q}b=a=0;for(c=this.sd.length;a<c;a++)h=this.sd[a],this.sd[b]=h,h.gq?(Fa(h.od),h.Bb.length=0,d.push(h)):b++;this.sd.length=b}})();
function hb(a){var b=a[0].prototype,c=a[1],d=a[3],e=a[4],g=a[5],f=a[6],l=a[7];a=a[8];b.ya||(b.ya={});b.Pd||(b.Pd={});b.hh||(b.hh={});var h=b.ya,k=b.Pd,b=b.hh;d&&(h.Pw=function(a,b){return Cb(this.x,a,b)},h.Qw=function(a,b){return Cb(this.y,a,b)},h.$w=function(){var a=this.Q;this.rd();var b=this.La;return!(b.right<a.ee||b.bottom<a.ge||b.left>a.fe||b.top>a.de)},h.ax=function(){this.rd();var a=this.La,b=this.g.kb;return 0>a.right||0>a.bottom||a.left>b.width||a.top>b.height},h.tx=function(a,b,c){var d=
this.qb(),e=d.We();if(!e.length)return s;var k=e[0],f=k,g=Ba(k.x,k.y,b,c),h,l,P;h=1;for(l=e.length;h<l;h++)if(k=e[h],P=Ba(k.x,k.y,b,c),0===a&&P<g||1===a&&P>g)g=P,f=k;d.Uj(f);return q},k.Qx=function(a){this.x!==a&&(this.x=a,this.Ab())},k.Rx=function(a){this.y!==a&&(this.y=a,this.Ab())},k.Kx=function(a,b){if(this.x!==a||this.y!==b)this.x=a,this.y=b,this.Ab()},k.Lx=function(a,b){var c=a.Du(this);if(c){var d;c.Ve?(d=c.Ve(b,q),c=c.Ve(b,s)):(d=c.x,c=c.y);if(this.x!==d||this.y!==c)this.x=d,this.y=c,this.Ab()}},
k.jx=function(a){0!==a&&(this.x+=Math.cos(this.P)*a,this.y+=Math.sin(this.P)*a,this.Ab())},k.ix=function(a,b){0!==b&&(this.x+=Math.cos(N(a))*b,this.y+=Math.sin(N(a))*b,this.Ab())},b.Xx=function(a){a.Ha(this.x)},b.Yx=function(a){a.Ha(this.y)},b.ka=function(a){a.Ha(this.g.sq(this))});e&&(h.Ow=function(a,b){return Cb(this.width,a,b)},h.Lw=function(a,b){return Cb(this.height,a,b)},k.Px=function(a){this.width!==a&&(this.width=a,this.Ab())},k.Hx=function(a){this.height!==a&&(this.height=a,this.Ab())},k.Mx=
function(a,b){if(this.width!==a||this.height!==b)this.width=a,this.height=b,this.Ab()},b.Wx=function(a){a.Ha(this.width)},b.Uw=function(a){a.Ha(this.height)},b.Hw=function(a){this.rd();a.Ha(this.La.left)},b.Jw=function(a){this.rd();a.Ha(this.La.top)},b.Iw=function(a){this.rd();a.Ha(this.La.right)},b.Gw=function(a){this.rd();a.Ha(this.La.bottom)});g&&(h.Aw=function(a,b){return ya(this.P,N(b))<=N(a)},h.Yw=function(a){return Aa(this.P,N(a))},h.Ww=function(a,b){var c=wa(a),d=wa(b),e=ua(this.P);return Aa(d,
c)?Aa(e,c)&&!Aa(e,d):!(!Aa(e,c)&&Aa(e,d))},k.zk=function(a){a=N(ta(a));!isNaN(a)&&this.P!==a&&(this.P=a,this.Ab())},k.Ax=function(a){0!==a&&!isNaN(a)&&(this.P+=N(a),this.P=ua(this.P),this.Ab())},k.Bx=function(a){0!==a&&!isNaN(a)&&(this.P-=N(a),this.P=ua(this.P),this.Ab())},k.Cx=function(a,b){var c=za(this.P,N(b),N(a));!isNaN(c)&&this.P!==c&&(this.P=c,this.Ab())},k.Dx=function(a,b,c){a=za(this.P,Math.atan2(c-this.y,b-this.x),N(a));!isNaN(a)&&this.P!==a&&(this.P=a,this.Ab())},k.Nx=function(a,b){var c=
Math.atan2(b-this.y,a-this.x);!isNaN(c)&&this.P!==c&&(this.P=c,this.Ab())},b.zw=function(a){a.Ha(va(this.P))});c||(h.Mw=function(a,b,c){return Cb(this.ac[a],b,c)},h.Xw=function(a){return this.ac[a]},h.ux=function(a,b){var c=this.qb(),d=c.We();if(!d.length)return s;var e=d[0],k=e,f=e.ac[b],g,h,l;g=1;for(h=d.length;g<h;g++)if(e=d[g],l=e.ac[b],0===a&&l<f||1===a&&l>f)f=l,k=e;c.Uj(k);return q},h.rx=function(a){var b,c,d,e,k;if(this.g.vu().tj){k=this.qb();if(k.Kb){k.Kb=s;k.A.length=0;k.Va.length=0;d=this.A;
b=0;for(c=d.length;b<c;b++)e=d[b],e.uid===a?k.Va.push(e):k.A.push(e)}else{d=b=0;for(c=k.A.length;b<c;b++)e=k.A[b],k.A[d]=e,e.uid===a?k.Va.push(e):d++;k.A.length=d}return!!k.A.length}e=this.g.mj(a);if(!e)return s;k=this.qb();if(!k.Kb&&-1===k.A.indexOf(e))return s;if(this.ha){a=e.type.Wa;b=0;for(c=a.length;b<c;b++)if(a[b]===this)return k.Uj(e),q}else if(e.type===this)return k.Uj(e),q;return s},h.Hs=B(q),h.Is=B(q),k.Ix=function(a,b){var c=this.ac;da(c[a])?c[a]=da(b)?b:parseFloat(b):M(c[a])&&(c[a]=M(b)?
b:b.toString())},k.yw=function(a,b){var c=this.ac;da(c[a])?c[a]=da(b)?c[a]+b:c[a]+parseFloat(b):M(c[a])&&(c[a]=M(b)?c[a]+b:c[a]+b.toString())},k.Sx=function(a,b){var c=this.ac;da(c[a])&&(c[a]=da(b)?c[a]-b:c[a]-parseFloat(b))},k.Ex=function(a,b){this.ac[a]=b?1:0},k.Ux=function(a){this.ac[a]=1-this.ac[a]},k.Mc=function(){this.g.Jh(this)},b.Rw=function(a){var b=a.ri.A.length,c,d,e;c=0;for(d=this.g.Oe.length;c<d;c++)e=this.g.Oe[c],a.ri.ha?0<=e.type.Wa.indexOf(a.ri)&&b++:e.type===a.ri&&b++;a.ab(b)},b.xx=
function(a){a.ab(a.ri.qb().We().length)},b.Vx=function(a){a.ab(this.uid)},b.Vw=function(a){a.ab(this.oj())});f&&(h.cx=y("visible"),k.Ox=function(a){!a!==!this.visible&&(this.visible=a,this.g.$a=q)},h.Nw=function(a,b){return Cb(Pa(100*this.opacity),a,b)},k.Jx=function(a){a/=100;0>a?a=0:1<a&&(a=1);a!==this.opacity&&(this.opacity=a,this.g.$a=q)},b.Opacity=function(a){a.Ha(Pa(100*this.opacity))});l&&(h.Zw=function(a){return!a?s:this.Q===a},h.wx=function(a){var b=this.qb(),c=b.We();if(!c.length)return s;
var d=c[0],e=d,k,f;k=1;for(f=c.length;k<f;k++)if(d=c[k],0===a){if(d.Q.index>e.Q.index||d.Q.index===e.Q.index&&d.Ad()>e.Ad())e=d}else if(d.Q.index<e.Q.index||d.Q.index===e.Q.index&&d.Ad()<e.Ad())e=d;b.Uj(e);return q},k.mx=function(){var a=this.Ad();a!==this.Q.A.length-1&&(oa(this.Q.A,a),this.Q.A.push(this),this.g.$a=q,this.Q.td=q)},k.kx=function(){var a=this.Ad();0!==a&&(oa(this.Q.A,a),this.Q.A.unshift(this),this.g.$a=q,this.Q.td=q)},k.lx=function(a){a&&a!=this.Q&&(oa(this.Q.A,this.Ad()),this.Q.td=
q,this.Q=a,this.Fh=a.A.length,a.A.push(this),this.g.$a=q)},k.$x=function(a,b){var c=0===a;if(b){var d=b.wu(this);if(d&&d.uid!==this.uid){this.Q.index!==d.Q.index&&(oa(this.Q.A,this.Ad()),this.Q.td=q,this.Q=d.Q,this.Fh=d.Q.A.length,d.Q.A.push(this));var e=this.Ad(),d=d.Ad();oa(this.Q.A,e);e<d&&d--;c&&d++;d===this.Q.A.length?this.Q.A.push(this):this.Q.A.splice(d,0,this);this.Q.td=q;this.g.$a=q}}},b.gx=function(a){a.ab(this.Q.mr)},b.dx=function(a){a.He(this.Q.name)},b.Zx=function(a){a.ab(this.Ad())});
a&&(k.Fx=function(a,b){if(this.g.za){var c=this.type.on(b);if(!(0>c)){var d=1===a;this.gg[c]!==d&&(this.gg[c]=d,this.Zf(),this.g.$a=q)}}},k.Gx=function(a,b,c){if(this.g.za){var d=this.type.on(a);0>d||(a=this.type.fa[d],d=this.pb[d],b=Math.floor(b),0>b||b>=d.length||(1===this.g.za.hy(a.nc,b)&&(c/=100),d[b]!==c&&(d[b]=c,a.xd&&(this.g.$a=q))))}})}function wb(){this.Mm=q;this.g.$a=q;var a,b;a=0;for(b=this.Fk.length;a<b;a++)this.Fk[a](this)}function xb(a){a&&this.Fk.push(a)}
function zb(){if(this.Mm){this.La.set(this.x,this.y,this.x+this.width,this.y+this.height);this.La.offset(-this.Sc*this.width,-this.Tc*this.height);this.P?(this.La.offset(-this.x,-this.y),this.lc.Lr(this.La,this.P),this.lc.offset(this.x,this.y),this.lc.Sp(this.La)):this.lc.Eo(this.La);var a=0;this.La.left>this.La.right&&(a=this.La.left,this.La.left=this.La.right,this.La.right=a);this.La.top>this.La.bottom&&(a=this.La.top,this.La.top=this.La.bottom,this.La.bottom=a);this.Mm=s}}
function yb(a,b){return!this.La.Vh(a,b)||!this.lc.Vh(a,b)?s:this.Pc&&!this.Pc.Lq()?(this.Pc.Vp(this.width,this.height,this.P),this.Pc.Vh(a-this.x,b-this.y)):q}function ub(){this.type.am();return this.qj}function Ab(){this.Q.sw();return this.Fh}function Bb(){this.Ka.length=0;var a,b;a=0;for(b=this.gg.length;a<b;a++)this.gg[a]&&this.Ka.push(this.type.fa[a]);this.bs=!!this.Ka.length}function vb(){return"Inst"+this.yr}
function jb(a){if(a&&a.ve&&a.type!=this){var b,c,d;b=0;for(c=a.siblings.length;b<c;b++)if(d=a.siblings[b],d.type==this)return d}a=this.qb().We();return a.length?a[0]:r}function kb(a){var b=this.qb().We();return b.length?b[a.oj()%b.length]:r}function ib(){if(this.Eg&&!this.ha){var a,b;a=0;for(b=this.A.length;a<b;a++)this.A[a].qj=a;this.Eg=s}}function lb(){return this.Dg[this.Af]}function mb(){this.Af++;this.Af===this.Dg.length?this.Dg.push(new Qa(this)):this.Dg[this.Af].Kb=q}
function nb(){this.Af++;this.Af===this.Dg.length&&this.Dg.push(new Qa(this));var a=this.Dg[this.Af],b=this.Dg[this.Af-1];b.Kb?a.Kb=q:(a.Kb=s,qa(a.A,b.A))}function ob(){this.Af--}function pb(a){var b,c,d,e,g,f=0;if(!this.ha){b=0;for(c=this.Wa.length;b<c;b++){g=this.Wa[b];d=0;for(e=g.Eb.length;d<e;d++){if(a===g.Eb[d].name)return this.oa.Pq=f,g.Eb[d];f++}}}b=0;for(c=this.Eb.length;b<c;b++){if(a===this.Eb[b].name)return this.oa.Pq=f,this.Eb[b];f++}return r}
function qb(a){return this.al(a)?this.oa.Pq:-1}function rb(a){var b,c;b=0;for(c=this.fa.length;b<c;b++)if(this.fa[b].name===a)return b;return-1}
function sb(){if(this.ve&&!this.ha){var a,b,c,d,e,g,f;this.am();g=this.qb();var l=g.Kb,h=(a=this.g.zd())&&a.pe&&a.pe.jf;a=0;for(b=this.Rc.length;a<b;a++)if(e=this.Rc[a],e!==this&&(e.am(),f=e.qb(),f.Kb=l,!l)){f.A.length=g.A.length;c=0;for(d=g.A.length;c<d;c++)f.A[c]=e.A[g.A[c].qj];if(h){f.Va.length=g.Va.length;c=0;for(d=g.Va.length;c<d;c++)f.Va[c]=e.A[g.Va[c].qj]}}}}function tb(){return"Type"+this.ua}
function Cb(a,b,c){if("undefined"===typeof a||"undefined"===typeof c)return s;switch(b){case 0:return a===c;case 1:return a!==c;case 2:return a<c;case 3:return a<=c;case 4:return a>c;case 5:return a>=c;default:return s}}function Db(a){this.g=a}
(function(){function a(){}var b=Db.prototype;b.vf=function(a){this.wc=a;this.g=a.g};b.vf.prototype.mc=t();b.Md=function(a){this.type=a;this.g=a.g;this.ql=Array(256);this.cm=Array(256);this.Jg=0};var c=b.Md.prototype;c.mc=function(){var a=this;this.g.Xe||(jQuery(document).keydown(function(b){a.Pv(b)}),jQuery(document).keyup(function(b){a.Qv(b)}))};var d=[32,33,34,35,36,37,38,39,40,44];c.Pv=function(a){var b=s;window!=window.top&&-1<d.indexOf(a.which)&&(a.preventDefault(),b=q,a.stopPropagation());if(this.ql[a.which])this.cm[a.which]&&
!b&&a.preventDefault();else{this.ql[a.which]=q;this.Jg=a.which;this.g.trigger(Db.prototype.ya.Es,this);var c=this.g.trigger(Db.prototype.ya.Js,this),l=this.g.trigger(Db.prototype.ya.Ks,this);if(c||l)this.cm[a.which]=q,b||a.preventDefault()}};c.Qv=function(a){this.ql[a.which]=s;this.Jg=a.which;this.g.trigger(Db.prototype.ya.Fs,this);var b=this.g.trigger(Db.prototype.ya.Ms,this),c=this.g.trigger(Db.prototype.ya.Ls,this);if(b||c||this.cm[a.which])this.cm[a.which]=q,a.preventDefault()};c.ae=function(){return{triggerKey:this.Jg}};
c.Ye=function(a){this.Jg=a.triggerKey};a.prototype.rm=function(a){return this.ql[a]};a.prototype.Js=function(a){return a===this.Jg};a.prototype.Es=B(q);a.prototype.Fs=B(q);a.prototype.Ms=function(a){return a===this.Jg};a.prototype.Ks=function(a){return a===this.Jg};a.prototype.Ls=function(a){return a===this.Jg};b.ya=new a;b.Pd=new (t());b.hh=new (t())})();function Eb(a){this.g=a}
(function(){function a(){if(0===this.Zm.length){var a=document.createElement("canvas");a.width=this.width;a.height=this.height;var b=a.getContext("2d");this.yi?b.drawImage(this.Ea,this.ti,this.vi,this.width,this.height,0,0,this.width,this.height):b.drawImage(this.Ea,0,0,this.width,this.height);this.Zm=a.toDataURL("image/png")}return this.Zm}function b(){}function c(){}var d=Eb.prototype;d.vf=function(a){this.wc=a;this.g=a.g};var e=d.vf.prototype;e.mc=function(){if(!this.ha){var b,c,d,e,f,g,h,l,D;
this.ne=[];this.il=s;b=0;for(c=this.bd.length;b<c;b++){f=this.bd[b];h={};h.name=f[0];h.speed=f[1];h.loop=f[2];h.yo=f[3];h.Pl=f[4];h.or=f[5];h.ua=f[6];h.frames=[];d=0;for(e=f[7].length;d<e;d++)g=f[7][d],l={},l.Io=g[0],l.Jo=g[1],l.ti=g[2],l.vi=g[3],l.width=g[4],l.height=g[5],l.duration=g[6],l.Sc=g[7],l.Tc=g[8],l.qn=g[9],l.Ll=g[10],l.qr=g[11],l.yi=0!==l.width,l.Zm="",l.ey=a,D={left:0,top:0,right:1,bottom:1},l.Fo=D,l.lb=r,(D=this.g.ru(g[0]))?l.Ea=D:(l.Ea=new Image,l.Ea.src=g[0],l.Ea.Bt=g[0],l.Ea.dq=g[1],
l.Ea.zt=r,this.g.$f.push(l.Ea)),h.frames.push(l),this.ne.push(l);this.bd[b]=h}}};e.rw=function(){var a,b,c;a=0;for(b=this.A.length;a<b;a++)c=this.A[a],c.Nk=c.Rd.lb};e.ko=function(){if(!this.ha){var a,b,c;a=0;for(b=this.ne.length;a<b;++a)c=this.ne[a],c.Ea.zt=r,c.lb=r}};e.lo=function(){if(!this.ha&&this.A.length){var a,b,c;a=0;for(b=this.ne.length;a<b;++a)c=this.ne[a],c.lb=this.g.za.Mn(c.Ea,s,this.g.yb,c.qr);this.rw()}};e.Nn=function(){if(!this.ha&&!this.il&&this.g.za){var a,b,c;a=0;for(b=this.ne.length;a<
b;++a)c=this.ne[a],c.lb=this.g.za.Mn(c.Ea,s,this.g.yb,c.qr);this.il=q}};e.Qo=function(){if(!this.ha&&!this.A.length&&this.il){var a,b,c;a=0;for(b=this.ne.length;a<b;++a)c=this.ne[a],this.g.za.deleteTexture(c.lb);this.il=s}};var g=[];e.no=function(a){var b,c,d;b=g.length=0;for(c=this.ne.length;b<c;++b)d=this.ne[b].Ea,-1===g.indexOf(d)&&(a.drawImage(d,0,0),g.push(d))};d.Md=function(a){this.type=a;this.g=a.g;a=this.type.bd[0].frames[0].Ll;this.kf?this.Pc.ak(a):this.Pc=new Ma(a)};var f=d.Md.prototype;
f.mc=function(){this.visible=0===this.fc[0];this.Cq=this.$u=s;this.Uh=0!==this.fc[3];!(1===this.type.bd.length&&1===this.type.bd[0].frames.length)&&0!==this.type.bd[0].speed&&(this.g.pw(this),this.$u=q);this.Ua=this.qq(this.fc[1])||this.type.bd[0];this.T=this.fc[2];0>this.T&&(this.T=0);this.T>=this.Ua.frames.length&&(this.T=this.Ua.frames.length-1);var a=this.Ua.frames[this.T];this.Pc.ak(a.Ll);this.Sc=a.Sc;this.Tc=a.Tc;this.ej=this.Ua.speed;this.Cf=this.el();this.Xg=q;this.xf=0;this.Wg=q;this.Qm=
this.Kp="";this.At=0;this.Pm=-1;this.type.Nn();var b,c,d,e,f,g,h,a=0;for(b=this.type.bd.length;a<b;a++){e=this.type.bd[a];c=0;for(d=e.frames.length;c<d;c++)f=e.frames[c],0===f.width&&(f.width=f.Ea.width,f.height=f.Ea.height),f.yi&&(h=f.Ea,g=f.Fo,g.left=f.ti/h.width,g.top=f.vi/h.height,g.right=(f.ti+f.width)/h.width,g.bottom=(f.vi+f.height)/h.height,0===f.ti&&(0===f.vi&&f.width===h.width&&f.height===h.height)&&(f.yi=s))}this.Rd=this.Ua.frames[this.T];this.Nk=this.Rd.lb};f.ae=function(){var a={a:this.Ua.ua,
f:this.T,cas:this.ej,fs:this.Cf,ar:this.xf};this.Xg||(a.ap=this.Xg);this.Wg||(a.af=this.Wg);return a};f.Ye=function(a){var b=this.tu(a.a);b&&(this.Ua=b);this.T=a.f;0>this.T&&(this.T=0);this.T>=this.Ua.frames.length&&(this.T=this.Ua.frames.length-1);this.ej=a.cas;this.Cf=a.fs;this.xf=a.ar;this.Xg=a.hasOwnProperty("ap")?a.ap:q;this.Wg=a.hasOwnProperty("af")?a.af:q;this.Rd=this.Ua.frames[this.T];this.Nk=this.Rd.lb;this.Pc.ak(this.Rd.Ll);this.Sc=this.Rd.Sc;this.Tc=this.Rd.Tc};f.Lm=function(a){this.T=
a?0:this.Ua.frames.length-1;this.Xg=s;this.Kp=this.Ua.name;this.Cq=q;this.g.trigger(Eb.prototype.ya.Ds,this);this.g.trigger(Eb.prototype.ya.Cs,this);this.Cq=s;this.xf=0};f.el=function(){return(Date.now()-this.g.bk)/1E3};f.Ch=function(){this.Qm.length&&this.Ft();0<=this.Pm&&this.Gt();var a=this.el(),b=this.Ua,c=b.frames[this.T],d=c.duration/this.ej,e=this.g.Ig;-1!==this.zh&&(e=this.zh);d/=0===e?1E-9:e;if(this.Xg&&a>=this.Cf+d){this.Wg?this.T++:this.T--;this.Cf+=d;this.T>=b.frames.length&&(b.or?(this.Wg=
s,this.T=b.frames.length-2):b.loop?this.T=b.Pl:(this.xf++,this.xf>=b.yo?this.Lm(s):this.T=b.Pl));0>this.T&&(b.or?(this.T=1,this.Wg=q,b.loop||(this.xf++,this.xf>=b.yo&&this.Lm(q))):b.loop?this.T=b.Pl:(this.xf++,this.xf>=b.yo?this.Lm(q):this.T=b.Pl));0>this.T?this.T=0:this.T>=b.frames.length&&(this.T=b.frames.length-1);if(a>this.Cf+b.frames[this.T].duration/this.ej/(0===e?1E-9:e))this.Cf=a;a=b.frames[this.T];this.Ui(c,a);this.g.$a=q}};f.qq=function(a){var b,c,d=a.toLowerCase();a=0;for(b=this.type.bd.length;a<
b;a++)if(c=this.type.bd[a],c.name.toLowerCase()===d)return c;return r};f.tu=function(a){var b,c,d;b=0;for(c=this.type.bd.length;b<c;b++)if(d=this.type.bd[b],d.ua===a)return d;return r};f.Ft=function(){var a=this.Ua.frames[this.T],b=this.qq(this.Qm);this.Qm="";b&&!(b.name.toLowerCase()===this.Ua.name.toLowerCase()&&this.Xg)&&(this.Ua=b,this.ej=b.speed,0>this.T&&(this.T=0),this.T>=this.Ua.frames.length&&(this.T=this.Ua.frames.length-1),1===this.At&&(this.T=0),this.Xg=q,this.Cf=this.el(),this.Wg=q,this.Ui(a,
this.Ua.frames[this.T]),this.g.$a=q)};f.Gt=function(){var a=this.Ua.frames[this.T],b=this.T;this.T=ia(this.Pm);0>this.T&&(this.T=0);this.T>=this.Ua.frames.length&&(this.T=this.Ua.frames.length-1);b!==this.T&&(this.Ui(a,this.Ua.frames[this.T]),this.Cf=this.el(),this.g.$a=q);this.Pm=-1};f.Ui=function(a,b){var c=a.width,d=a.height,e=b.width,f=b.height;c!=e&&(this.width*=e/c);d!=f&&(this.height*=f/d);this.Sc=b.Sc;this.Tc=b.Tc;this.Pc.ak(b.Ll);this.Ab();this.Rd=b;this.Nk=b.lb;c=0;for(d=this.xa.length;c<
d;c++)e=this.xa[c],e.Rv&&e.Rv(a,b);this.g.trigger(Eb.prototype.ya.Ui,this)};f.ig=function(a){a.globalAlpha=this.opacity;var b=this.Rd,c=b.yi,d=b.Ea,e=this.x,f=this.y,g=this.width,h=this.height;if(0===this.P&&0<=g&&0<=h)e-=this.Sc*g,f-=this.Tc*h,this.g.vg&&(e=e+0.5|0,f=f+0.5|0),c?a.drawImage(d,b.ti,b.vi,b.width,b.height,e,f,g,h):a.drawImage(d,e,f,g,h);else{this.g.vg&&(e=e+0.5|0,f=f+0.5|0);a.save();var l=0<g?1:-1,C=0<h?1:-1;a.translate(e,f);(1!==l||1!==C)&&a.scale(l,C);a.rotate(this.P*l*C);e=0-this.Sc*
ea(g);f=0-this.Tc*ea(h);c?a.drawImage(d,b.ti,b.vi,b.width,b.height,e,f,ea(g),ea(h)):a.drawImage(d,e,f,ea(g),ea(h));a.restore()}};f.se=function(a){a.Ge(this.Nk);a.Zj(this.opacity);var b=this.Rd,c=this.lc;if(this.g.vg){var d=(this.x+0.5|0)-this.x,e=(this.y+0.5|0)-this.y;b.yi?a.wg(c.zc+d,c.Ac+e,c.pd+d,c.qd+e,c.ed+d,c.fd+e,c.cd+d,c.dd+e,b.Fo):a.to(c.zc+d,c.Ac+e,c.pd+d,c.qd+e,c.ed+d,c.fd+e,c.cd+d,c.dd+e)}else b.yi?a.wg(c.zc,c.Ac,c.pd,c.qd,c.ed,c.fd,c.cd,c.dd,b.Fo):a.to(c.zc,c.Ac,c.pd,c.qd,c.ed,c.fd,c.cd,
c.dd)};f.yu=function(a){var b=this.Rd,c,d;c=0;for(d=b.qn.length;c<d;c++)if(a.toLowerCase()===b.qn[c][0].toLowerCase())return c;return-1};f.Ve=function(a,b){var c=this.Rd,d=c.qn,e;e=M(a)?this.yu(a):a-1;e=ia(e);if(0>e||e>=d.length)return b?this.x:this.y;var f=(d[e][1]-c.Sc)*this.width,d=d[e][2],d=(d-c.Tc)*this.height,c=Math.cos(this.P);e=Math.sin(this.P);var g=f*c-d*e,d=d*c+f*e,f=g+this.x,d=d+this.y;return b?f:d};var l=new Ha,h=s;e.finish=function(a){if(h){if(a){var b=this.g.zd().pe.jf;a=r.qb();var c=
l.Ci(),d,e;if(a.Kb){a.Kb=s;a.A.length=c.length;d=0;for(e=c.length;d<e;d++)a.A[d]=c[d];if(b){d=a.Va.length=0;for(e=r.A.length;d<e;d++)b=r.A[d],l.contains(b)||a.Va.push(b)}}else{var f=a.A.length;a.A.length=f+c.length;d=0;for(e=c.length;d<e;d++)a.A[f+d]=c[d],b&&ra(a.Va,c[d])}r.Dk()}l.clear();h=s}};b.prototype.Cs=function(a){return this.Kp.toLowerCase()===a.toLowerCase()};b.prototype.Ds=B(q);b.prototype.Ui=B(q);d.ya=new b;c.prototype.zp=function(a){a=ea(this.width)*(0===a?-1:1);this.width!==a&&(this.width=
a,this.Ab())};d.Pd=new c;d.hh=new (t())})();function Fb(a){this.g=a}
(function(){var a=Fb.prototype;a.vf=function(a){this.wc=a;this.g=a.g};var b=a.vf.prototype;b.mc=function(){this.ha||(this.Ea=new Image,this.Ea.src=this.Io,this.Ea.dq=this.Jo,this.g.$f.push(this.Ea),this.lb=this.pattern=r)};b.ko=function(){this.ha||(this.lb=r)};b.lo=function(){if(!this.ha&&this.A.length){this.lb||(this.lb=this.g.za.Mn(this.Ea,q,this.g.yb,this.Ko));var a,b;a=0;for(b=this.A.length;a<b;a++)this.A[a].lb=this.lb}};b.Nn=function(){!this.ha&&(!this.lb&&this.g.za)&&(this.lb=this.g.za.Mn(this.Ea,
q,this.g.yb,this.Ko))};b.Qo=function(){!this.ha&&(!this.A.length&&this.lb)&&(this.g.za.deleteTexture(this.lb),this.lb=r)};b.no=function(a){a.drawImage(this.Ea,0,0)};a.Md=function(a){this.type=a;this.g=a.g};b=a.Md.prototype;b.mc=function(){this.visible=0===this.fc[0];this.Xj=new la(0,0,0,0);this.Bq=s;this.Ea=this.type.Ea;this.g.za?(this.type.Nn(),this.lb=this.type.lb):(this.type.pattern||(this.type.pattern=this.g.Pa.createPattern(this.type.Ea,"repeat")),this.pattern=this.type.pattern)};b.bj=function(){this.Bq=
s;this.Ea=this.type.Ea};b.Rj=function(){this.g.za&&(this.Bq&&this.lb)&&(this.g.za.deleteTexture(this.lb),this.lb=r)};b.ig=function(a){a.globalAlpha=this.opacity;a.save();a.fillStyle=this.pattern;var b=this.x,e=this.y;this.g.vg&&(b=b+0.5|0,e=e+0.5|0);var g=-(this.Sc*this.width),f=-(this.Tc*this.height),l=g%this.Ea.width,h=f%this.Ea.height;0>l&&(l+=this.Ea.width);0>h&&(h+=this.Ea.height);a.translate(b,e);a.rotate(this.P);a.translate(l,h);a.fillRect(g-l,f-h,this.width,this.height);a.restore()};b.se=
function(a){a.Ge(this.lb);a.Zj(this.opacity);var b=this.Xj;b.right=this.width/this.Ea.width;b.bottom=this.height/this.Ea.height;var e=this.lc;if(this.g.vg){var g=(this.x+0.5|0)-this.x,f=(this.y+0.5|0)-this.y;a.wg(e.zc+g,e.Ac+f,e.pd+g,e.qd+f,e.ed+g,e.fd+f,e.cd+g,e.dd+f,b)}else a.wg(e.zc,e.Ac,e.pd,e.qd,e.ed,e.fd,e.cd,e.dd,b)};a.ya=new (t());a.Pd=new (t());a.hh=new (t())})();function S(a,b){for(var c in b.prototype)b.prototype.hasOwnProperty(c)&&(a.prototype[c]=b.prototype[c])}
if(navigator.isCocoonJS&&"undefined"!==typeof window.cr_cjs_accelerated_physics)L("Using CocoonJS native physics"),!window.ext||"undefined"===typeof window.ext.IDTK_SRV_BOX2D?console.log("The CocoonJS binding for Box2D has been ignored because ext.IDTK_SRV_BOX2D is not available"):function(){function a(a){this.H=a.H;this.I=a.I;this.pf=a.pf;this.type=a.type;this.next=r}function b(a,b){this.Al=[];this.Za=[];this.rh=[];this.Mf=r;this.uv=[];this.Sb=window.ext.IDTK_SRV_BOX2D.makeCall("createWorld",a.x,
a.y,b)}function c(){}function d(a,b,c){this.eb=a;this.Ya=b;this.Bv=c}function e(a,b){var c=a.pf;a.pf=r;this.ra=b;this.q=new l(a.position,h.Kh(a.P));this.Fj=[];this.Bj=a.xd;a.type===e.yd&&(a.qe=0);this.Rb=window.ext.IDTK_SRV_BOX2D.makeCall("createBody",b.Sb,a);this.Cv=c;a.pf=c}function g(a,b,c,d){this.Dj=a;this.Cv=b;this.Tn=c;this.Tf={};this.Tf.Hc=k.n(0,0);this.Dl=s;this.Bl=d.qe;this.Vn=d.Ue;this.Lj=d.mf;this.Dl=d.yn}function f(){}function l(a,b){this.position=k.n(0,0);this.k=new h;a===p&&(a=r);b===
p&&(b=r);a&&(this.position.z(a),this.k.je(b))}function h(){this.c=k.n(0,0);this.i=k.n(0,0);this.eg()}function k(a,b){a===p&&(a=0);b===p&&(b=0);this.x=a;this.y=b}U=k;k.wf=[];k.n=function(a,b){if(0<U.wf.length){var c=U.wf.pop();c.B(a,b);return c}return new U(a,b)};k.Vb=function(a){1E4>U.wf.length&&U.wf.push(a)};k.prototype.W=function(){this.y=this.x=0};k.prototype.B=function(a,b){a===p&&(a=0);b===p&&(b=0);this.x=a;this.y=b};k.prototype.z=function(a){this.x=a.x;this.y=a.y};k.hx=function(a,b){a===p&&
(a=0);b===p&&(b=0);return k.n(a,b)};k.prototype.Cb=function(){return k.n(this.x,this.y)};k.prototype.rf=function(a){this.x+=a.x;this.y+=a.y};k.prototype.Gm=function(a){this.x-=a.x;this.y-=a.y};k.prototype.Cc=function(a){a===p&&(a=0);this.x*=a;this.y*=a};k.prototype.Le=function(){return Math.sqrt(this.x*this.x+this.y*this.y)};k.prototype.yk=function(){return this.x*this.x+this.y*this.y};k.prototype.Dc=function(){var a=Math.sqrt(this.x*this.x+this.y*this.y);if(a<Number.MIN_VALUE)return 0;var b=1/a;
this.x*=b;this.y*=b;return a};V=h;h.Kh=function(a){a===p&&(a=0);var b=new h;b.B(a);return b};h.Ke=function(a,b){var c=new h;c.Dm(a,b);return c};h.prototype.B=function(a){a===p&&(a=0);var b=Math.cos(a);a=Math.sin(a);this.c.x=b;this.i.x=-a;this.c.y=a;this.i.y=b};h.prototype.Dm=function(a,b){this.c.z(a);this.i.z(b)};h.prototype.Cb=function(){var a=new h;a.je(this);return a};h.prototype.je=function(a){this.c.z(a.c);this.i.z(a.i)};h.prototype.ik=function(a){this.c.x+=a.c.x;this.c.y+=a.c.y;this.i.x+=a.i.x;
this.i.y+=a.i.y};h.prototype.eg=function(){this.c.x=1;this.i.x=0;this.c.y=0;this.i.y=1};h.prototype.W=function(){this.c.x=0;this.i.x=0;this.c.y=0;this.i.y=0};h.prototype.Xc=function(){return Math.atan2(this.c.y,this.c.x)};h.prototype.nm=function(a){var b=this.c.x,c=this.i.x,d=this.c.y,e=this.i.y,f=b*e-c*d;0!==f&&(f=1/f);a.c.x=f*e;a.i.x=-f*c;a.c.y=-f*d;a.i.y=f*b;return a};h.prototype.fg=function(a,b,c){b===p&&(b=0);c===p&&(c=0);var d=this.c.x,e=this.i.x,f=this.c.y,g=this.i.y,k=d*g-e*f;0!==k&&(k=1/
k);a.x=k*(g*b-e*c);a.y=k*(d*c-f*b);return a};h.prototype.qf=function(){this.c.qf();this.i.qf()};Gb=l;l.prototype.Db=function(a,b){this.position.z(a);this.k.je(b)};l.prototype.eg=function(){this.position.W();this.k.eg()};l.prototype.B=function(a){this.position.z(a.position);this.k.je(a.k)};l.prototype.zk=function(){return Math.atan2(this.k.c.y,this.k.c.x)};W=f;f.xk=function(a){a===p&&(a=0);return isFinite(a)};f.bb=function(a,b){return a.x*b.x+a.y*b.y};f.Kg=function(a,b){return a.x*b.y-a.y*b.x};f.sf=
function(a,b){b===p&&(b=0);return k.n(b*a.y,-b*a.x)};f.hm=function(a,b){a===p&&(a=0);return k.n(-a*b.y,a*b.x)};f.ob=function(a,b){return k.n(a.c.x*b.x+a.i.x*b.y,a.c.y*b.x+a.i.y*b.y)};f.tf=function(a,b){return k.n(f.bb(b,a.c),f.bb(b,a.i))};f.Mb=function(a,b){var c=f.ob(a.k,b);c.x+=a.position.x;c.y+=a.position.y;return c};f.np=function(a,b){var c=f.Qa(b,a.position),d=c.x*a.k.c.x+c.y*a.k.c.y;c.y=c.x*a.k.i.x+c.y*a.k.i.y;c.x=d;return c};f.Hi=function(a,b){return k.n(a.x+b.x,a.y+b.y)};f.Qa=function(a,b){return k.n(a.x-
b.x,a.y-b.y)};f.qs=function(a,b){var c=a.x-b.x,d=a.y-b.y;return Math.sqrt(c*c+d*d)};f.bp=function(a,b){var c=a.x-b.x,d=a.y-b.y;return c*c+d*d};f.zs=function(a,b){a===p&&(a=0);return k.n(a*b.x,a*b.y)};f.hs=function(a,b){return h.Ke(f.Hi(a.c,b.c),f.Hi(a.i,b.i))};f.As=function(a,b){return h.Ke(f.ob(a,b.c),f.ob(a,b.i))};f.Bs=function(a,b){var c=k.n(f.bb(a.c,b.c),f.bb(a.i,b.c)),d=k.n(f.bb(a.c,b.i),f.bb(a.i,b.i));return h.Ke(c,d)};f.qf=function(a){a===p&&(a=0);return 0<a?a:-a};f.Ei=function(a){return k.n(f.qf(a.x),
f.qf(a.y))};f.es=function(a){return h.Ke(f.Ei(a.c),f.Ei(a.i))};f.lp=function(a,b){a===p&&(a=0);b===p&&(b=0);return a<b?a:b};f.mp=function(a,b){return k.n(f.lp(a.x,b.x),f.lp(a.y,b.y))};f.jp=function(a,b){a===p&&(a=0);b===p&&(b=0);return a>b?a:b};f.kp=function(a,b){return k.n(f.jp(a.x,b.x),f.jp(a.y,b.y))};f.Ta=function(a,b,c){a===p&&(a=0);b===p&&(b=0);c===p&&(c=0);return a<b?b:a>c?c:a};f.ks=function(a,b,c){return f.kp(b,f.mp(a,c))};f.Tx=function(a,b){var c=a[0];a[0]=b[0];b[0]=c};f.yx=function(){return 2*
Math.random()-1};f.zx=function(a,b){a===p&&(a=0);b===p&&(b=0);var c=Math.random();return(b-a)*c+a};f.nx=function(a){a===p&&(a=0);a|=a>>1&2147483647;a|=a>>2&1073741823;a|=a>>4&268435455;a|=a>>8&16777215;return(a|a>>16&65535)+1};f.bx=function(a){a===p&&(a=0);return 0<a&&0===(a&a-1)};f.ut=new k(0,0);f.tt=h.Ke(new k(1,0),new k(0,1));f.cy=new l(f.ut,f.tt);X=function(){this.position=k.n(0,0);this.Kn=k.n(0,0);this.pf=r;this.P=0;this.Kn.B(0,0);this.Vg=this.mh=this.Jp=0;this.Mp=this.Ip=q;this.Zg=this.en=s;
this.type=e.yd;this.xd=q;this.Eq=1};Hb=g;g.prototype.va=y("Dj");g.prototype.Lb=function(){console.log("fixture.GetShape not yet supported in CocoonJS Box2D binding");return r};g.prototype.Pg=y("Dl");Ib=e;e.prototype.ok=function(a){var b=a.pf;a.pf=r;var c=window.ext.IDTK_SRV_BOX2D.makeCall("createFixture",this.ra.Sb,this.Rb,a);a.pf=b;a=new g(this,b,c,a);this.ra.rh[c]=a;this.Fj.push(a);return a};e.prototype.mm=function(){return 0===this.Fj.length?r:this.Fj[0]};e.prototype.$o=function(a){window.ext.IDTK_SRV_BOX2D.makeCall("deleteFixture",
this.ra.Sb,a.Tn);delete this.ra.rh[a.Tn]};e.prototype.Zi=function(a,b){window.ext.IDTK_SRV_BOX2D.makeCall("setBodyTransform",this.ra.Sb,this.Rb,a.x,a.y,b);this.q.k.B(b);this.q.position.z(a)};e.prototype.Cm=function(a){this.Zi(a,this.Xc())};e.prototype.Lg=function(){var a=window.ext.IDTK_SRV_BOX2D.makeCall("getLinearVelocity",this.ra.Sb,this.Rb);return k.n(a[0],a[1])};e.prototype.Lh=function(){var a=window.ext.IDTK_SRV_BOX2D.makeCall("getWorldCenter",this.ra.Sb,this.Rb);return k.n(a[0],a[1])};e.prototype.Mg=
function(){var a=window.ext.IDTK_SRV_BOX2D.makeCall("getLocalCenter",this.ra.Sb,this.Rb);return k.n(a[0],a[1])};e.prototype.qc=function(){return window.ext.IDTK_SRV_BOX2D.makeCall("isAwake",this.ra.Sb,this.Rb)};e.prototype.sk=function(){return window.ext.IDTK_SRV_BOX2D.makeCall("getAngularVelocity",this.ra.Sb,this.Rb)};e.prototype.jc=function(a){window.ext.IDTK_SRV_BOX2D.makeCall("setAwake",this.ra.Sb,this.Rb,a)};e.prototype.Rg=function(a){window.ext.IDTK_SRV_BOX2D.makeCall("setLinearVelocity",this.ra.Sb,
this.Rb,a.x,a.y)};e.prototype.ud=function(a,b,c){window.ext.IDTK_SRV_BOX2D.makeCall("applyForce",this.ra.Sb,this.Rb,a.x,a.y,b.x,b.y,c)};e.prototype.jk=function(a,b){window.ext.IDTK_SRV_BOX2D.makeCall("applyTorque",this.ra.Sb,this.Rb,a,b)};e.prototype.Yi=function(a){window.ext.IDTK_SRV_BOX2D.makeCall("setAngularVelocity",this.ra.Sb,this.Rb,a)};e.prototype.Og=y("Bj");e.prototype.Xc=function(){return this.q.k.Xc()};e.prototype.zk=function(a){a===p&&(a=0);this.Zi(this.q.position,a)};e.prototype.cg=function(){for(var a=
window.ext.IDTK_SRV_BOX2D.makeCall("getObjectContacts",this.ra.Sb,this.Rb),b=[],c=0;c<a.length;c++)b.push(this.ra.Al[a[c]]);return b};Ib.yd=0;Ib.Op=1;Ib.Nb=2;d.prototype.tm=y("Bv");Jb=c;c.prototype.kk=t();Jb.Np=new c;window.Kw.Sw.by=t();Kb=b;b.prototype.wp=aa("Mf");b.prototype.vp=function(a){var b=this;window.ext.IDTK_SRV_BOX2D.makeCall("setContactFilter",function(c,d){return a.Sg(b.rh[c],b.rh[d])})};b.prototype.gm=function(a){a=new e(a,this);return this.Al[a.Rb]=a};b.prototype.qk=function(a){window.ext.IDTK_SRV_BOX2D.makeCall("deleteBody",
this.Sb,a.Rb);delete this.Al[a.Rb];for(var b=0;b<a.Fj.length;++b)delete this.rh[a.Fj[b].Tn]};b.prototype.pk=function(b){if(b.H.Rb!==b.I.Rb){var c=b.H,d=b.I;b.H=c.Rb;b.I=d.Rb;window.ext.IDTK_SRV_BOX2D.makeCall("createDistanceJoint",this.Sb,b);b.H=c;b.I=d;b=new a(b);this.uv.push(b);return b}};b.prototype.uf=function(a,b,c){c=window.ext.IDTK_SRV_BOX2D.makeCall("step",this.Sb,a,b,c);b=c[0];for(a=1;a<=4*b;a+=4){var e=this.Al[c[a+0]];if(e===r)break;e.q.position.B(c[a+1],c[a+2]);e.q.k.B(c[a+3])}if(this.Mf!==
r){c=window.ext.IDTK_SRV_BOX2D.makeCall("getLastContacts",this.Sb);b=c[0];for(a=1;a<=3*b;a+=3){var e=c[a+2],f=this.rh[c[a+0]],g=this.rh[c[a+1]];"undefined"===typeof f||"undefined"===typeof g?console.log("One of the fixtures in a contact DOESN'T EXIST!!"):this.Mf.kk(new d(f,g,e))}}};b.prototype.Zo=function(){window.ext.IDTK_SRV_BOX2D.makeCall("clearForces",this.Sb)};Lb=function(a){this.Ol=a;this.type="circle"};Y=t();Y.prototype.Ak=function(a,b){this.type="box";this.width=a;this.height=b};Y.prototype.tp=
function(a,b){this.type="edge";this.Gy=a.x;this.Hy=a.y;this.Iy=b.x;this.Jy=b.y};Y.prototype.Am=function(a,b){this.type="polygon";this.ds=[];for(var c=0;c<b;c++)this.ds.push(a[c].x),this.ds.push(a[c].y)};Mb=function(){this.pf=this.shape=r;this.Ue=0.2;this.qe=this.mf=0;this.yn=s;this.filter={Sh:1,qi:65535,mg:0}};Z=a;a.prototype.Mi=y("H");a.prototype.lm=y("I");a.prototype.Wb=y("type");a.$m=0;Nb=function(b,c,d,e){this.type=a.$m;this.mb=k.n(0,0);this.nb=k.n(0,0);this.pf=r;b!==p&&(this.H=b);c!==p&&(this.I=
c);d!==p&&this.mb.z(d);e!==p&&this.nb.z(e);d!==p&&e!==p&&(b=e.x-d.x,d=e.y-d.y,this.length=Math.sqrt(b*b+d*d));this.Ok=this.$k=0}}();else{var W={},Ob=2/180*Math.PI,Pb=8/180*Math.PI,Qb=0.5*Math.PI,Rb=Qb*Qb,Sb=2/180*Math.PI,Tb=Number.MIN_VALUE*Number.MIN_VALUE;W.bb=function(a,b){return a.x*b.x+a.y*b.y};W.Kg=function(a,b){return a.x*b.y-a.y*b.x};W.sf=function(a,b){return U.n(b*a.y,-b*a.x)};W.hm=function(a,b){return U.n(-a*b.y,a*b.x)};W.ob=function(a,b){return U.n(a.c.x*b.x+a.i.x*b.y,a.c.y*b.x+a.i.y*b.y)};
W.tf=function(a,b){return U.n(W.bb(b,a.c),W.bb(b,a.i))};W.Mb=function(a,b){var c=W.ob(a.k,b);c.x+=a.position.x;c.y+=a.position.y;return c};W.np=function(a,b){var c=W.Qa(b,a.position),d=c.x*a.k.c.x+c.y*a.k.c.y;c.y=c.x*a.k.i.x+c.y*a.k.i.y;c.x=d;return c};W.Hi=function(a,b){return U.n(a.x+b.x,a.y+b.y)};W.Qa=function(a,b){return U.n(a.x-b.x,a.y-b.y)};W.qs=function(a,b){return Math.sqrt(W.bp(a,b))};W.bp=function(a,b){var c=a.x-b.x,d=a.y-b.y;return c*c+d*d};W.zs=function(a,b){return U.n(a*b.x,a*b.y)};W.hs=
function(a,b){return V.Ke(W.Hi(a.c,b.c),W.Hi(a.i,b.i))};W.As=function(a,b){return V.Ke(W.ob(a,b.c),W.ob(a,b.i))};W.Bs=function(a,b){var c=U.n(W.bb(a.c,b.c),W.bb(a.i,b.c)),d=U.n(W.bb(a.c,b.i),W.bb(a.i,b.i));return V.Ke(c,d)};W.Ei=function(a){return U.n(Math.abs(a.x),Math.abs(a.y))};W.es=function(a){return V.Ke(W.Ei(a.c),W.Ei(a.i))};W.Ta=function(a,b,c){return a<b?b:a>c?c:a};W.ks=function(a,b,c){return U.n(W.Ta(a.x,b.x,c.x),W.Ta(a.y,b.y,c.y))};var V=function(){this.c=U.n(0,0);this.i=U.n(0,0);this.eg()};
V.Kh=function(a){var b=new V;b.B(a);return b};V.Ke=function(a,b){var c=new V;c.Dm(a,b);return c};H=V.prototype;H.B=function(a){var b=Math.cos(a);a=Math.sin(a);this.c.B(b,a);this.i.B(-a,b)};H.Dm=function(a,b){this.c.z(a);this.i.z(b)};H.Cb=function(){var a=new V;a.je(this);return a};H.je=function(a){this.c.z(a.c);this.i.z(a.i)};H.ik=function(a){this.c.rf(a.c);this.i.rf(a.i)};H.eg=function(){this.c.B(1,0);this.i.B(0,1)};H.W=function(){this.c.B(0,0);this.i.B(0,0)};H.Xc=function(){return Math.atan2(this.c.y,
this.c.x)};H.nm=function(a){var b=this.c.x*this.i.y-this.i.x*this.c.y;0!==b&&(b=1/b);a.c.x=b*this.i.y;a.i.x=-b*this.i.x;a.c.y=-b*this.c.y;a.i.y=b*this.c.x;return a};H.fg=function(a,b,c){var d=this.c.x*this.i.y-this.i.x*this.c.y;0!==d&&(d=1/d);a.x=d*(this.i.y*b-this.i.x*c);a.y=d*(this.c.x*c-this.c.y*b);return a};H.qf=function(){this.c.qf();this.i.qf()};var Vb=function(a,b,c){this.c=new Ub(0,0,0);this.i=new Ub(0,0,0);this.ca=new Ub(0,0,0);a&&this.c.z(a);b&&this.i.z(b);c&&this.ca.z(c)};H=Vb.prototype;
H.Cb=function(){return new Vb(this.c,this.i,this.ca)};H.je=function(a){this.c.z(a.c);this.i.z(a.i);this.ca.z(a.ca)};H.ik=function(a){this.c.x+=a.c.x;this.c.y+=a.c.y;this.c.D+=a.c.D;this.i.x+=a.i.x;this.i.y+=a.i.y;this.i.D+=a.i.D;this.ca.x+=a.ca.x;this.ca.y+=a.ca.y;this.ca.D+=a.ca.D};H.eg=function(){this.c.B(1,0,0);this.i.B(0,1,0);this.ca.B(0,0,1)};H.W=function(){this.c.B(0,0,0);this.i.B(0,0,0);this.ca.B(0,0,0)};H.Nh=function(a,b,c){var d=this.c.x,e=this.i.x,g=this.c.y,f=this.i.y,l=d*f-e*g;0!=l&&(l=
1/l);a.x=l*(f*b-e*c);a.y=l*(d*c-g*b);return a};H.$i=function(a,b,c,d){var e=this.c.x,g=this.c.y,f=this.c.D,l=this.i.x,h=this.i.y,k=this.i.D,m=this.ca.x,n=this.ca.y,w=this.ca.D,u=e*(h*w-k*n)+g*(k*m-l*w)+f*(l*n-h*m);0!=u&&(u=1/u);a.x=u*(b*(h*w-k*n)+c*(k*m-l*w)+d*(l*n-h*m));a.y=u*(e*(c*w-d*n)+g*(d*m-b*w)+f*(b*n-c*m));a.D=u*(e*(h*d-k*c)+g*(k*b-l*d)+f*(l*c-h*b));return a};var Wb=function(){this.J=U.n(0,0);this.Zb=U.n(0,0);this.p=U.n(0,0)};Wb.prototype.B=function(a){this.J.z(a.J);this.Zb.z(a.Zb);this.p.z(a.p);
this.Nd=a.Nd;this.G=a.G;this.yc=a.yc};Wb.prototype.Cb=function(){var a=new Wb;a.J.z(this.J);a.Zb.z(this.Zb);a.p.z(this.p);a.Nd=this.Nd;a.G=this.G;a.yc=this.yc;return a};Wb.prototype.Zc=function(a,b){b===p&&(b=0);a.position.x=(1-b)*this.Zb.x+b*this.p.x;a.position.y=(1-b)*this.Zb.y+b*this.p.y;a.k.B((1-b)*this.Nd+b*this.G);var c=a.k;a.position.x-=c.c.x*this.J.x+c.i.x*this.J.y;a.position.y-=c.c.y*this.J.x+c.i.y*this.J.y};Wb.prototype.bg=function(a){a===p&&(a=0);if(this.yc<a&&1-this.yc>Number.MIN_VALUE){var b=
(a-this.yc)/(1-this.yc);this.Zb.x=(1-b)*this.Zb.x+b*this.p.x;this.Zb.y=(1-b)*this.Zb.y+b*this.p.y;this.Nd=(1-b)*this.Nd+b*this.G;this.yc=a}};var Gb=function(a,b){this.position=U.n(0,0);this.k=new V;a&&this.position.z(a);b&&this.k.je(b)};Gb.prototype.Db=function(a,b){this.position.z(a);this.k.je(b)};Gb.prototype.eg=function(){this.position.W();this.k.eg()};Gb.prototype.B=function(a){this.position.z(a.position);this.k.je(a.k)};Gb.prototype.Xc=function(){return Math.atan2(this.k.c.y,this.k.c.x)};var U=
function(a,b){this.x=a;this.y=b};U.wf=[];U.n=function(a,b){if(0<U.wf.length){var c=U.wf.pop();c.B(a,b);return c}return new U(a,b)};U.Vb=function(a){U.wf.push(a)};H=U.prototype;H.W=function(){this.y=this.x=0};H.B=function(a,b){this.x=a;this.y=b};H.z=function(a){this.x=a.x;this.y=a.y};H.dg=function(){return U.n(-this.x,-this.y)};H.op=function(){this.x=-this.x;this.y=-this.y};H.Cb=function(){return U.n(this.x,this.y)};H.rf=function(a){this.x+=a.x;this.y+=a.y};H.Gm=function(a){this.x-=a.x;this.y-=a.y};
H.Cc=function(a){this.x*=a;this.y*=a};H.sf=function(a){var b=this.x;this.x=a*this.y;this.y=-a*b};H.hm=function(a){var b=this.x;this.x=-a*this.y;this.y=a*b};H.mp=function(a){this.x=Math.min(this.x,a.x);this.y=Math.min(this.y,a.y)};H.kp=function(a){this.x=Math.max(this.x,a.x);this.y=Math.max(this.y,a.y)};H.qf=function(){this.x=Math.abs(this.x);this.y=Math.abs(this.y)};H.Le=function(){return Math.sqrt(this.yk())};H.yk=function(){return this.x*this.x+this.y*this.y};H.Dc=function(){var a=this.Le();if(a<
Number.MIN_VALUE)return 0;var b=1/a;this.x*=b;this.y*=b;return a};H.xk=function(){return isFinite(this.x)&&isFinite(this.y)};var Ub=function(a,b,c){this.x=a;this.y=b;this.D=c};H=Ub.prototype;H.W=function(){this.D=this.y=this.x=0};H.B=function(a,b,c){this.x=a;this.y=b;this.D=c};H.z=function(a){this.x=a.x;this.y=a.y;this.D=a.D};H.dg=function(){return new Ub(-this.x,-this.y,-this.D)};H.op=function(){this.x=-this.x;this.y=-this.y;this.D=-this.D};H.Cb=function(){return new Ub(this.x,this.y,this.D)};H.rf=
function(a){this.x+=a.x;this.y+=a.y;this.D+=a.D};H.Gm=function(a){this.x-=a.x;this.y-=a.y;this.D-=a.D};H.Cc=function(a){this.x*=a;this.y*=a;this.D*=a};var Xb=function(){this.Ca=0.005};H=Xb.prototype;H.Ng=t();H.Cb=t();H.B=function(a){this.Ca=a.Ca};H.Ih=t();H.Ii=t();H.nk=t();H.Bm=t();var Lb=function(a){this.Ca=0.005;this.Ca=a;this.ni=a*a;this.Ma=U.n(0,0)};S(Lb,Xb);H=Lb.prototype;H.Ng=function(){return Lb.ie};H.Cb=function(){var a=new Lb(this.Ca);a.B(this);return a};H.B=function(a){Xb.prototype.B.call(this,
a);a instanceof Lb&&this.Ma.z(a.Ma)};H.Ih=function(a,b){var c=b.k,d=b.position.x+(c.c.x*this.Ma.x+c.i.x*this.Ma.y),c=b.position.y+(c.c.y*this.Ma.x+c.i.y*this.Ma.y);a.ia.B(d-this.Ca,c-this.Ca);a.ja.B(d+this.Ca,c+this.Ca)};H.Ii=function(a,b){a.hf=b*Math.PI*this.ni;a.zf.z(this.Ma);a.Mh=a.hf*(0.5*this.ni+(this.Ma.x*this.Ma.x+this.Ma.y*this.Ma.y))};H.nk=function(a,b,c,d){c=W.Mb(c,this.Ma);var e=-(W.bb(a,c)-b);if(e<-this.Ca+Number.MIN_VALUE)return 0;if(e>this.Ca)return d.z(c),Math.PI*this.ni;b=e*e;e=this.ni*
(Math.asin(e/this.Ca)+Math.PI/2)+e*Math.sqrt(this.ni-b);b=-2/3*Math.pow(this.ni-b,1.5)/e;d.x=c.x+a.x*b;d.y=c.y+a.y*b;return e};H.Bm=function(a){a.F=[this.Ma];a.Z=1;a.Ca=this.Ca};Lb.ie="b2CircleShape";var Yb=function(a,b){this.Ca=0.005;this.Ay=this.Cy=r;this.$=a;this.ma=b;this.qh=U.n(this.ma.x-this.$.x,this.ma.y-this.$.y);this.Wn=this.qh.Dc();this.ba=U.n(this.qh.y,-this.qh.x);this.ry=U.n(-0.04*(this.ba.x-this.qh.x)+this.$.x,-0.04*(this.ba.y-this.qh.y)+this.$.y);this.ty=U.n(-0.04*(this.ba.x+this.qh.x)+
this.ma.x,-0.04*(this.ba.y+this.qh.y)+this.ma.y);this.xy=this.ba;this.yy=U.n(-this.ba.x,-this.ba.y);this.wy=this.uy=s};S(Yb,Xb);Yb.prototype.Ng=B("b2EdgeShape");Yb.prototype.Ih=function(a,b){var c=b.k,d=b.position.x+(c.c.x*this.$.x+c.i.x*this.$.y),e=b.position.y+(c.c.y*this.$.x+c.i.y*this.$.y),g=b.position.x+(c.c.x*this.ma.x+c.i.x*this.ma.y),c=b.position.y+(c.c.y*this.ma.x+c.i.y*this.ma.y);d<g?(a.ia.x=d,a.ja.x=g):(a.ia.x=g,a.ja.x=d);e<c?(a.ia.y=e,a.ja.y=c):(a.ia.y=c,a.ja.y=e)};Yb.prototype.Ii=function(a){a.hf=
0;a.zf.z(this.$);a.Mh=0};Yb.prototype.nk=function(a,b,c,d){b===p&&(b=0);var e=U.n(a.x*b,a.y*b),g=W.Mb(c,this.$);c=W.Mb(c,this.ma);var f=W.bb(a,g)-b;a=W.bb(a,c)-b;if(0<f){if(0<a)return 0;g.x=-a/(f-a)*g.x+f/(f-a)*c.x;g.y=-a/(f-a)*g.y+f/(f-a)*c.y}else 0<a&&(c.x=-a/(f-a)*g.x+f/(f-a)*c.x,c.y=-a/(f-a)*g.y+f/(f-a)*c.y);d.x=(e.x+g.x+c.x)/3;d.y=(e.y+g.y+c.y)/3;return 0.5*((g.x-e.x)*(c.y-e.y)-(g.y-e.y)*(c.x-e.x))};var Zb=function(){this.hf=0;this.zf=U.n(0,0);this.Mh=0},Y=function(){this.Ca=0.005;this.Hc=U.n(0,
0);this.F=[];this.ea=[]};S(Y,Xb);Y.prototype.Ng=function(){return Y.ie};Y.prototype.Cb=function(){var a=new Y;a.B(this);return a};Y.prototype.B=function(a){Xb.prototype.B.call(this,a);if(a instanceof Y){this.Hc.z(a.Hc);this.qa=a.qa;this.Xi(this.qa);for(var b=0;b<this.qa;b++)this.F[b].z(a.F[b]),this.ea[b].z(a.ea[b])}};Y.prototype.Am=function(a){this.up(a)};Y.Bw=function(a){var b=new Y;b.Am(a);return b};Y.prototype.up=function(a){var b=a.length;this.qa=b;this.Xi(b);for(b=b=0;b<this.qa;b++)this.F[b].z(a[b]);
for(b=0;b<this.qa;++b)a=W.Qa(this.F[b+1<this.qa?b+1:0],this.F[b]),this.ea[b].z(W.sf(a,1)),this.ea[b].Dc();this.Hc=Y.os(this.F,this.qa)};Y.Fw=function(a){var b=new Y;b.up(a);return b};Y.prototype.Ak=function(a,b){this.qa=4;this.Xi(4);this.F[0].B(-a,-b);this.F[1].B(a,-b);this.F[2].B(a,b);this.F[3].B(-a,b);this.ea[0].B(0,-1);this.ea[1].B(1,0);this.ea[2].B(0,1);this.ea[3].B(-1,0);this.Hc.W()};Y.Cw=function(a,b){var c=new Y;c.Ak(a,b);return c};Y.prototype.Us=function(a,b,c,d){this.qa=4;this.Xi(4);this.F[0].B(-a,
-b);this.F[1].B(a,-b);this.F[2].B(a,b);this.F[3].B(-a,b);this.ea[0].B(0,-1);this.ea[1].B(1,0);this.ea[2].B(0,1);this.ea[3].B(-1,0);this.Hc=c;a=new V;a.B(d);c=new Gb(c,a);for(d=0;d<this.qa;++d)this.F[d]=W.Mb(c,this.F[d]),this.ea[d]=W.ob(c.k,this.ea[d])};Y.Ew=function(a,b,c,d){var e=new Y;e.Us(a,b,c,d);return e};Y.prototype.tp=function(a,b){this.qa=2;this.Xi(2);this.F[0].z(a);this.F[1].z(b);this.Hc.x=0.5*(a.x+b.x);this.Hc.y=0.5*(a.y+b.y);this.ea[0]=W.sf(W.Qa(b,a),1);this.ea[0].Dc();this.ea[1].x=-this.ea[0].x;
this.ea[1].y=-this.ea[0].y};Y.Dw=function(a,b){var c=new Y;c.tp(a,b);return c};H=Y.prototype;H.Ih=function(a,b){for(var c=b.k,d=this.F[0],e=b.position.x+(c.c.x*d.x+c.i.x*d.y),g=b.position.y+(c.c.y*d.x+c.i.y*d.y),f=e,l=g,h=1;h<this.qa;++h)var d=this.F[h],k=b.position.x+(c.c.x*d.x+c.i.x*d.y),d=b.position.y+(c.c.y*d.x+c.i.y*d.y),e=e<k?e:k,g=g<d?g:d,f=f>k?f:k,l=l>d?l:d;a.ia.x=e-this.Ca;a.ia.y=g-this.Ca;a.ja.x=f+this.Ca;a.ja.y=l+this.Ca};H.Ii=function(a,b){if(2==this.qa)a.zf.x=0.5*(this.F[0].x+this.F[1].x),
a.zf.y=0.5*(this.F[0].y+this.F[1].y),a.hf=0,a.Mh=0;else{for(var c=0,d=0,e=0,g=0,f=1/3,l=0;l<this.qa;++l)var h=this.F[l],k=l+1<this.qa?this.F[l+1]:this.F[0],m=h.x-0,n=h.y-0,w=k.x-0,u=k.y-0,x=m*u-n*w,v=0.5*x,e=e+v,c=c+v*f*(0+h.x+k.x),d=d+v*f*(0+h.y+k.y),h=m,g=g+x*(f*(0.25*(h*h+w*h+w*w)+(0*h+0*w))+0+(f*(0.25*(n*n+u*n+u*u)+(0*n+0*u))+0));a.hf=b*e;a.zf.B(c*(1/e),d*(1/e));a.Mh=b*g}};H.nk=function(a,b,c,d){var e=W.tf(c.k,a),g=b-W.bb(a,c.position),f=[],l=0,h=-1;b=-1;var k=s;for(a=a=0;a<this.qa;++a){f[a]=
W.bb(e,this.F[a])-g;var m=f[a]<-Number.MIN_VALUE;0<a&&(m?k||(h=a-1,l++):k&&(b=a-1,l++));k=m}switch(l){case 0:return k?(a=new Zb,this.Ii(a,1),d.z(W.Mb(c,a.zf)),a.hf):0;case 1:-1==h?h=this.qa-1:b=this.qa-1}a=(h+1)%this.qa;e=(b+1)%this.qa;g=(0-f[h])/(f[a]-f[h]);f=(0-f[b])/(f[e]-f[b]);h=U.n(this.F[h].x*(1-g)+this.F[a].x*g,this.F[h].y*(1-g)+this.F[a].y*g);b=U.n(this.F[b].x*(1-f)+this.F[e].x*f,this.F[b].y*(1-f)+this.F[e].y*f);f=0;g=U.n(0,0);for(l=this.F[a];a!=e;)a=(a+1)%this.qa,k=a==e?b:this.F[a],m=0.5*
((l.x-h.x)*(k.y-h.y)-(l.y-h.y)*(k.x-h.x)),f+=m,g.x+=m*(h.x+l.x+k.x)/3,g.y+=m*(h.y+l.y+k.y)/3,l=k;g.Cc(1/f);d.z(W.Mb(c,g));return f};H.Bm=function(a){a.F=this.F;a.Z=this.qa;a.Ca=this.Ca};H.vk=function(a){for(var b=0,c=this.F[0].x*a.x+this.F[0].y*a.y,d=1;d<this.qa;++d){var e=this.F[d].x*a.x+this.F[d].y*a.y;e>c&&(b=d,c=e)}return b};H.Pi=function(a){for(var b=0,c=this.F[0].x*a.x+this.F[0].y*a.y,d=1;d<this.qa;++d){var e=this.F[d].x*a.x+this.F[d].y*a.y;e>c&&(b=d,c=e)}return this.F[b]};H.Xi=function(a){this.F=
[];this.ea=[];for(var b=this.F.length;b<a;b++)this.F[b]=U.n(0,0),this.ea[b]=U.n(0,0)};Y.os=function(a,b){for(var c=U.n(0,0),d=0,e=1/3,g=0;g<b;++g){var f=a[g],l=g+1<b?a[g+1]:a[0],h=0.5*((f.x-0)*(l.y-0)-(f.y-0)*(l.x-0)),d=d+h;c.x+=h*e*(0+f.x+l.x);c.y+=h*e*(0+f.y+l.y)}c.x*=1/d;c.y*=1/d;return c};Y.Oy=new V;Y.ie="b2PolygonShape";var $b=function(){this.Jm=this.Im=this.Km=this.Ec=0};H=$b.prototype;H.Qg=function(a){this.Ec=a;this.Km=this.Ec&255;this.Im=(this.Ec&65280)>>8&255;this.Jm=(this.Ec&16711680)>>
16&255;this.Gp=(this.Ec&4278190080)>>24&255};H.B=function(a){this.Qg(a.Ec)};H.Ap=function(a){this.Km=a;this.Ec=this.Ec&4294967040|this.Km&255};H.xp=function(a){this.Im=a;this.Ec=this.Ec&4294902015|this.Im<<8&65280};H.yp=function(a){this.Jm=a;this.Ec=this.Ec&4278255615|this.Jm<<16&16711680};H.Vs=function(a){this.Gp=a;this.Ec=this.Ec&16777215|this.Gp<<24&4278190080};H.Cb=function(){var a=new $b;a.B(this);return a};var ac=function(){this.Jd=U.n(0,0);this.id=new $b};ac.prototype.B=function(a){this.Jd.z(a.Jd);
this.id.B(a.id)};var bc=function(){this.ia=U.n(0,0);this.ja=U.n(0,0)},cc=[],dc=function(){if(0<cc.length){var a=cc.pop();a.W();return a}return new bc};H=bc.prototype;H.W=function(){this.ia.B(0,0);this.ja.B(0,0)};H.xk=function(){return 0>this.ja.x-this.ia.x||0>this.ja.y-this.ia.y?s:this.ia.xk()&&this.ja.xk()};H.us=function(){return U.n((this.ia.x+this.ja.x)/2,(this.ia.y+this.ja.y)/2)};H.fm=function(a){var b;return b=(b=(b=(b=q&&this.ia.x<=a.ia.x)&&this.ia.y<=a.ia.y)&&a.ja.x<=this.ja.x)&&a.ja.y<=this.ja.y};
H.aj=function(a){return 0<a.ia.x-this.ja.x||0<a.ia.y-this.ja.y||0<this.ia.x-a.ja.x||0<this.ia.y-a.ja.y?s:q};H.mk=function(a,b){this.ia.x=Math.min(a.ia.x,b.ia.x);this.ia.y=Math.min(a.ia.y,b.ia.y);this.ja.x=Math.max(a.ja.x,b.ja.x);this.ja.y=Math.max(a.ja.y,b.ja.y)};var ec=function(a,b,c,d){var e=0,g=b[0].Jd,f=b[1].Jd,l=c.x*g.x+c.y*g.y-d;c=c.x*f.x+c.y*f.y-d;0>=l&&a[e++].B(b[0]);0>=c&&a[e++].B(b[1]);0>l*c&&(c=l/(l-c),d=a[e].Jd,d.x=g.x+c*(f.x-g.x),d.y=g.y+c*(f.y-g.y),a[e].id=0<l?b[0].id:b[1].id,e++);return e},
fc=function(a,b,c,d,e){for(var g=b.k.c.x*a.ea[c].x+b.k.i.x*a.ea[c].y,f=b.k.c.y*a.ea[c].x+b.k.i.y*a.ea[c].y,l=e.k.c.x*g+e.k.c.y*f,h=e.k.i.x*g+e.k.i.y*f,k=0,m=Number.MAX_VALUE,n=0;n<d.qa;n++){var w=d.F[n].x*l+d.F[n].y*h;w<m&&(m=w,k=n)}return(e.position.x+(e.k.c.x*d.F[k].x+e.k.i.x*d.F[k].y)-(b.position.x+(b.k.c.x*a.F[c].x+b.k.i.x*a.F[c].y)))*g+(e.position.y+(e.k.c.y*d.F[k].x+e.k.i.y*d.F[k].y)-(b.position.y+(b.k.c.y*a.F[c].x+b.k.i.y*a.F[c].y)))*f},gc=function(a,b,c,d){for(var e=d.position.x+(d.k.c.x*
c.Hc.x+d.k.i.x*c.Hc.y),g=d.position.y+(d.k.c.y*c.Hc.x+d.k.i.y*c.Hc.y),e=e-(b.position.x+(b.k.c.x*a.Hc.x+b.k.i.x*a.Hc.y)),g=g-(b.position.y+(b.k.c.y*a.Hc.x+b.k.i.y*a.Hc.y)),f=e*b.k.c.x+g*b.k.c.y,g=e*b.k.i.x+g*b.k.i.y,e=0,l=-Number.MAX_VALUE,h=0;h<a.qa;++h){var k=a.ea[h].x*f+a.ea[h].y*g;k>l&&(l=k,e=h)}f=fc(a,b,e,c,d);g=e-1;0>g&&(g=a.qa-1);l=fc(a,b,g,c,d);h=e+1;h>=a.qa&&(h=0);var k=fc(a,b,h,c,d),m=0,n=0;if(l>f&&l>k){m=g;for(n=l;;)if(e=m-1,0>e&&(e=a.qa-1),f=fc(a,b,e,c,d),f>n)m=e,n=f;else break}else if(k>
f){m=h;for(n=k;;)if(e=m+1,e>=a.qa&&(e=0),f=fc(a,b,e,c,d),f>n)m=e,n=f;else break}else m=e,n=f;return{Pp:m,Rl:n}},ic=function(a,b,c){var d=new hc;d.Rs(b,c.Wf,c.Yl,c.Xf,c.Zl);for(var e=0;20>e;){for(var g=[],f=0;f<d.Z;f++)g[f]={},g[f].wb=d.F[f].wb,g[f].xb=d.F[f].xb;2==d.Z?d.Ws():3==d.Z&&d.Xs();if(3==d.Z)break;f=d.ws();if(f.yk()<Tb)break;var l=f.dg();d.F[d.Z].wb=c.Wf.vk(W.tf(c.Yl.k,l));d.F[d.Z].oc=W.Mb(c.Yl,c.Wf.ic(d.F[d.Z].wb));d.F[d.Z].xb=c.Xf.vk(W.tf(c.Zl.k,f));d.F[d.Z].he=W.Mb(c.Zl,c.Xf.ic(d.F[d.Z].xb));
d.F[d.Z].hc=W.Qa(d.F[d.Z].he,d.F[d.Z].oc);U.Vb(f);U.Vb(l);e++;l=s;for(f=0;f<g.length;f++)if(d.F[d.Z].wb==g[f].wb&&d.F[d.Z].xb==g[f].xb){l=q;break}if(l)break;d.Z++}d.xs(a.Ee,a.Fe);a.Bf=W.Qa(a.Ee,a.Fe).Le();d.ct(b);c.as&&(b=c.Wf.Ca,c=c.Xf.Ca,a.Bf>b+c&&a.Bf>Number.MIN_VALUE?(a.Bf-=b+c,d=W.Qa(a.Fe,a.Ee),d.Dc(),a.Ee.x+=b*d.x,a.Ee.y+=b*d.y,a.Fe.x-=c*d.x,a.Fe.y-=c*d.y,U.Vb(d)):(c=U.n(0,0),c.x=0.5*(a.Ee.x+a.Fe.x),c.y=0.5*(a.Ee.y+a.Fe.y),a.Ee.x=a.Fe.x=c.x,a.Ee.y=a.Fe.y=c.y,a.Bf=0,U.Vb(c)))},jc=t(),kc=function(){this.Ee=
U.n(0,0);this.Fe=U.n(0,0);this.Bf=0},lc=t();lc.prototype.B=function(a){a.Bm(this)};lc.prototype.vk=function(a){for(var b=0,c=this.F[0].x*a.x+this.F[0].y*a.y,d=1;d<this.Z;d++){var e=this.F[d].x*a.x+this.F[d].y*a.y;e>c&&(b=d,c=e)}return b};lc.prototype.Pi=function(a){return this.F[this.vk(a)]};lc.prototype.ic=function(a){a===p&&(a=0);return this.F[a]};var mc=function(){this.gf=r;this.tv=this.By=0};H=mc.prototype;H.Ji=function(a,b){var c=nc(b);c.wa.ia.x=a.ia.x-0.1;c.wa.ia.y=a.ia.y-0.1;c.wa.ja.x=a.ja.x+
0.1;c.wa.ja.y=a.ja.y+0.1;this.hp(c);return c};H.Ki=function(a){this.qp(a);a.Mc()};H.um=function(a,b,c){if(a.wa.fm(b))return s;this.qp(a);var d=0.1+2*Math.abs(c.x);c=0.1+2*Math.abs(c.y);a.wa.ia.x=b.ia.x-d;a.wa.ia.y=b.ia.y-c;a.wa.ja.x=b.ja.x+d;a.wa.ja.y=b.ja.y+c;this.hp(a);return q};H.Ni=function(a){return a.wa};H.ym=function(a,b){if(this.gf!==r){var c=[];for(c.push(this.gf);0<c.length;){var d=c.pop();if(d.wa.aj(b))if(d.ip()){if(!a(d.Sd))break}else c.push(d.gd),c.push(d.Ne)}}};H.hp=function(a){this.tv++;
if(this.gf===r)this.gf=a,this.gf.parent=r;else{var b=this.ts(a),c=b.parent,d=nc();d.parent=c;d.wa.mk(a.wa,b.wa);if(c){b.parent.gd==b?c.gd=d:c.Ne=d;d.gd=b;d.Ne=a;b.parent=d;for(a.parent=d;c&&!c.wa.fm(d.wa);)c.wa.mk(c.gd.wa,c.Ne.wa),d=c,c=c.parent}else d.gd=b,d.Ne=a,b.parent=d,this.gf=a.parent=d}};H.ts=function(a){a=a.wa.us();for(var b=this.gf;!b.ip();)var c=b.gd,b=b.Ne,d=Math.abs((c.wa.ia.x+c.wa.ja.x)/2-a.x)+Math.abs((c.wa.ia.y+c.wa.ja.y)/2-a.y),e=Math.abs((b.wa.ia.x+b.wa.ja.x)/2-a.x)+Math.abs((b.wa.ia.y+
b.wa.ja.y)/2-a.y),b=d<e?c:b;U.Vb(a);return b};H.qp=function(a){if(a==this.gf)this.gf=r;else{var b=a.parent,c=b.parent;a=b.gd==a?b.Ne:b.gd;if(c){c.gd==b?c.gd=a:c.Ne=a;for(a.parent=c;c;){a=c.wa;c.wa.mk(c.gd.wa,c.Ne.wa);if(a.fm(c.wa))break;c=c.parent}}else this.gf=a,a.parent=r;b.Mc()}};var oc=function(){this.Uf=new mc;this.Hl=[]};H=oc.prototype;H.Ji=function(a,b){var c=this.Uf.Ji(a,b);this.Yo(c);return c};H.Ki=function(a){this.at(a);this.Uf.Ki(a)};H.um=function(a,b,c){this.Uf.um(a,b,c)&&this.Yo(a)};
H.aj=function(a,b){return this.Uf.Ni(a).aj(this.Uf.Ni(b))};H.Ni=function(a){return this.Uf.Ni(a)};H.bt=function(a){for(var b=[];0<this.Hl.length;){var c=this.Hl.pop();this.Uf.ym(function(a){a!=c.Sd&&b.push(new pc(c.Sd,a));return q},this.Uf.Ni(c))}for(var d=0;d<b.length;){var e=b[d];a(e.jj,e.kj);for(d++;d<b.length;){var g=b[d];if(!(g.jj==e.jj&&g.kj==e.kj)&&!(g.jj==e.kj&&g.kj==e.jj))break;d++}}};H.ym=function(a,b){this.Uf.ym(a,b)};H.Yo=function(a){this.Hl.push(a)};H.at=function(a){ra(this.Hl,a)};var qc=
function(a){this.wa=dc();this.Sd=this.parent=this.Ne=this.gd=r;"undefined"!=typeof a&&(this.Sd=a)},rc=[],nc=function(a){if(0<rc.length){var b=rc.pop();"undefined"!=typeof a&&(b.Sd=a);b.wa.W();return b}return new qc(a)};qc.prototype.Mc=function(){this.Sd=this.parent=this.Ne=this.gd=r;rc.push(this)};qc.prototype.ip=function(){return this.gd===r};var pc=function(a,b){this.jj=a;this.kj=b},tc=function(){this.Da=this.sb=0;this.Y=[];for(var a=0;2>a;a++)this.Y[a]=new sc;this.ec=U.n(0,0);this.da=U.n(0,0)};
tc.prototype.Xb=function(){for(var a=0;2>a;a++)this.Y[a].Xb();this.ec.W();this.da.W();this.sb=this.Da=0};tc.prototype.B=function(a){this.sb=a.sb;for(var b=0;2>b;b++)this.Y[b].B(a.Y[b]);this.ec.z(a.ec);this.da.z(a.da);this.Da=a.Da};tc.prototype.Cb=function(){var a=new tc;a.B(this);return a};var sc=function(){this.da=U.n(0,0);this.Xd=new $b;this.Xb()};sc.prototype.Xb=function(){this.da.W();this.xh=this.th=0;this.Xd.Qg(0)};sc.prototype.B=function(a){this.da.z(a.da);this.th=a.th;this.xh=a.xh;this.Xd.B(a.Xd)};
var uc=function(){this.da=U.n(0,0);this.M=U.n(0,0)};uc.prototype.Db=function(a,b,c,d,e){this.sg=b;this.tg=d;var g,f,l,h=l=f=0,k=0;d=b=0;var m,n,h=0;1==a.count?(this.Da=vc,g=this.sg.ic(a.wb[0]),a=this.tg.ic(a.xb[0]),n=g,m=c.k,f=c.position.x+(m.c.x*n.x+m.i.x*n.y),l=c.position.y+(m.c.y*n.x+m.i.y*n.y),n=a,m=e.k,h=e.position.x+(m.c.x*n.x+m.i.x*n.y),k=e.position.y+(m.c.y*n.x+m.i.y*n.y),this.M.x=h-f,this.M.y=k-l,this.M.Dc()):(a.xb[0]==a.xb[1]?(this.Da=wc,b=this.sg.ic(a.wb[0]),d=this.sg.ic(a.wb[1]),a=this.tg.ic(a.xb[0]),
this.da.x=0.5*(b.x+d.x),this.da.y=0.5*(b.y+d.y),this.M=W.sf(W.Qa(d,b),1),this.M.Dc(),n=this.M,m=c.k,b=m.c.x*n.x+m.i.x*n.y,d=m.c.y*n.x+m.i.y*n.y,n=this.da,m=c.k,f=c.position.x+(m.c.x*n.x+m.i.x*n.y),l=c.position.y+(m.c.y*n.x+m.i.y*n.y),n=a,m=e.k,h=e.position.x+(m.c.x*n.x+m.i.x*n.y),k=e.position.y+(m.c.y*n.x+m.i.y*n.y),h=(h-f)*b+(k-l)*d):a.wb[0]==a.wb[0]?(this.Da=xc,f=this.tg.ic(a.xb[0]),l=this.tg.ic(a.xb[1]),g=this.sg.ic(a.wb[0]),this.da.x=0.5*(f.x+l.x),this.da.y=0.5*(f.y+l.y),this.M=W.sf(W.Qa(l,f),
1),this.M.Dc(),n=this.M,m=e.k,b=m.c.x*n.x+m.i.x*n.y,d=m.c.y*n.x+m.i.y*n.y,n=this.da,m=e.k,h=e.position.x+(m.c.x*n.x+m.i.x*n.y),k=e.position.y+(m.c.y*n.x+m.i.y*n.y),n=g,m=c.k,f=c.position.x+(m.c.x*n.x+m.i.x*n.y),l=c.position.y+(m.c.y*n.x+m.i.y*n.y),h=(f-h)*b+(l-k)*d):(b=this.sg.ic(a.wb[0]),d=this.sg.ic(a.wb[1]),f=this.tg.ic(a.xb[0]),l=this.tg.ic(a.xb[1]),h=W.ob(c.k,W.Qa(d,b)),k=W.ob(e.k,W.Qa(l,f)),e=h.x*h.x+h.y*h.y,c=k.x*k.x+k.y*k.y,g=W.Qa(k,h),a=h.x*g.x+h.y*g.y,g=k.x*g.x+k.y*g.y,k=h.x*k.x+h.y*k.y,
m=e*c-k*k,h=0,0!=m&&(h=W.Ta((k*g-a*c)/m,0,1)),0>(k*h+g)/c&&(h=W.Ta((k-a)/e,0,1)),g=U.n(0,0),g.x=b.x+h*(d.x-b.x),g.y=b.y+h*(d.y-b.y),a=U.n(0,0),a.x=f.x+h*(l.x-f.x),a.y=f.y+h*(l.y-f.y),0==h||1==h?(this.Da=xc,this.M=W.sf(W.Qa(l,f),1),this.M.Dc(),this.da=a):(this.Da=wc,this.M=W.sf(W.Qa(d,b),1),this.da=g)),0>h&&this.M.op())};uc.prototype.Je=function(a,b){var c,d,e=0;switch(this.Da){case vc:c=W.tf(a.k,this.M);d=W.tf(b.k,this.M.dg());c=this.sg.Pi(c);d=this.tg.Pi(d);c=W.Mb(a,c);d=W.Mb(b,d);e=(d.x-c.x)*this.M.x+
(d.y-c.y)*this.M.y;break;case wc:e=W.ob(a.k,this.M);c=W.Mb(a,this.da);d=W.tf(b.k,e.dg());d=this.tg.Pi(d);d=W.Mb(b,d);e=(d.x-c.x)*e.x+(d.y-c.y)*e.y;break;case xc:e=W.ob(b.k,this.M),d=W.Mb(b,this.da),c=W.tf(a.k,e.dg()),c=this.sg.Pi(c),c=W.Mb(a,c),e=(c.x-d.x)*e.x+(c.y-d.y)*e.y}return e};var vc=1,wc=2,xc=4,hc=function(){this.$=new yc;this.ma=new yc;this.hd=new yc;this.F=[this.$,this.ma,this.hd]};H=hc.prototype;H.Rs=function(a,b,c,d,e){var g,f;this.Z=a.count;for(var l=this.F,h=0;h<this.Z;h++){var k=l[h];
k.wb=a.wb[h];k.xb=a.xb[h];g=b.ic(k.wb);f=d.ic(k.xb);k.oc=W.Mb(c,g);k.he=W.Mb(e,f);k.hc=W.Qa(k.he,k.oc);k.G=0}if(1<this.Z&&(a=a.Iv,g=this.gp(),g<0.5*a||2*a<g||g<Number.MIN_VALUE))this.Z=0;0==this.Z&&(k=l[0],k.wb=0,k.xb=0,g=b.ic(0),f=d.ic(0),k.oc=W.Mb(c,g),k.he=W.Mb(e,f),k.hc=W.Qa(k.he,k.oc),this.Z=1)};H.ct=function(a){a.Iv=this.gp();a.count=this.Z;for(var b=this.F,c=0;c<this.Z;c++)a.wb[c]=b[c].wb,a.xb[c]=b[c].xb};H.ws=function(){if(1==this.Z)return this.$.hc.dg();if(2==this.Z){var a=W.Qa(this.ma.hc,
this.$.hc);return 0<W.Kg(a,this.$.hc.dg())?W.hm(1,a):W.sf(a,1)}return U.n(0,0)};H.xs=function(a,b){1==this.Z?(a.z(this.$.oc),b.z(this.$.he)):2==this.Z?(a.x=this.$.G*this.$.oc.x+this.ma.G*this.ma.oc.x,a.y=this.$.G*this.$.oc.y+this.ma.G*this.ma.oc.y,b.x=this.$.G*this.$.he.x+this.ma.G*this.ma.he.x,b.y=this.$.G*this.$.he.y+this.ma.G*this.ma.he.y):3==this.Z&&(b.x=a.x=this.$.G*this.$.oc.x+this.ma.G*this.ma.oc.x+this.hd.G*this.hd.oc.x,b.y=a.y=this.$.G*this.$.oc.y+this.ma.G*this.ma.oc.y+this.hd.G*this.hd.oc.y)};
H.gp=function(){return 1==this.Z?0:2==this.Z?W.Qa(this.$.hc,this.ma.hc).Le():3==this.Z?W.Kg(W.Qa(this.ma.hc,this.$.hc),W.Qa(this.hd.hc,this.$.hc)):0};H.Ws=function(){var a=this.$.hc,b=this.ma.hc,c=W.Qa(b,a),a=-(a.x*c.x+a.y*c.y);0>=a?this.Z=this.$.G=1:(b=b.x*c.x+b.y*c.y,0>=b?(this.Z=this.ma.G=1,this.$.B(this.ma)):(c=1/(b+a),this.$.G=b*c,this.ma.G=a*c,this.Z=2))};H.Xs=function(){var a=this.$.hc,b=this.ma.hc,c=this.hd.hc,d=W.Qa(b,a),e=W.bb(b,d),g=-W.bb(a,d),f=W.Qa(c,a),l=W.bb(c,f),h=-W.bb(a,f),k=W.Qa(c,
b),m=W.bb(c,k),k=-W.bb(b,k),f=W.Kg(d,f),d=f*W.Kg(b,c),c=f*W.Kg(c,a),a=f*W.Kg(a,b);0>=g&&0>=h?this.Z=this.$.G=1:0<e&&0<g&&0>=a?(l=1/(e+g),this.$.G=e*l,this.ma.G=g*l,this.Z=2):0<l&&0<h&&0>=c?(e=1/(l+h),this.$.G=l*e,this.hd.G=h*e,this.Z=2,this.ma.B(this.hd)):0>=e&&0>=k?(this.Z=this.ma.G=1,this.$.B(this.ma)):0>=l&&0>=m?(this.Z=this.hd.G=1,this.$.B(this.hd)):0<m&&0<k&&0>=d?(e=1/(m+k),this.ma.G=m*e,this.hd.G=k*e,this.Z=2,this.$.B(this.hd)):(e=1/(d+c+a),this.$.G=d*e,this.ma.G=c*e,this.hd.G=a*e,this.Z=3)};
var zc=function(){this.wb=[0,0,0];this.xb=[0,0,0]},yc=t();yc.prototype.B=function(a){this.oc.z(a.oc);this.he.z(a.he);this.hc.z(a.hc);this.G=a.G;this.wb=a.wb;this.xb=a.xb};var Ac=function(){this.Wf=new lc;this.Xf=new lc;this.Pr=new Wb;this.Qr=new Wb},Bc=function(){this.ba=U.n(0,0);this.Y=[];for(var a=this.sb=0;2>a;a++)this.Y[a]=U.n(0,0)};Bc.prototype.Db=function(a,b,c,d,e){if(0!=a.sb){var g=0,f,l,h=0,k=0,m=0,n=0,w=0;f=0;switch(a.Da){case 1:l=b.k;f=a.da;g=b.position.x+l.c.x*f.x+l.i.x*f.y;b=b.position.y+
l.c.y*f.x+l.i.y*f.y;l=d.k;f=a.Y[0].da;a=d.position.x+l.c.x*f.x+l.i.x*f.y;d=d.position.y+l.c.y*f.x+l.i.y*f.y;f=a-g;l=d-b;h=f*f+l*l;h>Tb?(h=Math.sqrt(h),this.ba.x=f/h,this.ba.y=l/h):(this.ba.x=1,this.ba.y=0);f=b+c*this.ba.y;d-=e*this.ba.y;this.Y[0].x=0.5*(g+c*this.ba.x+(a-e*this.ba.x));this.Y[0].y=0.5*(f+d);break;case 2:l=b.k;f=a.ec;h=l.c.x*f.x+l.i.x*f.y;k=l.c.y*f.x+l.i.y*f.y;l=b.k;f=a.da;m=b.position.x+l.c.x*f.x+l.i.x*f.y;n=b.position.y+l.c.y*f.x+l.i.y*f.y;this.ba.x=h;this.ba.y=k;for(g=0;g<a.sb;g++)l=
d.k,f=a.Y[g].da,w=d.position.x+l.c.x*f.x+l.i.x*f.y,f=d.position.y+l.c.y*f.x+l.i.y*f.y,this.Y[g].x=w+0.5*(c-(w-m)*h-(f-n)*k-e)*h,this.Y[g].y=f+0.5*(c-(w-m)*h-(f-n)*k-e)*k;break;case 4:l=d.k;f=a.ec;h=l.c.x*f.x+l.i.x*f.y;k=l.c.y*f.x+l.i.y*f.y;l=d.k;f=a.da;m=d.position.x+l.c.x*f.x+l.i.x*f.y;n=d.position.y+l.c.y*f.x+l.i.y*f.y;this.ba.x=-h;this.ba.y=-k;for(g=0;g<a.sb;g++)l=b.k,f=a.Y[g].da,w=b.position.x+l.c.x*f.x+l.i.x*f.y,f=b.position.y+l.c.y*f.x+l.i.y*f.y,this.Y[g].x=w+0.5*(e-(w-m)*h-(f-n)*k-c)*h,this.Y[g].y=
f+0.5*(e-(w-m)*h-(f-n)*k-c)*k}}};var Ib=function(a,b){this.Bc="Body"+Ib.vm++;this.q=new Gb;this.q.position.z(a.position);this.q.k.B(a.P);this.j=new Wb;this.j.J.W();this.j.yc=1;this.j.Nd=this.j.G=a.P;this.j.p.x=this.q.k.c.x*this.j.J.x+this.q.k.i.x*this.j.J.y;this.j.p.y=this.q.k.c.y*this.j.J.x+this.q.k.i.y*this.j.J.y;this.j.p.x+=this.q.position.x;this.j.p.y+=this.q.position.y;this.j.Zb.z(this.j.p);this.m=a.Kn.Cb();this.Of=U.n(0,0);this.ii=a.Zg;this.ov=a.en;this.Qn=a.Ip;this.Rn=a.Mp;this.Bj=a.xd;this.ra=
b;this.Za=r;this.Qc=new Cc;this.ah=new Dc;this.qy=0;this.u=a.Jp;this.vv=a.mh;this.jv=a.Vg;this.Mj=this.yh=0;this.Da=a.type;this.K=this.Da==X.Nb?1:0;this.C=this.Da==X.Nb?1:0;this.L=this.Vd=0;this.sv=a.Eq;this.Yh=new Ec;this.Fl=[]};H=Ib.prototype;H.ok=function(a){a=new Hb(this,this.q,a);this.Bj&&a.Ji(this.ra.Ic.hi,this.q);this.Yh.gs(a);a.Dj=this;0<a.Bl&&this.sp();this.ra.ao=q;return a};H.Mc=function(){U.Vb(this.m);U.Vb(this.Of)};H.$o=function(a){this.Yh.Ss(a);for(var b=this.Qc.na(Fc);b;b=b.next)(a==
b.Pb.eb||a==b.Pb.Ya)&&this.ra.Ic.Mc(b.Pb);this.Bj&&a.Ki(this.ra.Ic.hi);a.Mc();a.Dj=r;this.sp()};H.Zi=function(a,b){this.q.k.B(b);this.q.position.z(a);var c=this.q.k,d=this.j.J;this.j.p.x=c.c.x*d.x+c.i.x*d.y;this.j.p.y=c.c.y*d.x+c.i.y*d.y;this.j.p.x+=this.q.position.x;this.j.p.y+=this.q.position.y;this.j.Zb.z(this.j.p);this.j.Nd=this.j.G=b;c=this.ra.Ic.hi;for(d=this.Yh.na();d;d=d.next)d.Sd.Bp(c,this.q,this.q);this.ra.Ic.rk()};H.Zc=y("q");H.Cm=function(a){this.Zi(a,this.Xc())};H.Xc=function(){return this.j.G};
H.zk=function(a){this.Zi(this.q.position,a)};H.Lh=function(){return this.j.p};H.Mg=function(){return this.j.J};H.Rg=function(a){this.Da!=X.yd&&this.m.z(a)};H.Lg=y("m");H.Yi=function(a){a===p&&(a=0);this.Da!=X.yd&&(this.u=a)};H.sk=y("u");H.ud=function(a,b){this.Da==X.Nb&&(this.jc(q),this.Of.x+=a.x,this.Of.y+=a.y,this.yh+=(b.x-this.j.p.x)*a.y-(b.y-this.j.p.y)*a.x)};H.jk=function(a){a===p&&(a=0);this.Da==X.Nb&&(this.jc(q),this.yh+=a)};H.fp=function(a){a||(a=new Zb);a.hf=this.K;a.Mh=this.Vd;a.zf.z(this.j.J);
return a};H.sp=function(){this.L=this.Vd=this.C=this.K=0;this.j.J.W();if(!(this.Da==X.yd||this.Da==X.Op)){for(var a=U.n(0,0),b=this.Yh.na();b;b=b.next){var c=b.Sd;0!=c.Bl&&(c=c.fp(),this.K+=c.hf,a.x+=c.zf.x*c.hf,a.y+=c.zf.y*c.hf,this.Vd+=c.Mh)}0<this.K?(this.C=1/this.K,a.x*=this.C,a.y*=this.C):this.C=this.K=1;0<this.Vd&&!this.ov?(this.Vd-=this.K*(a.x*a.x+a.y*a.y),this.Vd*=this.sv,this.L=1/this.Vd):this.L=this.Vd=0;b=this.j.p.Cb();this.j.J.z(a);this.j.Zb.z(W.Mb(this.q,this.j.J));this.j.p.z(this.j.Zb);
this.m.x+=this.u*-(this.j.p.y-b.y);this.m.y+=this.u*+(this.j.p.x-b.x);U.Vb(a);U.Vb(b)}};H.wk=function(a){var b=this.q.k;a=U.n(b.c.x*a.x+b.i.x*a.y,b.c.y*a.x+b.i.y*a.y);a.x+=this.q.position.x;a.y+=this.q.position.y;return a};H.qm=function(a){return W.ob(this.q.k,a)};H.Yc=function(a){return W.np(this.q,a)};H.pm=function(a){return W.tf(this.q.k,a)};H.vs=function(a){return U.n(this.m.x-this.u*(a.y-this.j.p.y),this.m.y+this.u*(a.x-this.j.p.x))};H.Wb=y("Da");H.jc=function(a){if(this.Rn!=a){this.Rn=a;this.Mj=
0;a||(this.m.W(),this.u=0,this.Of.W(),this.yh=0);for(a=0;a<this.Fl.length;a++)this.Fl[a].Ep(this)}};H.qc=y("Rn");H.Og=y("Bj");H.mm=y("Yh");H.Fi=function(a){this.ah.Fi(a)};H.Wi=function(a){this.ah.Wi(a)};H.cg=y("Qc");H.Cp=function(){var a=Ib.ew;a.k.B(this.j.Nd);var b=a.k,c=this.j.J;a.position.x=this.j.Zb.x-(b.c.x*c.x+b.i.x*c.y);a.position.y=this.j.Zb.y-(b.c.y*c.x+b.i.y*c.y);b=this.ra.Ic.hi;for(c=this.Yh.na();c;c=c.next)c.Sd.Bp(b,a,this.q)};H.cb=function(){this.q.k.B(this.j.G);var a=this.q.k,b=this.j.J;
this.q.position.x=this.j.p.x-(a.c.x*b.x+a.i.x*b.y);this.q.position.y=this.j.p.y-(a.c.y*b.x+a.i.y*b.y)};H.Sg=function(a){if(this.Da!=X.Nb&&a.Da!=X.Nb)return s;for(var b=this.Za;b;b=b.next)if(b.Id==a&&b.Jf.Xq==s)return s;return q};H.bg=function(a){this.j.bg(a);this.j.p.z(this.j.Zb);this.j.G=this.j.Nd;this.cb()};Ib.vm=0;var X=function(){this.position=U.n(0,0);this.Kn=U.n(0,0);this.Vg=this.mh=this.Jp=this.P=0;this.Mp=this.Ip=q;this.Zg=this.en=s;this.type=X.yd;this.xd=q;this.Eq=1};X.yd=0;X.Op=1;X.Nb=2;
var Hc=function(){this.Ik=[];for(var a=0;a<=Gc;a++)this.Ik[a]=r;this.Jk=[];for(a=0;a<=Gc;a++)this.Jk[a]=r;this.Qh={};this.Rp=0};H=Hc.prototype;H.na=function(a){return this.Ik[a]};H.Gh=function(a){var b=a.Bc;this.Qh[b]==r&&(this.Ie(a,b,Gc),this.Ep(a),a.Fl.push(this),this.Rp++)};H.Ep=function(a){var b=a.Wb(),c=a.Bc,d=a.qc(),e=a.Og();b==X.Nb?this.Ie(a,c,Ic):this.Me(c,Ic);b!=X.yd?this.Ie(a,c,Jc):this.Me(c,Jc);b!=X.yd&&e&&d?this.Ie(a,c,Kc):this.Me(c,Kc);d?this.Ie(a,c,Lc):this.Me(c,Lc);e?this.Ie(a,c,Mc):
this.Me(c,Mc)};H.Vi=function(a){var b=a.Bc;if(this.Qh[b]!=r){ra(a.Fl,this);for(a=0;a<=Gc;a++)this.Me(b,a);delete this.Qh[b];this.Rp--}};H.Me=function(a,b){var c=this.Qh[a];if(c!=r){var d=c[b];d!=r&&(c[b]=r,c=d.$d,d=d.next,c==r?this.Ik[b]=d:c.ke(d),d==r?this.Jk[b]=c:d.le(c))}};H.Ie=function(a,b,c){var d=this.Qh[b];if(d==r){for(var d=[],e=0;e<=Gc;e++)d[e]=r;this.Qh[b]=d}d[c]==r&&(d[c]=new Nc(a),a=this.Jk[c],a!=r?a.ke(d[c]):this.Ik[c]=d[c],d[c].le(a),this.Jk[c]=d[c])};var Ic=0,Jc=1,Mc=2,Kc=3,Lc=4,Gc=
5,Nc=function(a){this.body=a;this.$d=this.next=r};Nc.prototype.ke=aa("next");Nc.prototype.le=aa("$d");Nc.prototype.va=y("body");var Oc=t();Oc.prototype.Sg=function(a,b){var c=a.ep(),d=b.ep();return c.mg==d.mg&&0!=c.mg?0<c.mg:0!=(c.qi&d.Sh)&&0!=(c.Sh&d.qi)};var Pc=new Oc,Qc=function(){this.Lv=[];this.nw=[]},Jb=t();Jb.prototype.kk=t();var Sc=function(a){this.ra=a;this.Sn=Pc;this.Mf=Jb.Np;this.Yq=new Rc;this.hi=new oc};Sc.prototype.js=function(a,b){var c=a.va(),d=b.va();if(c!=d&&d.Sg(c)&&this.Sn.Sg(a,
b)){for(c=d.Qc.na(Fc);c;c=c.next)if(d=c.Pb.eb,d==a){if(d=c.Pb.Ya,d==b)return}else if(d==b&&(d=c.Pb.Ya,d==a))return;this.Yq.Kd(a,b)}};Sc.prototype.rk=function(){var a=this;this.hi.bt(function(b,c){a.js(b,c)})};Sc.prototype.Mc=function(a){0<a.Gd.sb&&(a.eb.va().jc(q),a.Ya.va().jc(q));a.Ts();this.Yq.Mc(a)};Sc.prototype.ms=function(){for(var a=this.ra.Qc.na(Fc);a;a=a.next){var b=a.Pb,c=b.eb,d=b.Ya,e=c.va(),g=d.va();if(!(e.qc()==s&&g.qc()==s)){if(b.Xk){if(g.Sg(e)==s){this.Mc(b);continue}if(this.Sn.Sg(c,
d)==s){this.Mc(b);continue}b.ls()}this.hi.aj(c.uh,d.uh)==s?this.Mc(b):b.Dp(this.Mf)}}};var Tc=function(){this.Sh=1;this.qi=65535;this.mg=0};Tc.prototype.Cb=function(){var a=new Tc;a.Sh=this.Sh;a.qi=this.qi;a.mg=this.mg;return a};var Hb=function(a,b,c){this.Bc="Fixture"+Hb.vm++;this.nv=c.filter.Cb();this.ph=dc();this.Dj=a;this.Tf=c.shape.Cb();this.Bl=c.qe;this.Vn=c.Ue;this.Lj=c.mf;this.Dl=c.yn};H=Hb.prototype;H.Lb=y("Tf");H.Pg=y("Dl");H.ep=function(){return this.nv.Cb()};H.va=y("Dj");H.fp=function(a){a||
(a=new Zb);this.Tf.Ii(a,this.Bl);return a};H.Mc=function(){cc.push(this.ph)};H.Ji=function(a,b){this.Tf.Ih(this.ph,b);this.uh=a.Ji(this.ph,this)};H.Ki=function(a){this.uh!=r&&(a.Ki(this.uh),this.uh=r)};H.Bp=function(a,b,c){if(this.uh){var d=dc(),e=dc();this.Tf.Ih(d,b);this.Tf.Ih(e,c);this.ph.mk(d,e);cc.push(d);cc.push(e);b=W.Qa(c.position,b.position);a.um(this.uh,this.ph,b);U.Vb(b)}};Hb.vm=0;var Mb=function(){this.filter=new Tc;this.filter.Sh=1;this.filter.qi=65535;this.filter.mg=0;this.shape=r;this.Ue=
0.2;this.qe=this.mf=0;this.yn=s},Ec=function(){this.hn=this.gn=r;this.Yk={};this.oq=0};Ec.prototype.na=y("gn");Ec.prototype.gs=function(a){var b=a.Bc;if(this.Yk[b]==r){a=new Uc(a);var c=this.hn;c!=r?c.ke(a):this.gn=a;a.le(c);this.hn=a;this.Yk[b]=a;this.oq++}};Ec.prototype.Ss=function(a){a=a.Bc;var b=this.Yk[a];if(b!=r){var c=b.$d,b=b.next;c==r?this.gn=b:c.ke(b);b==r?this.hn=c:b.le(c);delete this.Yk[a];this.oq--}};var Uc=function(a){this.Sd=a;this.$d=this.next=r};Uc.prototype.ke=aa("next");Uc.prototype.le=
aa("$d");var Vc=function(a,b){this.wv=a;this.Ae=b;this.$e=[];this.Cl=[];this.rg=[];this.Nf=[];this.uc=[]};H=Vc.prototype;H.lk=function(){this.$e=[];this.Cl=[];this.rg=[];this.Nf=[];this.uc=[]};H.fg=function(a,b,c){this.gt(a,b);this.Ae.Db(a,this.Nf,this.Nf.length);this.mt(a);this.it(a);this.jt(a);this.rp(this.Ae.bf);c&&this.ht(a)};H.gt=function(a,b){for(var c=0;c<this.Cl.length;c++){var d=this.Cl[c];d.m.x+=a.ka*(b.x+d.C*d.Of.x);d.m.y+=a.ka*(b.y+d.C*d.Of.y);d.u+=a.ka*d.L*d.yh;d.m.Cc(W.Ta(1-a.ka*d.vv,
0,1));d.u*=W.Ta(1-a.ka*d.jv,0,1)}};H.mt=function(a){this.Ae.Ld(a);for(var b=0;b<this.uc.length;b++)this.uc[b].Ld(a);for(b=0;b<a.hk;b++){for(var c=0;c<this.uc.length;c++)this.uc[c].wd(a);this.Ae.wd()}for(a=0;a<this.uc.length;a++)this.uc[a].km();this.Ae.km()};H.it=function(a){for(var b=0;b<this.rg.length;++b){var c=this.rg[b],d=a.ka*c.m.x,e=a.ka*c.m.y;4<d*d+e*e&&(c.m.Dc(),c.m.x*=2*a.Ff,c.m.y*=2*a.Ff);d=a.ka*c.u;d*d>Rb&&(c.u=0>c.u?-Qb*a.Ff:Qb*a.Ff);c.j.Zb.z(c.j.p);c.j.Nd=c.j.G;c.j.p.x+=a.ka*c.m.x;c.j.p.y+=
a.ka*c.m.y;c.j.G+=a.ka*c.u;c.cb()}};H.jt=function(a){for(var b=0;b<a.Vj;b++){for(var c=this.Ae.vd(0.2),d=q,e=0;e<this.uc.length;e++)var g=this.uc[e].vd(0.2),d=d&&g;if(c&&d)break}};H.ht=function(a){for(var b=Number.MAX_VALUE,c=0;c<this.rg.length;c++){var d=this.rg[c];!d.Qn||Math.abs(d.u)>Sb||1E-4<W.bb(d.m,d.m)?b=d.Mj=0:(d.Mj+=a.ka,b=Math.min(b,d.Mj))}if(0.5<=b)for(a=0;a<this.$e.length;a++)this.$e[a].jc(s)};H.Em=function(a){var b=0,c=0;this.Ae.Db(a,this.Nf,this.Nf.length);for(var d=this.Ae,b=0;b<this.uc.length;++b)this.uc[b].Ld(a);
for(b=0;b<a.hk;++b){d.wd();for(c=0;c<this.uc.length;++c)this.uc[c].wd(a)}for(b=0;b<this.rg.length;++b){var c=this.rg[b],e=a.ka*c.m.x,g=a.ka*c.m.y;4<e*e+g*g&&(c.m.Dc(),c.m.x*=2*a.Ff,c.m.y*=2*a.Ff);e=a.ka*c.u;e*e>Rb&&(c.u=0>c.u?-Qb*a.Ff:Qb*a.Ff);c.j.Zb.z(c.j.p);c.j.Nd=c.j.G;c.j.p.x+=a.ka*c.m.x;c.j.p.y+=a.ka*c.m.y;c.j.G+=a.ka*c.u;c.cb()}for(b=0;b<a.Vj;++b){e=d.vd(0.75);g=q;for(c=0;c<this.uc.length;++c)var f=this.uc[c].vd(0.2),g=g&&f;if(e&&g)break}this.rp(d.bf)};H.rp=function(a){if(this.wv!=r)for(var b=
0;b<this.Nf.length;++b)for(var c=a[b],d=new Qc,e=0;e<c.Zd;++e)d.Lv[e]=c.ub[e].tb,d.nw[e]=c.ub[e].of};H.Gh=function(a){this.$e.push(a);a.Wb()!=X.yd&&(this.rg.push(a),a.Wb()==X.Nb&&this.Cl.push(a))};H.Hh=function(a){this.Nf.push(a)};H.Wo=function(a){this.uc.push(a)};var Wc=function(a,b,c,d,e){this.ka=a;var g=0;0<a&&(g=1/a);this.Ff=g;this.Gb=b;this.Vj=c;this.hk=d;this.ag=e},Kb=function(a,b){this.Ic=new Sc(this);this.Ae=new Xc;this.ao=this.br=s;this.zy=r;this.Yb=new Hc;this.Qc=new Cc;this.Za=r;this.ah=
new Dc;this.El=0;this.lv=this.Dv=q;this.Qn=b;this.Zq=a;this.$q=0;this.rv=this.gm(new X)};Kb.ys=1-100*Number.MIN_VALUE;H=Kb.prototype;H.vp=function(a){this.Ic.Sn=a};H.wp=function(a){this.Ic.Mf=a};H.gm=function(a){a=new Ib(a,this);this.Yb.Gh(a);return a};H.qk=function(a){for(var b=a.Za;b;){var c=b,b=b.next;this.jm(c.Jf)}for(b=a.ah.na();b;b=b.next)b.bq.Vi(a);for(b=a.Qc.na(Fc);b;b=b.next)this.Ic.Mc(b.Pb);for(b=a.mm().na();b;b=b.next)a.$o(b.Sd);a.Mc();this.Yb.Vi(a)};H.pk=function(a){var b=Z.Kd(a);b.ki=
r;if(b.qg=this.Za)this.Za.ki=b;this.Za=b;this.El++;b.Jc.Jf=b;b.Jc.Id=b.O;b.Jc.prev=r;if(b.Jc.next=b.N.Za)b.N.Za.prev=b.Jc;b.N.Za=b.Jc;b.Kc.Jf=b;b.Kc.Id=b.N;b.Kc.prev=r;if(b.Kc.next=b.O.Za)b.O.Za.prev=b.Kc;b.O.Za=b.Kc;var c=a.H,d=a.I;if(!a.Tm)for(a=d.Qc.na(Fc);a;a=a.next)a.Pb.uk(d)==c&&a.Pb.cp();return b};H.jm=function(a){var b=a.Xq;a.ki&&(a.ki.qg=a.qg);a.qg&&(a.qg.ki=a.ki);a==this.Za&&(this.Za=a.qg);var c=a.N,d=a.O;c.jc(q);d.jc(q);a.Jc.prev&&(a.Jc.prev.next=a.Jc.next);a.Jc.next&&(a.Jc.next.prev=a.Jc.prev);
a.Jc==c.Za&&(c.Za=a.Jc.next);a.Jc.prev=r;a.Jc.next=r;a.Kc.prev&&(a.Kc.prev.next=a.Kc.next);a.Kc.next&&(a.Kc.next.prev=a.Kc.prev);a.Kc==d.Za&&(d.Za=a.Kc.next);a.Kc.prev=r;a.Kc.next=r;this.El--;if(!b)for(a=d.Qc.na(Fc);a;a=a.next)a.Pb.uk(d)==c&&a.Pb.cp()};H.Fi=function(a){if(a.ra!==r&&a.ra!=this)throw Error("Controller can only be a member of one world");this.ah.Fi(a);a.ra=this;return a};H.Wi=function(a){this.ah.Wi(a);a.ra=r;a.lk()};H.uf=function(a,b,c){this.ao&&(this.Ic.rk(),this.ao=s);this.br=q;a=
new Wc(a,this.$q*a,b,c,this.Dv);this.Ic.ms();0<a.ka&&(this.fg(a),this.lv&&this.Em(a),this.$q=a.Ff);this.br=s};H.Zo=function(){for(var a=this.Yb.na(Ic);a;a=a.next)a.body.Of.W(),a.body.yh=0};H.cg=y("Qc");var Yc=[];Kb.prototype.fg=function(a){for(var b=this.ah.na();b;b=b.next)b.bq.uf(a);for(var b=new Vc(this.Ic.Mf,this.Ae),c=this.Yb.na(Gc);c;c=c.next)c.body.Sa=s;for(var d=this.Qc.na(Fc);d;d=d.next)d.Pb.Sa=s;for(c=this.Za;c;c=c.qg)c.Sa=s;for(c=this.Yb.na(Kc);c;c=c.next)if(d=c.body,!d.Sa){b.lk();Yc.length=
0;var e=Yc;e.push(d);for(d.Sa=q;0<e.length;){var g=e.pop();b.Gh(g);g.qc()||g.jc(q);if(g.Wb()!=X.yd){for(d=g.Qc.na(Zc);d;d=d.next){var f=d.Pb;f.Sa||(b.Hh(f),f.Sa=q,f=f.uk(g),f.Sa||(e.push(f),f.Sa=q))}for(d=g.Za;d;d=d.next)!d.Jf.Sa&&d.Id.Og()&&(b.Wo(d.Jf),d.Jf.Sa=q,d.Id.Sa||(e.push(d.Id),d.Id.Sa=q))}}b.fg(a,this.Zq,this.Qn)}for(c=this.Yb.na(Kc);c;c=c.next)c.body.Cp();this.Ic.rk()};Kb.prototype.Em=function(a){for(var b=new Vc(this.Ic.Mf,this.Ae),c=this.Yb.na(Gc);c;c=c.next){var d=c.body;d.Sa=s;d.j.yc=
0}for(var e=this.Qc.na(Fc);e;e=e.next)e.Pb.Sa=s,e.Pb.oi=r;for(c=this.Za;c;c=c.qg)c.Sa=s;for(;;){var c=this.kt(),g=c.Jv,c=c.Kv;if(g===r||Kb.ys<c)break;e=g.eb.va();d=g.Ya.va();Kb.Er.B(e.j);Kb.Fr.B(d.j);e.bg(c);d.bg(c);g.Dp(this.Ic.Mf);g.oi=r;if(g.Ql||!g.enabled)e.j.B(Kb.Er),d.j.B(Kb.Fr),e.cb(),d.cb();else if(g.dk){e.Wb()!=X.Nb&&(e=d);b.lk();Yc.length=0;g=Yc;g.push(e);for(e.Sa=q;0<g.length;)if(d=g.pop(),b.Gh(d),d.qc()||d.jc(q),d.Wb()==X.Nb){for(e=d.Qc.na(Zc);e&&32!=b.kv;e=e.next){var f=e.Pb;f.Sa||(b.Hh(f),
f.Sa=q,f=f.uk(d),f.Sa||(f.Wb()!=X.yd&&(f.bg(c),f.jc(q),g.push(f)),f.Sa=q))}for(d=d.Za;d;d=d.next)32!=b.El&&(!d.Jf.Sa&&d.Id.Og())&&(b.Wo(d.Jf),d.Jf.Sa=q,d.Id.Sa||(d.Id.Wb()!=X.yd&&(d.Id.bg(c),d.Id.jc(q),g.push(d.Id)),d.Id.Sa=q))}b.Em(new Wc((1-c)*a.ka,0,a.hk,a.Vj,s));for(c=0;c<b.$e.length;c++)if(b.$e[c].Sa=s,b.$e[c].qc()&&b.$e[c].Wb()==X.Nb){b.$e[c].Cp();for(e=b.$e[c].Qc.na(Fc);e;e=e.next)e.Pb.oi=r}for(c=0;c<b.kv;c++)b.Nf[c].Sa=s,b.Nf[c].oi=r;for(c=0;c<b.El;c++)b.uc[c].Sa=s;this.Ic.rk()}}};Kb.prototype.kt=
function(){for(var a=r,b=1,c=this.Qc.na($c);c;c=c.next){var d=c.Pb;if(!this.lt(d)){var e=1;if(d.oi!=r)e=d.oi;else{if(d.dk)e=1;else{var e=d.eb.va(),g=d.Ya.va(),f=e.j.yc;e.j.yc<g.j.yc?(f=g.j.yc,e.j.bg(f)):g.j.yc<e.j.yc&&(f=e.j.yc,g.j.bg(f));e=d.ps(e.j,g.j);0<e&&1>e&&(e=(1-e)*f+e)}d.oi=e}Number.MIN_VALUE<e&&e<b&&(a=d,b=e)}}return{Jv:a,Kv:b}};Kb.prototype.lt=function(a){var b=a.eb.va();a=a.Ya.va();return(b.Wb()!=X.Nb||!b.qc())&&(a.Wb()!=X.Nb||!a.qc())?q:s};var bd=function(a,b){this.Bc="Contact"+ad++;
this.Gd=new tc;this.Jj=new tc;this.dk=s;var c=a.va(),d=b.va();this.Um=c.Wb()!=X.Nb||c.ii||d.Wb()!=X.Nb||d.ii;this.Ql=a.Pg()||b.Pg();this.Xk=s;this.eb=a;this.Ya=b;this.enabled=q;this.Gk=c.cg();this.Hk=d.cg();this.em=d.ra.cg();this.Xo()};H=bd.prototype;H.Xb=function(a,b){this.Gd.Xb();this.Jj.Xb();this.dk=s;var c=a.va(),d=b.va();this.Um=c.Wb()!=X.Nb||c.ii||d.Wb()!=X.Nb||d.ii;this.Ql=a.Pg()||b.Pg();this.Xk=s;this.eb=a;this.Ya=b;this.enabled=q;this.Gk=c.cg();this.Hk=d.cg();this.em=d.ra.cg();this.Xo()};
H.Xo=function(){this.Gk.Hh(this);this.Hk.Hh(this);this.em.Hh(this);this.Fp()};H.Fp=function(){var a=s,b=s;!this.Pg()&&this.enabled&&(this.tm()&&(a=q),this.Um&&(b=q));this.Gk.Hm(this,a,b);this.Hk.Hm(this,a,b);this.em.Hm(this,a,b)};H.Ts=function(){this.Gk.zm(this);this.Hk.zm(this);this.em.zm(this)};H.tm=y("dk");H.Pg=y("Ql");H.uk=function(a){var b=this.eb.va();return b!=a?b:this.Ya.va()};H.cp=function(){this.Xk=q};H.ls=function(){this.Xk=s};H.Dp=function(a){var b=this.Jj;this.Jj=this.Gd;this.Gd=b;this.enabled=
q;var c=s,b=this.tm(),d=this.eb.va(),e=this.Ya.va(),g=this.eb.ph.aj(this.Ya.ph);if(this.Ql){if(g){var c=this.eb.Lb(),d=d.Zc(),g=this.Ya.Lb(),f=e.Zc(),e=new jc;e.Wf=new lc;e.Wf.B(c);e.Xf=new lc;e.Xf.B(g);e.Yl=d;e.Zl=f;e.as=q;d=new zc;d.count=0;c=new kc;ic(c,d,e);c=c.Bf<10*Number.MIN_VALUE}this.Gd.sb=0}else{this.Um=d.Wb()!=X.Nb||d.ii||e.Wb()!=X.Nb||e.ii?q:s;if(g){this.Je();c=0<this.Gd.sb;for(g=0;g<this.Gd.sb;g++){f=this.Gd.Y[g];f.th=0;for(var l=f.xh=0;l<this.Jj.sb;l++){var h=this.Jj.Y[l];if(h.Xd.Ec==
f.Xd.Ec){f.th=h.th;f.xh=h.xh;break}}}}else this.Gd.sb=0;c!=b&&(d.jc(q),e.jc(q))}this.dk=c;c!=b&&this.Fp();!b&&c&&a.kk(this)};H.Je=t();H.ps=function(a,b){cd.Wf.B(this.eb.Lb());cd.Xf.B(this.Ya.Lb());cd.Pr=a;cd.Qr=b;cd.qw=0.005;var c=cd;dd++;var d=c.Wf,e=c.Xf,g=c.Pr,f=c.Qr,l=d.Ca+e.Ca,c=c.qw,h=0,k=0,m=0;ed.count=0;for(fd.as=s;;){g.Zc(gd,h);f.Zc(hd,h);fd.Wf=d;fd.Xf=e;fd.Yl=gd;fd.Zl=hd;ic(id,ed,fd);if(0>=id.Bf){h=1;break}jd.Db(ed,d,gd,e,hd);var n=jd.Je(gd,hd);if(0>=n){h=1;break}0==k&&(m=n>l?Math.max(l-
c,0.75*l):Math.max(n-c,0.02*l));if(n-m<0.5*c){if(0==k){h=1;break}break}var w=h,u=h,x=1;g.Zc(gd,x);f.Zc(hd,x);var v=jd.Je(gd,hd);if(v>=m){h=1;break}for(var A=0;;){var D=0,D=A&1?u+(m-n)*(x-u)/(v-n):0.5*(u+x);g.Zc(gd,D);f.Zc(hd,D);var C=jd.Je(gd,hd);if(Math.abs(C-m)<0.025*c){w=D;break}C>m?(u=D,n=C):(x=D,v=C);A++;kd++;if(50==A)break}ld=Math.max(ld,A);if(w<(1+100*Number.MIN_VALUE)*h)break;h=w;k++;md++;if(1E3==k)break}nd=Math.max(nd,k);return h};var cd=new Ac,ad=0,od=function(a,b){bd.call(this,a,b)};S(od,
bd);od.prototype.Xb=function(a,b){bd.prototype.Xb.call(this,a,b)};od.prototype.Je=function(){var a=this.Gd,b=this.eb.Lb(),c=this.eb.va().q,d=this.Ya.Lb(),e=this.Ya.va().q;a.sb=0;var g=e.position.x+(e.k.c.x*d.Ma.x+e.k.i.x*d.Ma.y)-(c.position.x+(c.k.c.x*b.Ma.x+c.k.i.x*b.Ma.y)),c=e.position.y+(e.k.c.y*d.Ma.x+e.k.i.y*d.Ma.y)-(c.position.y+(c.k.c.y*b.Ma.x+c.k.i.y*b.Ma.y)),e=b.Ca+d.Ca;g*g+c*c>e*e||(a.Da=1,a.da.z(b.Ma),a.ec.W(),a.sb=1,a.Y[0].da.z(d.Ma),a.Y[0].Xd.Qg(0))};var qd=function(){this.Ze=U.n(0,0);
this.rb=U.n(0,0);this.vc=U.n(0,0);this.Vf=new V;this.$c=new V;this.ub=[];for(var a=0;2>a;a++)this.ub[a]=new pd},pd=function(){this.rb=U.n(0,0);this.ib=U.n(0,0);this.jb=U.n(0,0)};pd.prototype.Xb=function(){this.rb.B(0,0);this.ib.B(0,0);this.jb.B(0,0)};var Rc=function(){this.Ce={};this.Pf={};this.Gi(od,Lb.ie,Lb.ie);this.Gi(rd,Y.ie,Lb.ie);this.Gi(sd,Y.ie,Y.ie);this.Gi(td,"b2EdgeShape",Lb.ie);this.Gi(ud,Y.ie,"b2EdgeShape")};Rc.prototype.Gi=function(a,b,c){this.Pf[b]=this.Pf[b]||{};this.Pf[b][c]=this.Pf[b][c]||
[];this.Ce[b]=this.Ce[b]||{};this.Ce[b][c]=new vd;this.Ce[b][c].fq=a;this.Ce[b][c].ur=q;b!=c&&(this.Ce[c]=this.Ce[c]||{},this.Ce[c][b]=new vd,this.Ce[c][b].fq=a,this.Ce[c][b].ur=s)};Rc.prototype.Kd=function(a,b){var c=a.Lb().Ng(),d=b.Lb().Ng(),e=this.Ce[c][d],g=e.fq;return g!=r?e.ur?0<this.Pf[c][d].length?(c=this.Pf[c][d].pop(),c.Xb(a,b),c):new g(a,b):0<this.Pf[d][c].length?(c=this.Pf[d][c].pop(),c.Xb(b,a),c):new g(b,a):r};Rc.prototype.Mc=function(a){var b=a.eb.Lb().Ng(),c=a.Ya.Lb().Ng();this.Pf[b][c].push(a)};
var Cc=function(){this.Kk=[];for(var a=0;a<=Fc;a++)this.Kk[a]=r;this.Lk=[];for(a=0;a<=Fc;a++)this.Lk[a]=r;this.$g={};this.aq=0};H=Cc.prototype;H.na=function(a){return this.Kk[a]};H.Hh=function(a){var b=a.Bc;if(this.$g[b]==r){this.$g[b]=[];for(var c=0;c<=Fc;c++)this.$g[b][c]=r;this.Ie(a,b,Fc);this.aq++}};H.Hm=function(a,b,c){b?this.Ie(a,a.Bc,Zc):this.Me(a.Bc,Zc);c?this.Ie(a,a.Bc,$c):this.Me(a.Bc,$c)};H.zm=function(a){a=a.Bc;if(this.$g[a]!=r){for(var b=0;b<=Fc;b++)this.Me(a,b);delete this.$g[a];this.aq--}};
H.Me=function(a,b){var c=this.$g[a];if(c!=r){var d=c[b];if(d!=r){c[b]=r;var c=d.$d,e=d.next;c==r?this.Kk[b]=e:c.ke(e);e==r?this.Lk[b]=c:e.le(c);wd.push(d)}}};H.Ie=function(a,b,c){b=this.$g[b];if(b[c]==r){if(0<wd.length){var d=wd.pop();d.next=r;d.$d=r;d.Pb=a;a=d}else a=new xd(a);b[c]=a;a=this.Lk[c];a!=r?(a.ke(b[c]),b[c].le(a)):this.Kk[c]=b[c];this.Lk[c]=b[c]}};var Zc=0,$c=1,Fc=2,xd=function(a){this.Pb=a;this.$d=this.next=r},wd=[];xd.prototype.ke=aa("next");xd.prototype.le=aa("$d");var vd=function(){this.Ky=
r;this.Ly=0},yd=function(){this.ba=U.n(0,0);this.Jl=[];this.Y=[];for(var a=0;2>a;a++)this.Y[a]=U.n(0,0)};yd.prototype.Db=function(a){switch(a.type){case 1:this.dt(a);break;case 2:this.et(a);break;case 4:this.ft(a)}};yd.prototype.dt=function(a){var b=a.H.q.k,c=a.rb,d=a.H.q.position.x+(b.c.x*c.x+b.i.x*c.y),e=a.H.q.position.y+(b.c.y*c.x+b.i.y*c.y),b=a.I.q.k,c=a.ub[0].rb,g=a.I.q.position.x+(b.c.x*c.x+b.i.x*c.y),b=a.I.q.position.y+(b.c.y*c.x+b.i.y*c.y),c=g-d,f=b-e,l=c*c+f*f;l>Tb?(l=Math.sqrt(l),this.ba.x=
c/l,this.ba.y=f/l):(this.ba.x=1,this.ba.y=0);this.Y[0].x=0.5*(d+g);this.Y[0].y=0.5*(e+b);this.Jl[0]=c*this.ba.x+f*this.ba.y-a.Ol};yd.prototype.et=function(a){this.ba.x=a.H.q.k.c.x*a.Ze.x+a.H.q.k.i.x*a.Ze.y;this.ba.y=a.H.q.k.c.y*a.Ze.x+a.H.q.k.i.y*a.Ze.y;for(var b=a.H.q.position.x+(a.H.q.k.c.x*a.rb.x+a.H.q.k.i.x*a.rb.y),c=a.H.q.position.y+(a.H.q.k.c.y*a.rb.x+a.H.q.k.i.y*a.rb.y),d=0;d<a.Zd;d++){var e=a.I.q.position.x+(a.I.q.k.c.x*a.ub[d].rb.x+a.I.q.k.i.x*a.ub[d].rb.y),g=a.I.q.position.y+(a.I.q.k.c.y*
a.ub[d].rb.x+a.I.q.k.i.y*a.ub[d].rb.y);this.Jl[d]=(e-b)*this.ba.x+(g-c)*this.ba.y-a.Ol;this.Y[d].x=e;this.Y[d].y=g}};yd.prototype.ft=function(a){this.ba.x=a.I.q.k.c.x*a.Ze.x+a.I.q.k.i.x*a.Ze.y;this.ba.y=a.I.q.k.c.y*a.Ze.x+a.I.q.k.i.y*a.Ze.y;for(var b=a.I.q.position.x+(a.I.q.k.c.x*a.rb.x+a.I.q.k.i.x*a.rb.y),c=a.I.q.position.y+(a.I.q.k.c.y*a.rb.x+a.I.q.k.i.y*a.rb.y),d=0;d<a.Zd;d++){var e=a.H.q.position.x+(a.H.q.k.c.x*a.ub[d].rb.x+a.H.q.k.i.x*a.ub[d].rb.y),g=a.H.q.position.y+(a.H.q.k.c.y*a.ub[d].rb.x+
a.H.q.k.i.y*a.ub[d].rb.y);this.Jl[d]=(e-b)*this.ba.x+(g-c)*this.ba.y-a.Ol;this.Y[d].B(e,g)}this.ba.x*=-1;this.ba.y*=-1};var Xc=function(){this.bf=[]};H=Xc.prototype;H.Db=function(a,b,c){for(this.Ej=c;this.bf.length<this.Ej;)this.bf[this.bf.length]=new qd;for(a=0;a<c;a++){var d=b[a],e=d.eb,g=d.Ya,f=e.Tf.Ca,l=g.Tf.Ca,h=e.va(),k=g.va(),m=d.Gd,n=Math.sqrt(e.Vn*g.Vn),w=e.Lj>g.Lj?e.Lj:g.Lj,u=h.m.x,x=h.m.y,v=k.m.x,A=k.m.y,D=h.u,C=k.u;zd.Db(m,h.q,f,k.q,l);g=zd.ba.x;d=zd.ba.y;e=this.bf[a];e.H=h;e.I=k;e.Ev=
m;e.vc.x=g;e.vc.y=d;e.Zd=m.sb;e.Ue=n;e.mf=w;e.Ze.x=m.ec.x;e.Ze.y=m.ec.y;e.rb.x=m.da.x;e.rb.y=m.da.y;e.Ol=f+l;e.type=m.Da;for(f=0;f<e.Zd;++f){n=m.Y[f];l=e.ub[f];l.tb=n.th;l.of=n.xh;l.rb.z(n.da);var n=l.ib.x=zd.Y[f].x-h.j.p.x,w=l.ib.y=zd.Y[f].y-h.j.p.y,G=l.jb.x=zd.Y[f].x-k.j.p.x,P=l.jb.y=zd.Y[f].y-k.j.p.y,J=n*d-w*g,F=G*d-P*g,J=J*J,F=F*F;l.Vf=1/(h.C+k.C+h.L*J+k.L*F);var E=h.K*h.C+k.K*k.C,E=E+(h.K*h.L*J+k.K*k.L*F);l.Tt=1/E;F=d;E=-g;J=n*E-w*F;F=G*E-P*F;J*=J;F*=F;l.ow=1/(h.C+k.C+h.L*J+k.L*F);l.gk=0;n=e.vc.x*
(v+-C*P-u- -D*w)+e.vc.y*(A+C*G-x-D*n);-1>n&&(l.gk+=-e.mf*n)}2==e.Zd&&(A=e.ub[0],v=e.ub[1],m=h.C,h=h.L,u=k.C,k=k.L,x=A.ib.x*d-A.ib.y*g,A=A.jb.x*d-A.jb.y*g,D=v.ib.x*d-v.ib.y*g,v=v.jb.x*d-v.jb.y*g,g=m+u+h*x*x+k*A*A,d=m+u+h*D*D+k*v*v,k=m+u+h*x*D+k*A*v,g*g<100*(g*d-k*k)?(e.$c.c.B(g,k),e.$c.i.B(k,d),e.$c.nm(e.Vf)):e.Zd=1)}};H.Ld=function(a){for(var b=0;b<this.Ej;++b){var c=this.bf[b],d=c.H,e=c.I,g=d.C,f=d.L,l=e.C,h=e.L,k=c.vc.x,m=c.vc.y,n=m,w=-k,u=0,x=0;if(a.ag){x=c.Zd;for(u=0;u<x;++u){var v=c.ub[u];v.tb*=
a.Gb;v.of*=a.Gb;var A=v.tb*k+v.of*n,D=v.tb*m+v.of*w;d.u-=f*(v.ib.x*D-v.ib.y*A);d.m.x-=g*A;d.m.y-=g*D;e.u+=h*(v.jb.x*D-v.jb.y*A);e.m.x+=l*A;e.m.y+=l*D}}else{x=c.Zd;for(u=0;u<x;++u)d=c.ub[u],d.tb=0,d.of=0}}};H.wd=function(){for(var a=0;a<this.Ej;a++)this.Ys(this.bf[a])};H.Ys=function(a){for(var b=a.vc.x,c=a.vc.y,d=0;d<a.Zd;d++)Xc.prototype.Zs(a,a.ub[d]);if(1==a.Zd){var d=a.ub[0],e=d.tb-d.Vf*((a.I.m.x-a.I.u*d.jb.y-a.H.m.x+a.H.u*d.ib.y)*b+(a.I.m.y+a.I.u*d.jb.x-a.H.m.y-a.H.u*d.ib.x)*c-d.gk),e=0<e?e:0,
g=e-d.tb,f=g*b,c=g*c;a.H.m.x-=a.H.C*f;a.H.m.y-=a.H.C*c;a.H.u-=a.H.L*(d.ib.x*c-d.ib.y*f);a.I.m.x+=a.I.C*f;a.I.m.y+=a.I.C*c;a.I.u+=a.I.L*(d.jb.x*c-d.jb.y*f);d.tb=e}else for(var d=a.ub[0],e=a.ub[1],g=d.tb,f=e.tb,l=(a.I.m.x-a.I.u*d.jb.y-a.H.m.x+a.H.u*d.ib.y)*b+(a.I.m.y+a.I.u*d.jb.x-a.H.m.y-a.H.u*d.ib.x)*c-d.gk,c=(a.I.m.x-a.I.u*e.jb.y-a.H.m.x+a.H.u*e.ib.y)*b+(a.I.m.y+a.I.u*e.jb.x-a.H.m.y-a.H.u*e.ib.x)*c-e.gk,l=l-(a.$c.c.x*g+a.$c.i.x*f),c=c-(a.$c.c.y*g+a.$c.i.y*f);;){b=-(a.Vf.c.x*l+a.Vf.i.x*c);if(0<=b){var h=
-(a.Vf.c.y*l+a.Vf.i.y*c);if(0<=h){this.Bk(a,d,e,b-g,h-f);d.tb=b;e.tb=h;break}}b=-d.Vf*l;if(0<=b&&0<=a.$c.c.y*b+c){this.Bk(a,d,e,b-g,-f);d.tb=b;e.tb=0;break}b=-e.Vf*c;if(0<=b&&0<=a.$c.i.x*b+l){this.Bk(a,d,e,-g,b-f);d.tb=0;e.tb=b;break}if(0<=l&&0<=c){this.Bk(a,d,e,-g,-f);d.tb=0;e.tb=0;break}break}};H.Zs=function(a,b){var c=a.vc.y,d=-a.vc.x,e=a.Ue*b.tb,e=W.Ta(b.of-b.ow*((a.I.m.x-a.I.u*b.jb.y-a.H.m.x+a.H.u*b.ib.y)*c+(a.I.m.y+a.I.u*b.jb.x-a.H.m.y-a.H.u*b.ib.x)*d),-e,e),g=e-b.of,c=g*c,d=g*d;a.H.m.x-=a.H.C*
c;a.H.m.y-=a.H.C*d;a.H.u-=a.H.L*(b.ib.x*d-b.ib.y*c);a.I.m.x+=a.I.C*c;a.I.m.y+=a.I.C*d;a.I.u+=a.I.L*(b.jb.x*d-b.jb.y*c);b.of=e};H.Bk=function(a,b,c,d,e){var g=d*a.vc.x;d*=a.vc.y;var f=e*a.vc.x;e*=a.vc.y;a.H.m.x-=a.H.C*(g+f);a.H.m.y-=a.H.C*(d+e);a.H.u-=a.H.L*(b.ib.x*d-b.ib.y*g+c.ib.x*e-c.ib.y*f);a.I.m.x+=a.I.C*(g+f);a.I.m.y+=a.I.C*(d+e);a.I.u+=a.I.L*(b.jb.x*d-b.jb.y*g+c.jb.x*e-c.jb.y*f);b.tb=0;c.tb=0};H.km=function(){for(var a=0;a<this.Ej;++a)for(var b=this.bf[a],c=b.Ev,d=0;d<b.Zd;++d){var e=c.Y[d],
g=b.ub[d];e.th=g.tb;e.xh=g.of}};H.vd=function(a){a===p&&(a=0);for(var b=0,c=0;c<this.Ej;c++){var d=this.bf[c],e=d.H,g=d.I,f=e.K*e.C,l=e.K*e.L,h=g.K*g.C,k=g.K*g.L;Ad.Db(d);for(var m=Ad.ba,n=0;n<d.Zd;n++){var w=d.ub[n],u=Ad.Y[n],x=Ad.Jl[n],v=u.x-e.j.p.x,A=u.y-e.j.p.y,D=u.x-g.j.p.x,u=u.y-g.j.p.y,b=b<x?b:x,x=-w.Tt*W.Ta(a*(x+0.005),-0.2,0),w=x*m.x,x=x*m.y;e.j.p.x-=f*w;e.j.p.y-=f*x;e.j.G-=l*(v*x-A*w);e.cb();g.j.p.x+=h*w;g.j.p.y+=h*x;g.j.G+=k*(D*x-u*w);g.cb()}}return-0.0075<b};var td=function(a,b){bd.call(this,
a,b)};S(td,bd);td.prototype.Xb=function(a,b){bd.prototype.Xb.call(this,a,b)};td.prototype.Je=function(){this.eb.Lb();this.Ya.Lb()};var rd=function(a,b){bd.call(this,a,b)};S(rd,bd);rd.prototype.Xb=function(a,b){bd.prototype.Xb.call(this,a,b)};rd.prototype.Je=function(){a:{var a=this.Gd,b=this.eb.Lb(),c=this.eb.va().q,d=this.Ya.Lb(),e=this.Ya.va().q;a.sb=0;for(var g=e.position.x+(e.k.c.x*d.Ma.x+e.k.i.x*d.Ma.y)-c.position.x,f=e.position.y+(e.k.c.y*d.Ma.x+e.k.i.y*d.Ma.y)-c.position.y,e=g*c.k.c.x+f*c.k.c.y,
c=g*c.k.i.x+f*c.k.i.y,g=0,f=-Number.MAX_VALUE,l=b.Ca+d.Ca,h=0;h<b.qa;++h){var k=b.ea[h].x*(e-b.F[h].x)+b.ea[h].y*(c-b.F[h].y);if(k>l)break a;k>f&&(f=k,g=h)}k=g+1;k>=b.qa&&(k=0);var h=b.F[g],m=b.F[k];f<Number.MIN_VALUE?(a.sb=1,a.Da=2,a.ec.z(b.ea[g]),a.da.x=0.5*(h.x+m.x),a.da.y=0.5*(h.y+m.y),a.Y[0].da.z(d.Ma),a.Y[0].Xd.Qg(0)):0>=(e-h.x)*(m.x-h.x)+(c-h.y)*(m.y-h.y)?(e-h.x)*(e-h.x)+(c-h.y)*(c-h.y)>l*l||(a.sb=1,a.Da=2,a.ec.x=e-h.x,a.ec.y=c-h.y,a.ec.Dc(),a.da.z(h),a.Y[0].da.z(d.Ma),a.Y[0].Xd.Qg(0)):0>=
(e-m.x)*(h.x-m.x)+(c-m.y)*(h.y-m.y)?(e-m.x)*(e-m.x)+(c-m.y)*(c-m.y)>l*l||(a.sb=1,a.Da=2,a.ec.x=e-m.x,a.ec.y=c-m.y,a.ec.Dc(),a.da.z(m),a.Y[0].da.z(d.Ma),a.Y[0].Xd.Qg(0)):(k=0.5*(h.x+m.x),h=0.5*(h.y+m.y),f=(e-k)*b.ea[g].x+(c-h)*b.ea[g].y,f>l||(a.sb=1,a.Da=2,a.ec.x=b.ea[g].x,a.ec.y=b.ea[g].y,a.ec.Dc(),a.da.B(k,h),a.Y[0].da.z(d.Ma),a.Y[0].Xd.Qg(0)))}};var ud=function(a,b){bd.call(this,a,b)};S(ud,bd);ud.prototype.Xb=function(a,b){bd.prototype.Xb.call(this,a,b)};ud.prototype.Je=function(){this.eb.Lb();
this.Ya.Lb()};var sd=function(a,b){bd.call(this,a,b)};S(sd,bd);sd.prototype.Xb=function(a,b){bd.prototype.Xb.call(this,a,b)};sd.prototype.Je=function(){var a=this.Gd,b=this.eb.Lb(),c=this.eb.va().q,d=this.Ya.Lb(),e=this.Ya.va().q;a.sb=0;var g=b.Ca+d.Ca,f=gc(b,c,d,e),l=f.Pp;if(!(f.Rl>g)){var h=gc(d,e,b,c);if(!(h.Rl>g)){var k=b,m=d,n=c,w=e,u=0;a.Da=2;h.Rl>0.98*f.Rl+0.001&&(k=d,m=b,n=e,w=c,l=h.Pp,a.Da=4,u=1);b=l;c=w;d=Bd;b===p&&(b=0);for(var e=n.k.c.x*k.ea[b].x+n.k.i.x*k.ea[b].y,f=n.k.c.y*k.ea[b].x+
n.k.i.y*k.ea[b].y,h=c.k.c.x*e+c.k.c.y*f,f=c.k.i.x*e+c.k.i.y*f,e=h,h=0,x=Number.MAX_VALUE,v=0;v<m.qa;v++){var A=e*m.ea[v].x+f*m.ea[v].y;A<x&&(x=A,h=v)}e=h+1;e>=m.qa&&(e=0);d[0].Jd.x=c.position.x+(c.k.c.x*m.F[h].x+c.k.i.x*m.F[h].y);d[0].Jd.y=c.position.y+(c.k.c.y*m.F[h].x+c.k.i.y*m.F[h].y);d[0].id.Ap(b);d[0].id.xp(h);d[0].id.yp(0);d[1].Jd.x=c.position.x+(c.k.c.x*m.F[e].x+c.k.i.x*m.F[e].y);d[1].Jd.y=c.position.y+(c.k.c.y*m.F[e].x+c.k.i.y*m.F[e].y);d[1].id.Ap(b);d[1].id.xp(e);d[1].id.yp(1);b=k.F[l];l=
l+1<k.qa?k.F[l+1]:k.F[0];Cd.B(l.x-b.x,l.y-b.y);Cd.Dc();Dd.x=Cd.y;Dd.y=-Cd.x;Ed.B(0.5*(b.x+l.x),0.5*(b.y+l.y));Fd.x=n.k.c.x*Cd.x+n.k.i.x*Cd.y;Fd.y=n.k.c.y*Cd.x+n.k.i.y*Cd.y;Gd.x=-Fd.x;Gd.y=-Fd.y;Hd.x=Fd.y;Hd.y=-Fd.x;Id.x=n.position.x+(n.k.c.x*b.x+n.k.i.x*b.y);Id.y=n.position.y+(n.k.c.y*b.x+n.k.i.y*b.y);Jd.x=n.position.x+(n.k.c.x*l.x+n.k.i.x*l.y);Jd.y=n.position.y+(n.k.c.y*l.x+n.k.i.y*l.y);if(!(2>ec(Kd,Bd,Gd,-Fd.x*Id.x-Fd.y*Id.y+g))&&!(2>ec(Ld,Kd,Fd,Fd.x*Jd.x+Fd.y*Jd.y+g))){a.ec.z(Dd);a.da.z(Ed);n=
Hd.x*Id.x+Hd.y*Id.y;for(k=l=0;2>k;++k)Hd.x*Ld[k].Jd.x+Hd.y*Ld[k].Jd.y-n<=g&&(b=Ld[k].Jd.x-w.position.x,m=Ld[k].Jd.y-w.position.y,a.Y[l].da.x=b*w.k.c.x+m*w.k.c.y,a.Y[l].da.y=b*w.k.i.x+m*w.k.i.y,a.Y[l].Xd.B(Ld[k].id),a.Y[l].Xd.Vs(u),l++);a.sb=l}}}};var Nd=function(){this.Bc="Controller"+Md++;this.ra=r;this.Yb=new Hc};Nd.prototype.uf=t();Nd.prototype.Gh=function(a){this.Yb.Gh(a);a.Fi(this)};Nd.prototype.Vi=function(a){this.Yb.Vi(a);a.Wi(this)};Nd.prototype.lk=function(){for(var a=this.Yb.na(Gc);a;a=
a.next)this.Vi(a.body)};var Md=0,Od=function(){Nd.call(this);this.vc=U.n(0,-1);this.qe=this.offset=0;this.cs=U.n(0,0);this.gv=2;this.st=1;this.Ty=s;this.uw=q;this.xq=r};S(Od,Nd);Od.prototype.uf=function(){this.uw&&(this.xq=this.ra.Zq.Cb());for(var a=this.Yb.na(Lc);a;a=a.next){for(var b=a.body,c=U.n(0,0),d=U.n(0,0),e=0,g=0,f=b.mm().na();f;f=f.next){var l=U.n(0,0),h=f.Sd.Lb().nk(this.vc,this.offset,b.Zc(),l),e=e+h;c.x+=h*l.x;c.y+=h*l.y;var k=0,k=1,g=g+h*k;d.x+=h*l.x*k;d.y+=h*l.y*k}e<Number.MIN_VALUE||
(c.x/=e,c.y/=e,d.x/=g,d.y/=g,g=this.xq.dg(),g.Cc(this.qe*e),b.ud(g,d),g=b.vs(c),g.Gm(this.cs),g.Cc(-this.gv*e),b.ud(g,c),b.jk(-b.Vd/b.K*e*b.sk()*this.st),U.Vb(c),U.Vb(d))}};var Pd=function(){Nd.call(this);this.Vo=U.n(0,0)};S(Pd,Nd);Pd.prototype.uf=function(a){a=U.n(this.Vo.x*a.ka,this.Vo.y*a.ka);for(var b=this.Yb.na(Lc);b;b=b.next){var c=b.body,d=c.Lg();c.Rg(U.n(d.x+a.x,d.y+a.y))}U.Vb(a)};var Qd=function(){Nd.call(this);this.ss=U.n(0,0)};S(Qd,Nd);Qd.prototype.uf=function(){for(var a=this.Yb.na(Lc);a;a=
a.next){var b=a.body;b.ud(this.ss,b.Lh())}};var Dc=function(){this.Wm=this.Vm=r;this.Mk={};this.cq=0};Dc.prototype.na=y("Vm");Dc.prototype.Fi=function(a){var b=a.Bc;if(this.Mk[b]==r){a=new Rd(a);var c=this.Wm;c!=r?c.ke(a):this.Vm=a;a.le(c);this.Wm=a;this.Mk[b]=a;this.cq++}};Dc.prototype.Wi=function(a){a=a.Bc;var b=this.Mk[a];if(b!=r){var c=b.$d,b=b.next;c==r?this.Vm=b:c.ke(b);b==r?this.Wm=c:b.le(c);delete this.Mk[a];this.cq--}};var Rd=function(a){this.bq=a;this.$d=this.next=r};Rd.prototype.ke=aa("next");
Rd.prototype.le=aa("$d");var Sd=function(){Nd.call(this);this.dp=1;this.Vu=q};S(Sd,Nd);Sd.prototype.uf=function(){var a=r,b=r,c=0,d=r,e=r,g=0,f=0,l=0,g=r;if(this.Vu)for(var h=this.Yb.na(Gc);h;h=h.next)for(var a=h.body,b=a.Lh(),c=a.K,k=this.Yb.na(Gc);k;k=k.next){if(d=k.body,a.qc()||d.qc())e=d.Lh(),g=e.x-b.x,f=e.y-b.y,l=g*g+f*f,l<Number.MIN_VALUE||(g=U.n(g,f),g.Cc(this.dp/l/Math.sqrt(l)*c*d.K),a.qc()&&a.ud(g,b),g.Cc(-1),d.qc()&&d.ud(g,e),U.Vb(g))}else for(h=this.Yb.na(Gc);h;h=h.next){a=bodyNode.body;
b=a.Lh();c=a.K;for(k=this.Yb.na(Gc);k;k=k.next)if(d=bodyNode.body,a.qc()||d.qc())e=d.Lh(),g=e.x-b.x,f=e.y-b.y,l=g*g+f*f,l<Number.MIN_VALUE||(g=U.n(g,f),g.Cc(this.dp/l*c*d.K),a.qc()&&a.ud(g,b),g.Cc(-1),d.qc()&&d.ud(g,e),U.Vb(g))}};var Td=function(){Nd.call(this);this.$s=new V;this.fo=0};S(Td,Nd);Td.prototype.uf=function(a){a=a.ka;if(!(a<=Number.MIN_VALUE)){a>this.fo&&0<this.fo&&(a=this.fo);for(var b=this.Yb.na(Lc);b;b=b.next){var c=b.body,d=c.qm(W.ob(this.$s,c.pm(c.Lg())));c.Rg(U.n(c.Lg().x+d.x*a,
c.Lg().y+d.y*a))}}};var Z=function(a){this.Jc=new Ud;this.Kc=new Ud;this.ef=U.n(0,0);this.ff=U.n(0,0);this.Da=a.type;this.qg=this.ki=r;this.N=a.H;this.O=a.I;this.Xq=a.Tm};Z.prototype.Wb=y("Da");Z.prototype.Mi=y("N");Z.prototype.lm=y("O");Z.prototype.Og=function(){return this.N.Og()&&this.O.Og()};Z.Kd=function(a){return a.Kd()};Z.prototype.Ld=t();Z.prototype.wd=t();Z.prototype.km=t();Z.prototype.vd=B(s);Z.Pt=0;Z.an=1;Z.Nt=2;Z.$m=3;Z.Ot=4;Z.dy=5;Z.Lt=6;Z.Mt=7;Z.Qt=8;Z.Kt=9;Z.Fc=0;Z.Re=1;Z.$b=2;Z.kg=
3;var Vd=function(){this.type=Z.Pt;this.I=this.H=r;this.Tm=s},Ud=t(),Wd=function(a){Z.call(this,a);this.U=U.n(0,0);this.V=U.n(0,0);this.Ib=U.n(0,0);this.U.z(a.mb);this.V.z(a.nb);this.Wn=a.length;this.Un=a.$k;this.mv=a.Ok;this.Wq=this.sh=this.r=0};S(Wd,Z);Wd.prototype.Ld=function(a){var b,c=0,d=this.N,e=this.O;b=d.q.k;var g=this.U.x-d.j.J.x,f=this.U.y-d.j.J.y,c=b.c.x*g+b.i.x*f,f=b.c.y*g+b.i.y*f,g=c;b=e.q.k;var l=this.V.x-e.j.J.x,h=this.V.y-e.j.J.y,c=b.c.x*l+b.i.x*h,h=b.c.y*l+b.i.y*h,l=c;this.Ib.x=
e.j.p.x+l-d.j.p.x-g;this.Ib.y=e.j.p.y+h-d.j.p.y-f;c=Math.sqrt(this.Ib.x*this.Ib.x+this.Ib.y*this.Ib.y);0.005<c?this.Ib.Cc(1/c):this.Ib.W();b=g*this.Ib.y-f*this.Ib.x;var k=l*this.Ib.y-h*this.Ib.x;b=d.C+d.L*b*b+e.C+e.L*k*k;this.K=0!=b?1/b:0;if(0<this.Un){var c=c-this.Wn,k=2*Math.PI*this.Un,m=this.K*k*k;this.sh=a.ka*(2*this.K*this.mv*k+a.ka*m);this.sh=0!=this.sh?1/this.sh:0;this.Wq=c*a.ka*m*this.sh;this.K=b+this.sh;this.K=0!=this.K?1/this.K:0}a.ag?(this.r*=a.Gb,a=this.r*this.Ib.x,b=this.r*this.Ib.y,
d.m.x-=d.C*a,d.m.y-=d.C*b,d.u-=d.L*(g*b-f*a),e.m.x+=e.C*a,e.m.y+=e.C*b,e.u+=e.L*(l*b-h*a)):this.r=0};Wd.prototype.wd=function(){var a=this.U.x-this.N.j.J.x,b=this.U.y-this.N.j.J.y,c=this.N.q.k.c.x*a+this.N.q.k.i.x*b,b=this.N.q.k.c.y*a+this.N.q.k.i.y*b,a=c,d=this.V.x-this.O.j.J.x,e=this.V.y-this.O.j.J.y,c=this.O.q.k.c.x*d+this.O.q.k.i.x*e,e=this.O.q.k.c.y*d+this.O.q.k.i.y*e,d=c,g=-this.K*(this.Ib.x*(this.O.m.x-this.O.u*e-(this.N.m.x-this.N.u*b))+this.Ib.y*(this.O.m.y+this.O.u*d-(this.N.m.y+this.N.u*
a))+this.Wq+this.sh*this.r);this.r+=g;c=g*this.Ib.x;g*=this.Ib.y;this.N.m.x-=this.N.C*c;this.N.m.y-=this.N.C*g;this.N.u-=this.N.L*(a*g-b*c);this.O.m.x+=this.O.C*c;this.O.m.y+=this.O.C*g;this.O.u+=this.O.L*(d*g-e*c)};Wd.prototype.vd=function(){if(0<this.Un)return q;var a=this.U.x-this.N.j.J.x,b=this.U.y-this.N.j.J.y,c=this.N.q.k.c.x*a+this.N.q.k.i.x*b,b=this.N.q.k.c.y*a+this.N.q.k.i.y*b,a=c,d=this.V.x-this.O.j.J.x,e=this.V.y-this.O.j.J.y,c=this.O.q.k.c.x*d+this.O.q.k.i.x*e,e=this.O.q.k.c.y*d+this.O.q.k.i.y*
e,d=c,g=this.O.j.p.x+d-this.N.j.p.x-a,f=this.O.j.p.y+e-this.N.j.p.y-b,l=Math.sqrt(g*g+f*f),c=W.Ta(l-this.Wn,-0.2,0.2),h=-this.K*c;this.Ib.B(g/l,f/l);g=h*this.Ib.x;h*=this.Ib.y;this.N.j.p.x-=this.N.C*g;this.N.j.p.y-=this.N.C*h;this.N.j.G-=this.N.L*(a*h-b*g);this.O.j.p.x+=this.O.C*g;this.O.j.p.y+=this.O.C*h;this.O.j.G+=this.O.L*(d*h-e*g);this.N.cb();this.O.cb();return 0.005>Math.abs(c)};var Nb=function(){Vd.call(this);this.mb=U.n(0,0);this.nb=U.n(0,0);this.type=Z.$m;this.length=1;this.Ok=this.$k=0};
S(Nb,Vd);Nb.prototype.Db=function(a,b,c,d){this.H=a;this.I=b;this.mb.z(this.H.Yc(c));this.nb.z(this.I.Yc(d));a=d.x-c.x;c=d.y-c.y;this.length=Math.sqrt(a*a+c*c);this.Ok=this.$k=0};Nb.prototype.Kd=function(){return new Wd(this)};var Xd=function(a){Z.call(this,a);this.Dd=U.n(0,0);this.Ed=U.n(0,0);this.Zn=new V;this.Cd=U.n(0,0);this.Dd.z(a.mb);this.Ed.z(a.nb);this.Zn.W();this.Cj=0;this.Cd.W();this.Lf=0;this.xv=a.Fv;this.zv=a.Hv};S(Xd,Z);Xd.prototype.Ld=function(a){var b,c=0,d=this.N,e=this.O;b=d.q.k;
var g=this.Dd.x-d.j.J.x,f=this.Dd.y-d.j.J.y,c=b.c.x*g+b.i.x*f,f=b.c.y*g+b.i.y*f,g=c;b=e.q.k;var l=this.Ed.x-e.j.J.x,h=this.Ed.y-e.j.J.y,c=b.c.x*l+b.i.x*h,h=b.c.y*l+b.i.y*h,l=c;b=d.C;var c=e.C,k=d.L,m=e.L,n=new V;n.c.x=b+c;n.i.x=0;n.c.y=0;n.i.y=b+c;n.c.x+=k*f*f;n.i.x+=-k*g*f;n.c.y+=-k*g*f;n.i.y+=k*g*g;n.c.x+=m*h*h;n.i.x+=-m*l*h;n.c.y+=-m*l*h;n.i.y+=m*l*l;n.nm(this.Zn);this.Cj=k+m;0<this.Cj&&(this.Cj=1/this.Cj);a.ag?(this.Cd.x*=a.Gb,this.Cd.y*=a.Gb,this.Lf*=a.Gb,a=this.Cd,d.m.x-=b*a.x,d.m.y-=b*a.y,
d.u-=k*(g*a.y-f*a.x+this.Lf),e.m.x+=c*a.x,e.m.y+=c*a.y,e.u+=m*(l*a.y-h*a.x+this.Lf)):(this.Cd.W(),this.Lf=0)};Xd.prototype.wd=function(a){var b,c=0,d=this.N,e=this.O,g=d.m,f=d.u,l=e.m,h=e.u,k=d.C,m=e.C,n=d.L,w=e.L;b=d.q.k;var u=this.Dd.x-d.j.J.x,x=this.Dd.y-d.j.J.y,c=b.c.x*u+b.i.x*x,x=b.c.y*u+b.i.y*x,u=c;b=e.q.k;var v=this.Ed.x-e.j.J.x,A=this.Ed.y-e.j.J.y,c=b.c.x*v+b.i.x*A,A=b.c.y*v+b.i.y*A,v=c;b=0;var c=-this.Cj*(h-f),D=this.Lf;b=a.ka*this.zv;this.Lf=W.Ta(this.Lf+c,-b,b);c=this.Lf-D;f-=n*c;h+=w*
c;b=W.ob(this.Zn,U.n(-(l.x-h*A-g.x+f*x),-(l.y+h*v-g.y-f*u)));c=this.Cd.Cb();this.Cd.rf(b);b=a.ka*this.xv;this.Cd.yk()>b*b&&(this.Cd.Dc(),this.Cd.Cc(b));b=W.Qa(this.Cd,c);g.x-=k*b.x;g.y-=k*b.y;f-=n*(u*b.y-x*b.x);l.x+=m*b.x;l.y+=m*b.y;h+=w*(v*b.y-A*b.x);d.u=f;e.u=h};Xd.prototype.vd=B(q);var Yd=function(){Vd.call(this);this.mb=U.n(0,0);this.nb=U.n(0,0);this.type=Z.Kt;this.Hv=this.Fv=0};S(Yd,Vd);Yd.prototype.Db=function(a,b,c){this.H=a;this.I=b;this.mb.z(this.H.Yc(c));this.nb.z(this.I.Yc(c))};Yd.prototype.Kd=
function(){return new Xd(this)};var $d=function(a){Z.call(this,a);this.Qf=U.n(0,0);this.Rf=U.n(0,0);this.U=U.n(0,0);this.V=U.n(0,0);this.Xa=new Zd;var b=a.ci.Da,c=a.di.Da;this.mi=this.wh=this.li=this.vh=r;var d=0,e=0;this.pv=a.ci.Mi();this.N=a.ci.lm();b==Z.an?(this.vh=a.ci,this.Qf.z(this.vh.U),this.U.z(this.vh.V),d=this.vh.tk()):(this.li=a.ci,this.Qf.z(this.li.U),this.U.z(this.li.V),d=this.li.Oi());this.qv=a.di.Mi();this.O=a.di.lm();c==Z.an?(this.wh=a.di,this.Rf.z(this.wh.U),this.V.z(this.wh.V),e=
this.wh.tk()):(this.mi=a.di,this.Rf.z(this.mi.U),this.V.z(this.mi.V),e=this.mi.Oi());this.hb=a.xg;this.ji=d+this.hb*e;this.r=0};S($d,Z);$d.prototype.Ld=function(a){var b=this.pv,c=this.qv,d=this.N,e=this.O,g=0,f=0,l=0,h=0,k=l=0,m=0;this.Xa.W();this.vh?(this.Xa.Tg=-1,m+=d.L):(b=b.q.k,f=this.li.Uc,g=b.c.x*f.x+b.i.x*f.y,f=b.c.y*f.x+b.i.y*f.y,b=d.q.k,l=this.U.x-d.j.J.x,h=this.U.y-d.j.J.y,k=b.c.x*l+b.i.x*h,h=b.c.y*l+b.i.y*h,l=k*f-h*g,this.Xa.ye.B(-g,-f),this.Xa.Tg=-l,m+=d.C+d.L*l*l);this.wh?(this.Xa.Ug=
-this.hb,m+=this.hb*this.hb*e.L):(b=c.q.k,f=this.mi.Uc,g=b.c.x*f.x+b.i.x*f.y,f=b.c.y*f.x+b.i.y*f.y,b=e.q.k,l=this.V.x-e.j.J.x,h=this.V.y-e.j.J.y,k=b.c.x*l+b.i.x*h,h=b.c.y*l+b.i.y*h,l=k*f-h*g,this.Xa.ze.B(-this.hb*g,-this.hb*f),this.Xa.Ug=-this.hb*l,m+=this.hb*this.hb*(e.C+e.L*l*l));this.K=0<m?1/m:0;a.ag?(d.m.x+=d.C*this.r*this.Xa.ye.x,d.m.y+=d.C*this.r*this.Xa.ye.y,d.u+=d.L*this.r*this.Xa.Tg,e.m.x+=e.C*this.r*this.Xa.ze.x,e.m.y+=e.C*this.r*this.Xa.ze.y,e.u+=e.L*this.r*this.Xa.Ug):this.r=0};$d.prototype.wd=
function(){var a=this.N,b=this.O,c=-this.K*this.Xa.ns(a.m,a.u,b.m,b.u);this.r+=c;a.m.x+=a.C*c*this.Xa.ye.x;a.m.y+=a.C*c*this.Xa.ye.y;a.u+=a.L*c*this.Xa.Tg;b.m.x+=b.C*c*this.Xa.ze.x;b.m.y+=b.C*c*this.Xa.ze.y;b.u+=b.L*c*this.Xa.Ug};$d.prototype.vd=function(){var a=this.N,b=this.O,c=0,d=0,c=this.vh?this.vh.tk():this.li.Oi(),d=this.wh?this.wh.tk():this.mi.Oi(),c=-this.K*(this.ji-(c+this.hb*d));a.j.p.x+=a.C*c*this.Xa.ye.x;a.j.p.y+=a.C*c*this.Xa.ye.y;a.j.G+=a.L*c*this.Xa.Tg;b.j.p.x+=b.C*c*this.Xa.ze.x;
b.j.p.y+=b.C*c*this.Xa.ze.y;b.j.G+=b.L*c*this.Xa.Ug;a.cb();b.cb();return q};var ae=function(){Vd.call(this);this.type=Z.Lt;this.di=this.ci=r;this.xg=1};S(ae,Vd);ae.prototype.Db=function(a,b,c){this.ci=a;this.H=a.Mi();this.di=b;this.I=b.Mi();this.xg=c};ae.prototype.Kd=function(){return new $d(this)};var Zd=function(){this.ye=U.n(0,0);this.ze=U.n(0,0)};Zd.prototype.W=function(){this.ye.W();this.Tg=0;this.ze.W();this.Ug=0};Zd.prototype.B=function(a,b,c,d){b===p&&(b=0);d===p&&(d=0);this.ye.z(a);this.Tg=
b;this.ze.z(c);this.Ug=d};Zd.prototype.ns=function(a,b,c,d){b===p&&(b=0);d===p&&(d=0);return this.ye.x*a.x+this.ye.y*a.y+this.Tg*b+(this.ze.x*c.x+this.ze.y*c.y)+this.Ug*d};var be=function(a){Z.call(this,a);this.U=U.n(0,0);this.V=U.n(0,0);this.Uc=U.n(0,0);this.Sf=U.n(0,0);this.M=U.n(0,0);this.X=U.n(0,0);this.S=new V;this.r=U.n(0,0);this.U.z(a.mb);this.V.z(a.nb);this.Uc.z(a.nh);this.Sf.x=-this.Uc.y;this.Sf.y=this.Uc.x;this.r.W();this.pa=this.Lc=0;this.Fd=a.Pn;this.Hd=a.Ro;this.$n=a.eo;this.Ij=a.Pj;
this.Be=a.Wh;this.pg=a.fj;this.ga=Z.Fc;this.M.W();this.X.W()};S(be,Z);be.prototype.Oi=function(){var a=this.N,b=this.O,c=a.wk(this.U),d=b.wk(this.V),b=d.x-c.x,c=d.y-c.y,a=a.qm(this.Uc);return a.x*b+a.y*c};be.prototype.Ld=function(a){var b=this.N,c=this.O,d,e=0;this.ef.z(b.Mg());this.ff.z(c.Mg());var g=b.Zc();c.Zc();d=b.q.k;var f=this.U.x-this.ef.x,l=this.U.y-this.ef.y,e=d.c.x*f+d.i.x*l,l=d.c.y*f+d.i.y*l,f=e;d=c.q.k;var h=this.V.x-this.ff.x,k=this.V.y-this.ff.y,e=d.c.x*h+d.i.x*k,k=d.c.y*h+d.i.y*k,
h=e;d=c.j.p.x+h-b.j.p.x-f;e=c.j.p.y+k-b.j.p.y-l;this.fb=b.C;this.gb=c.C;this.sc=b.L;this.tc=c.L;this.M.z(W.ob(g.k,this.Uc));this.Fa=(d+f)*this.M.y-(e+l)*this.M.x;this.Ga=h*this.M.y-k*this.M.x;this.Lc=this.fb+this.gb+this.sc*this.Fa*this.Fa+this.tc*this.Ga*this.Ga;this.Lc=this.Lc>Number.MIN_VALUE?1/this.Lc:0;this.X.z(W.ob(g.k,this.Sf));this.Ia=(d+f)*this.X.y-(e+l)*this.X.x;this.Ja=h*this.X.y-k*this.X.x;g=this.fb;f=this.gb;l=this.sc;h=this.tc;this.S.c.x=g+f+l*this.Ia*this.Ia+h*this.Ja*this.Ja;this.S.c.y=
l*this.Ia*this.Fa+h*this.Ja*this.Ga;this.S.i.x=this.S.c.y;this.S.i.y=g+f+l*this.Fa*this.Fa+h*this.Ga*this.Ga;this.Be?(d=this.M.x*d+this.M.y*e,0.01>Math.abs(this.Hd-this.Fd)?this.ga=Z.kg:d<=this.Fd?this.ga!=Z.Re&&(this.ga=Z.Re,this.r.y=0):d>=this.Hd?this.ga!=Z.$b&&(this.ga=Z.$b,this.r.y=0):(this.ga=Z.Fc,this.r.y=0)):this.ga=Z.Fc;this.pg==s&&(this.pa=0);a.ag?(this.r.x*=a.Gb,this.r.y*=a.Gb,this.pa*=a.Gb,a=this.r.x*this.X.x+(this.pa+this.r.y)*this.M.x,d=this.r.x*this.X.y+(this.pa+this.r.y)*this.M.y,e=
this.r.x*this.Ia+(this.pa+this.r.y)*this.Fa,g=this.r.x*this.Ja+(this.pa+this.r.y)*this.Ga,b.m.x-=this.fb*a,b.m.y-=this.fb*d,b.u-=this.sc*e,c.m.x+=this.gb*a,c.m.y+=this.gb*d,c.u+=this.tc*g):(this.r.W(),this.pa=0)};be.prototype.wd=function(a){var b=this.N,c=this.O,d=b.m,e=b.u,g=c.m,f=c.u,l=0,h=0,k=0,m=0;this.pg&&this.ga!=Z.kg&&(m=this.Lc*(this.Ij-(this.M.x*(g.x-d.x)+this.M.y*(g.y-d.y)+this.Ga*f-this.Fa*e)),l=this.pa,h=a.ka*this.$n,this.pa=W.Ta(this.pa+m,-h,h),m=this.pa-l,l=m*this.M.x,h=m*this.M.y,k=
m*this.Fa,m*=this.Ga,d.x-=this.fb*l,d.y-=this.fb*h,e-=this.sc*k,g.x+=this.gb*l,g.y+=this.gb*h,f+=this.tc*m);h=this.X.x*(g.x-d.x)+this.X.y*(g.y-d.y)+this.Ja*f-this.Ia*e;this.Be&&this.ga!=Z.Fc?(k=this.M.x*(g.x-d.x)+this.M.y*(g.y-d.y)+this.Ga*f-this.Fa*e,l=this.r.Cb(),a=this.S.fg(U.n(0,0),-h,-k),this.r.rf(a),this.ga==Z.Re?this.r.y=Math.max(this.r.y,0):this.ga==Z.$b&&(this.r.y=Math.min(this.r.y,0)),h=-h-(this.r.y-l.y)*this.S.i.x,k=0,k=0!=this.S.c.x?h/this.S.c.x+l.x:l.x,this.r.x=k,a.x=this.r.x-l.x,a.y=
this.r.y-l.y,l=a.x*this.X.x+a.y*this.M.x,h=a.x*this.X.y+a.y*this.M.y,k=a.x*this.Ia+a.y*this.Fa,m=a.x*this.Ja+a.y*this.Ga):(a=0,a=0!=this.S.c.x?-h/this.S.c.x:0,this.r.x+=a,l=a*this.X.x,h=a*this.X.y,k=a*this.Ia,m=a*this.Ja);d.x-=this.fb*l;d.y-=this.fb*h;e-=this.sc*k;g.x+=this.gb*l;g.y+=this.gb*h;f+=this.tc*m;b.m.z(d);b.u=e;c.m.z(g);c.u=f};be.prototype.vd=function(){var a=this.N,b=this.O,c=a.j.p,d=a.j.G,e=b.j.p,g=b.j.G,f,l=0,h=0,k=0,m=0,n=f=0,w=0,h=s,u=0,x=V.Kh(d),k=V.Kh(g);f=x;var w=this.U.x-this.ef.x,
v=this.U.y-this.ef.y,l=f.c.x*w+f.i.x*v,v=f.c.y*w+f.i.y*v,w=l;f=k;k=this.V.x-this.ff.x;m=this.V.y-this.ff.y;l=f.c.x*k+f.i.x*m;m=f.c.y*k+f.i.y*m;k=l;f=e.x+k-c.x-w;l=e.y+m-c.y-v;if(this.Be){this.M=W.ob(x,this.Uc);this.Fa=(f+w)*this.M.y-(l+v)*this.M.x;this.Ga=k*this.M.y-m*this.M.x;var A=this.M.x*f+this.M.y*l;0.01>Math.abs(this.Hd-this.Fd)?(u=W.Ta(A,-0.2,0.2),n=Math.abs(A),h=q):A<=this.Fd?(u=W.Ta(A-this.Fd+0.005,-0.2,0),n=this.Fd-A,h=q):A>=this.Hd&&(u=W.Ta(A-this.Hd+0.005,0,0.2),n=A-this.Hd,h=q)}this.X=
W.ob(x,this.Sf);this.Ia=(f+w)*this.X.y-(l+v)*this.X.x;this.Ja=k*this.X.y-m*this.X.x;x=U.n(0,0);v=this.X.x*f+this.X.y*l;n=Math.max(n,Math.abs(v));w=0;h?(h=this.fb,k=this.gb,m=this.sc,f=this.tc,this.S.c.x=h+k+m*this.Ia*this.Ia+f*this.Ja*this.Ja,this.S.c.y=m*this.Ia*this.Fa+f*this.Ja*this.Ga,this.S.i.x=this.S.c.y,this.S.i.y=h+k+m*this.Fa*this.Fa+f*this.Ga*this.Ga,this.S.fg(x,-v,-u)):(h=this.fb,k=this.gb,m=this.sc,f=this.tc,u=h+k+m*this.Ia*this.Ia+f*this.Ja*this.Ja,x.x=0!=u?-v/u:0,x.y=0);u=x.x*this.X.x+
x.y*this.M.x;h=x.x*this.X.y+x.y*this.M.y;v=x.x*this.Ia+x.y*this.Fa;x=x.x*this.Ja+x.y*this.Ga;c.x-=this.fb*u;c.y-=this.fb*h;d-=this.sc*v;e.x+=this.gb*u;e.y+=this.gb*h;g+=this.tc*x;a.j.G=d;b.j.G=g;a.cb();b.cb();return 0.005>=n&&w<=Ob};var ce=function(){Vd.call(this);this.mb=U.n(0,0);this.nb=U.n(0,0);this.nh=U.n(0,0);this.type=Z.Mt;this.nh.B(1,0);this.Wh=s;this.Ro=this.Pn=0;this.fj=s;this.Pj=this.eo=0};S(ce,Vd);ce.prototype.Db=function(a,b,c,d){this.H=a;this.I=b;this.mb=this.H.Yc(c);this.nb=this.I.Yc(c);
this.nh=this.H.pm(d)};ce.prototype.Kd=function(){return new be(this)};var de=function(a){Z.call(this,a);this.U=U.n(0,0);this.V=U.n(0,0);this.Uc=U.n(0,0);this.Sf=U.n(0,0);this.M=U.n(0,0);this.X=U.n(0,0);this.S=new Vb;this.r=new Ub(0,0,0);this.U.z(a.mb);this.V.z(a.nb);this.Uc.z(a.nh);this.Sf.x=-this.Uc.y;this.Sf.y=this.Uc.x;this.Av=a.yg;this.r.W();this.pa=this.Lc=0;this.Fd=a.Pn;this.Hd=a.Ro;this.$n=a.eo;this.Ij=a.Pj;this.Be=a.Wh;this.pg=a.fj;this.ga=Z.Fc;this.M.W();this.X.W()};S(de,Z);de.prototype.Oi=
function(){var a=this.N,b=this.O,c=a.wk(this.U),d=b.wk(this.V),b=d.x-c.x,c=d.y-c.y,a=a.qm(this.Uc);return a.x*b+a.y*c};de.prototype.Ld=function(a){var b=this.N,c=this.O,d,e=0;this.ef.z(b.Mg());this.ff.z(c.Mg());var g=b.Zc();c.Zc();d=b.q.k;var f=this.U.x-this.ef.x,l=this.U.y-this.ef.y,e=d.c.x*f+d.i.x*l,l=d.c.y*f+d.i.y*l,f=e;d=c.q.k;var h=this.V.x-this.ff.x,k=this.V.y-this.ff.y,e=d.c.x*h+d.i.x*k,k=d.c.y*h+d.i.y*k,h=e;d=c.j.p.x+h-b.j.p.x-f;e=c.j.p.y+k-b.j.p.y-l;this.fb=b.C;this.gb=c.C;this.sc=b.L;this.tc=
c.L;this.M.z(W.ob(g.k,this.Uc));this.Fa=(d+f)*this.M.y-(e+l)*this.M.x;this.Ga=h*this.M.y-k*this.M.x;this.Lc=this.fb+this.gb+this.sc*this.Fa*this.Fa+this.tc*this.Ga*this.Ga;this.Lc>Number.MIN_VALUE&&(this.Lc=1/this.Lc);this.X.z(W.ob(g.k,this.Sf));this.Ia=(d+f)*this.X.y-(e+l)*this.X.x;this.Ja=h*this.X.y-k*this.X.x;g=this.fb;f=this.gb;l=this.sc;h=this.tc;this.S.c.x=g+f+l*this.Ia*this.Ia+h*this.Ja*this.Ja;this.S.c.y=l*this.Ia+h*this.Ja;this.S.c.D=l*this.Ia*this.Fa+h*this.Ja*this.Ga;this.S.i.x=this.S.c.y;
this.S.i.y=l+h;this.S.i.D=l*this.Fa+h*this.Ga;this.S.ca.x=this.S.c.D;this.S.ca.y=this.S.i.D;this.S.ca.D=g+f+l*this.Fa*this.Fa+h*this.Ga*this.Ga;this.Be?(d=this.M.x*d+this.M.y*e,0.01>Math.abs(this.Hd-this.Fd)?this.ga=Z.kg:d<=this.Fd?this.ga!=Z.Re&&(this.ga=Z.Re,this.r.D=0):d>=this.Hd?this.ga!=Z.$b&&(this.ga=Z.$b,this.r.D=0):(this.ga=Z.Fc,this.r.D=0)):this.ga=Z.Fc;this.pg==s&&(this.pa=0);a.ag?(this.r.x*=a.Gb,this.r.y*=a.Gb,this.pa*=a.Gb,a=this.r.x*this.X.x+(this.pa+this.r.D)*this.M.x,d=this.r.x*this.X.y+
(this.pa+this.r.D)*this.M.y,e=this.r.x*this.Ia+this.r.y+(this.pa+this.r.D)*this.Fa,g=this.r.x*this.Ja+this.r.y+(this.pa+this.r.D)*this.Ga,b.m.x-=this.fb*a,b.m.y-=this.fb*d,b.u-=this.sc*e,c.m.x+=this.gb*a,c.m.y+=this.gb*d,c.u+=this.tc*g):(this.r.W(),this.pa=0)};de.prototype.wd=function(a){var b=this.N,c=this.O,d=b.m,e=b.u,g=c.m,f=c.u,l=0,h=0,k=0,m=0;this.pg&&this.ga!=Z.kg&&(m=this.Lc*(this.Ij-(this.M.x*(g.x-d.x)+this.M.y*(g.y-d.y)+this.Ga*f-this.Fa*e)),l=this.pa,a=a.ka*this.$n,this.pa=W.Ta(this.pa+
m,-a,a),m=this.pa-l,l=m*this.M.x,h=m*this.M.y,k=m*this.Fa,m*=this.Ga,d.x-=this.fb*l,d.y-=this.fb*h,e-=this.sc*k,g.x+=this.gb*l,g.y+=this.gb*h,f+=this.tc*m);k=this.X.x*(g.x-d.x)+this.X.y*(g.y-d.y)+this.Ja*f-this.Ia*e;h=f-e;this.Be&&this.ga!=Z.Fc?(a=this.M.x*(g.x-d.x)+this.M.y*(g.y-d.y)+this.Ga*f-this.Fa*e,l=this.r.Cb(),a=this.S.$i(new Ub(0,0,0),-k,-h,-a),this.r.rf(a),this.ga==Z.Re?this.r.D=Math.max(this.r.D,0):this.ga==Z.$b&&(this.r.D=Math.min(this.r.D,0)),k=-k-(this.r.D-l.D)*this.S.ca.x,h=-h-(this.r.D-
l.D)*this.S.ca.y,h=this.S.Nh(U.n(0,0),k,h),h.x+=l.x,h.y+=l.y,this.r.x=h.x,this.r.y=h.y,a.x=this.r.x-l.x,a.y=this.r.y-l.y,a.D=this.r.D-l.D,l=a.x*this.X.x+a.D*this.M.x,h=a.x*this.X.y+a.D*this.M.y,k=a.x*this.Ia+a.y+a.D*this.Fa,m=a.x*this.Ja+a.y+a.D*this.Ga):(a=this.S.Nh(U.n(0,0),-k,-h),this.r.x+=a.x,this.r.y+=a.y,l=a.x*this.X.x,h=a.x*this.X.y,k=a.x*this.Ia+a.y,m=a.x*this.Ja+a.y);d.x-=this.fb*l;d.y-=this.fb*h;e-=this.sc*k;g.x+=this.gb*l;g.y+=this.gb*h;f+=this.tc*m;b.m.z(d);b.u=e;c.m.z(g);c.u=f};de.prototype.vd=
function(){var a=this.N,b=this.O,c=a.j.p,d=a.j.G,e=b.j.p,g=b.j.G,f,l=0,h=0,k=0,m=l=f=0,n=0,h=s,w=0,u=V.Kh(d),x=V.Kh(g);f=u;var n=this.U.x-this.ef.x,v=this.U.y-this.ef.y,l=f.c.x*n+f.i.x*v,v=f.c.y*n+f.i.y*v,n=l;f=x;x=this.V.x-this.ff.x;k=this.V.y-this.ff.y;l=f.c.x*x+f.i.x*k;k=f.c.y*x+f.i.y*k;x=l;f=e.x+x-c.x-n;l=e.y+k-c.y-v;if(this.Be){this.M=W.ob(u,this.Uc);this.Fa=(f+n)*this.M.y-(l+v)*this.M.x;this.Ga=x*this.M.y-k*this.M.x;var A=this.M.x*f+this.M.y*l;0.01>Math.abs(this.Hd-this.Fd)?(w=W.Ta(A,-0.2,0.2),
m=Math.abs(A),h=q):A<=this.Fd?(w=W.Ta(A-this.Fd+0.005,-0.2,0),m=this.Fd-A,h=q):A>=this.Hd&&(w=W.Ta(A-this.Hd+0.005,0,0.2),m=A-this.Hd,h=q)}this.X=W.ob(u,this.Sf);this.Ia=(f+n)*this.X.y-(l+v)*this.X.x;this.Ja=x*this.X.y-k*this.X.x;u=new Ub(0,0,0);v=this.X.x*f+this.X.y*l;x=g-d-this.Av;m=Math.max(m,Math.abs(v));n=Math.abs(x);h?(h=this.fb,k=this.gb,f=this.sc,l=this.tc,this.S.c.x=h+k+f*this.Ia*this.Ia+l*this.Ja*this.Ja,this.S.c.y=f*this.Ia+l*this.Ja,this.S.c.D=f*this.Ia*this.Fa+l*this.Ja*this.Ga,this.S.i.x=
this.S.c.y,this.S.i.y=f+l,this.S.i.D=f*this.Fa+l*this.Ga,this.S.ca.x=this.S.c.D,this.S.ca.y=this.S.i.D,this.S.ca.D=h+k+f*this.Fa*this.Fa+l*this.Ga*this.Ga,this.S.$i(u,-v,-x,-w)):(h=this.fb,k=this.gb,f=this.sc,l=this.tc,w=f*this.Ia+l*this.Ja,A=f+l,this.S.c.B(h+k+f*this.Ia*this.Ia+l*this.Ja*this.Ja,w,0),this.S.i.B(w,A,0),w=this.S.Nh(U.n(0,0),-v,-x),u.x=w.x,u.y=w.y,u.D=0);w=u.x*this.X.x+u.D*this.M.x;h=u.x*this.X.y+u.D*this.M.y;v=u.x*this.Ia+u.y+u.D*this.Fa;u=u.x*this.Ja+u.y+u.D*this.Ga;c.x-=this.fb*
w;c.y-=this.fb*h;d-=this.sc*v;e.x+=this.gb*w;e.y+=this.gb*h;g+=this.tc*u;a.j.G=d;b.j.G=g;a.cb();b.cb();return 0.005>=m&&n<=Ob};var ee=function(){Vd.call(this);this.mb=U.n(0,0);this.nb=U.n(0,0);this.nh=U.n(0,0);this.type=Z.Nt;this.nh.B(1,0);this.yg=0;this.Wh=s;this.Ro=this.Pn=0;this.fj=s;this.Pj=this.eo=0};S(ee,Vd);ee.prototype.Db=function(a,b,c,d){this.H=a;this.I=b;this.mb=this.H.Yc(c);this.nb=this.I.Yc(c);this.nh=this.H.pm(d);this.yg=this.I.Xc()-this.H.Xc()};ee.prototype.Kd=function(){return new de(this)};
var ge=function(a){Z.call(this,a);this.Qf=U.n(0,0);this.Rf=U.n(0,0);this.U=U.n(0,0);this.V=U.n(0,0);this.Na=U.n(0,0);this.Oa=U.n(0,0);this.Wd=this.N.ra.rv;this.Qf.x=a.gl.x-this.Wd.q.position.x;this.Qf.y=a.gl.y-this.Wd.q.position.y;this.Rf.x=a.hl.x-this.Wd.q.position.x;this.Rf.y=a.hl.y-this.Wd.q.position.y;this.U.z(a.mb);this.V.z(a.nb);this.hb=a.xg;this.ji=a.In+this.hb*a.Jn;this.cr=Math.min(a.er,this.ji-this.hb*fe);this.dr=Math.min(a.gr,(this.ji-fe)/this.hb);this.df=this.cf=this.r=0};S(ge,Z);ge.prototype.Ld=
function(a){var b=this.N,c=this.O,d;d=b.q.k;var e=this.U.x-b.j.J.x,g=this.U.y-b.j.J.y,f=d.c.x*e+d.i.x*g,g=d.c.y*e+d.i.y*g,e=f;d=c.q.k;var l=this.V.x-c.j.J.x,h=this.V.y-c.j.J.y,f=d.c.x*l+d.i.x*h,h=d.c.y*l+d.i.y*h,l=f;d=c.j.p.x+l;var f=c.j.p.y+h,k=this.Wd.q.position.x+this.Rf.x,m=this.Wd.q.position.y+this.Rf.y;this.Na.B(b.j.p.x+e-(this.Wd.q.position.x+this.Qf.x),b.j.p.y+g-(this.Wd.q.position.y+this.Qf.y));this.Oa.B(d-k,f-m);d=this.Na.Le();f=this.Oa.Le();0.005<d?this.Na.Cc(1/d):this.Na.W();0.005<f?this.Oa.Cc(1/
f):this.Oa.W();0<this.ji-d-this.hb*f?(this.bo=Z.Fc,this.r=0):this.bo=Z.$b;d<this.cr?(this.Xn=Z.Fc,this.cf=0):this.Xn=Z.$b;f<this.dr?(this.Yn=Z.Fc,this.df=0):this.Yn=Z.$b;d=e*this.Na.y-g*this.Na.x;f=l*this.Oa.y-h*this.Oa.x;this.Gj=b.C+b.L*d*d;this.Hj=c.C+c.L*f*f;this.Il=this.Gj+this.hb*this.hb*this.Hj;this.Gj=1/this.Gj;this.Hj=1/this.Hj;this.Il=1/this.Il;a.ag?(this.r*=a.Gb,this.cf*=a.Gb,this.df*=a.Gb,a=(-this.r-this.cf)*this.Na.x,d=(-this.r-this.cf)*this.Na.y,f=(-this.hb*this.r-this.df)*this.Oa.x,
k=(-this.hb*this.r-this.df)*this.Oa.y,b.m.x+=b.C*a,b.m.y+=b.C*d,b.u+=b.L*(e*d-g*a),c.m.x+=c.C*f,c.m.y+=c.C*k,c.u+=c.L*(l*k-h*f)):this.df=this.cf=this.r=0};ge.prototype.wd=function(){var a=this.N,b=this.O,c;c=a.q.k;var d=this.U.x-a.j.J.x,e=this.U.y-a.j.J.y,g=c.c.x*d+c.i.x*e,e=c.c.y*d+c.i.y*e,d=g;c=b.q.k;var f=this.V.x-b.j.J.x,l=this.V.y-b.j.J.y,g=c.c.x*f+c.i.x*l,l=c.c.y*f+c.i.y*l,f=g,h=g=c=0,k=0;c=k=c=k=h=g=c=0;this.bo==Z.$b&&(c=a.m.x+-a.u*e,g=a.m.y+a.u*d,h=b.m.x+-b.u*l,k=b.m.y+b.u*f,c=-(this.Na.x*
c+this.Na.y*g)-this.hb*(this.Oa.x*h+this.Oa.y*k),k=this.Il*-c,c=this.r,this.r=Math.max(0,this.r+k),k=this.r-c,c=-k*this.Na.x,g=-k*this.Na.y,h=-this.hb*k*this.Oa.x,k=-this.hb*k*this.Oa.y,a.m.x+=a.C*c,a.m.y+=a.C*g,a.u+=a.L*(d*g-e*c),b.m.x+=b.C*h,b.m.y+=b.C*k,b.u+=b.L*(f*k-l*h));this.Xn==Z.$b&&(c=a.m.x+-a.u*e,g=a.m.y+a.u*d,c=-(this.Na.x*c+this.Na.y*g),k=-this.Gj*c,c=this.cf,this.cf=Math.max(0,this.cf+k),k=this.cf-c,c=-k*this.Na.x,g=-k*this.Na.y,a.m.x+=a.C*c,a.m.y+=a.C*g,a.u+=a.L*(d*g-e*c));this.Yn==
Z.$b&&(h=b.m.x+-b.u*l,k=b.m.y+b.u*f,c=-(this.Oa.x*h+this.Oa.y*k),k=-this.Hj*c,c=this.df,this.df=Math.max(0,this.df+k),k=this.df-c,h=-k*this.Oa.x,k=-k*this.Oa.y,b.m.x+=b.C*h,b.m.y+=b.C*k,b.u+=b.L*(f*k-l*h))};ge.prototype.vd=function(){var a=this.N,b=this.O,c,d=this.Wd.q.position.x+this.Qf.x,e=this.Wd.q.position.y+this.Qf.y,g=this.Wd.q.position.x+this.Rf.x,f=this.Wd.q.position.y+this.Rf.y,l=0,h=0,k=0,m=0,n=c=0,w=0,u=0,x=n=u=c=n=c=0;this.bo==Z.$b&&(c=a.q.k,l=this.U.x-a.j.J.x,h=this.U.y-a.j.J.y,n=c.c.x*
l+c.i.x*h,h=c.c.y*l+c.i.y*h,l=n,c=b.q.k,k=this.V.x-b.j.J.x,m=this.V.y-b.j.J.y,n=c.c.x*k+c.i.x*m,m=c.c.y*k+c.i.y*m,k=n,c=a.j.p.x+l,n=a.j.p.y+h,w=b.j.p.x+k,u=b.j.p.y+m,this.Na.B(c-d,n-e),this.Oa.B(w-g,u-f),c=this.Na.Le(),n=this.Oa.Le(),0.005<c?this.Na.Cc(1/c):this.Na.W(),0.005<n?this.Oa.Cc(1/n):this.Oa.W(),c=this.ji-c-this.hb*n,x=Math.max(x,-c),c=W.Ta(c+0.005,-0.2,0),u=-this.Il*c,c=-u*this.Na.x,n=-u*this.Na.y,w=-this.hb*u*this.Oa.x,u=-this.hb*u*this.Oa.y,a.j.p.x+=a.C*c,a.j.p.y+=a.C*n,a.j.G+=a.L*(l*
n-h*c),b.j.p.x+=b.C*w,b.j.p.y+=b.C*u,b.j.G+=b.L*(k*u-m*w),a.cb(),b.cb());this.Xn==Z.$b&&(c=a.q.k,l=this.U.x-a.j.J.x,h=this.U.y-a.j.J.y,n=c.c.x*l+c.i.x*h,h=c.c.y*l+c.i.y*h,l=n,c=a.j.p.x+l,n=a.j.p.y+h,this.Na.B(c-d,n-e),c=this.Na.Le(),0.005<c?(this.Na.x*=1/c,this.Na.y*=1/c):this.Na.W(),c=this.cr-c,x=Math.max(x,-c),c=W.Ta(c+0.005,-0.2,0),u=-this.Gj*c,c=-u*this.Na.x,n=-u*this.Na.y,a.j.p.x+=a.C*c,a.j.p.y+=a.C*n,a.j.G+=a.L*(l*n-h*c),a.cb());this.Yn==Z.$b&&(c=b.q.k,k=this.V.x-b.j.J.x,m=this.V.y-b.j.J.y,
n=c.c.x*k+c.i.x*m,m=c.c.y*k+c.i.y*m,k=n,w=b.j.p.x+k,u=b.j.p.y+m,this.Oa.B(w-g,u-f),n=this.Oa.Le(),0.005<n?(this.Oa.x*=1/n,this.Oa.y*=1/n):this.Oa.W(),c=this.dr-n,x=Math.max(x,-c),c=W.Ta(c+0.005,-0.2,0),u=-this.Hj*c,w=-u*this.Oa.x,u=-u*this.Oa.y,b.j.p.x+=b.C*w,b.j.p.y+=b.C*u,b.j.G+=b.L*(k*u-m*w),b.cb());return 0.005>x};var fe=1,he=function(){Vd.call(this);this.gl=U.n(0,0);this.hl=U.n(0,0);this.mb=U.n(0,0);this.nb=U.n(0,0);this.type=Z.Ot;this.gl.B(-1,1);this.hl.B(1,1);this.mb.B(-1,0);this.nb.B(1,0);
this.gr=this.Jn=this.er=this.In=0;this.xg=1;this.Tm=q};S(he,Vd);he.prototype.Db=function(a,b,c,d,e,g,f){f===p&&(f=0);this.H=a;this.I=b;this.gl.z(c);this.hl.z(d);this.mb=this.H.Yc(e);this.nb=this.I.Yc(g);a=e.x-c.x;c=e.y-c.y;this.In=Math.sqrt(a*a+c*c);c=g.x-d.x;d=g.y-d.y;this.Jn=Math.sqrt(c*c+d*d);this.xg=f;f=this.In+this.xg*this.Jn;this.er=f-this.xg*fe;this.gr=(f-fe)/this.xg};he.prototype.Kd=function(){return new ge(this)};var ie=function(a){Z.call(this,a);this.$c=new V;this.Ri=new V;this.Si=new V;
this.Ti=new V;this.Qb=new Ub(0,0,0);this.ue=U.n(0,0);this.lf=U.n(0,0);this.U=U.n(0,0);this.V=U.n(0,0);this.r=new Ub(0,0,0);this.K=new Vb;this.U.z(a.mb);this.V.z(a.nb);this.Kj=a.yg;this.r.W();this.pa=0;this.Gl=a.Vq;this.co=a.$r;this.yv=a.Gv;this.Ij=a.Pj;this.Be=a.Wh;this.pg=a.fj;this.ga=Z.Fc};S(ie,Z);ie.prototype.tk=function(){return this.O.j.G-this.N.j.G-this.Kj};ie.prototype.Ld=function(a){var b=this.N,c=this.O,d,e=0;d=b.q.k;var g=this.U.x-b.j.J.x,f=this.U.y-b.j.J.y,e=d.c.x*g+d.i.x*f,f=d.c.y*g+d.i.y*
f,g=e;d=c.q.k;var l=this.V.x-c.j.J.x,h=this.V.y-c.j.J.y,e=d.c.x*l+d.i.x*h,h=d.c.y*l+d.i.y*h,l=e;d=b.C;var e=c.C,k=b.L,m=c.L;this.K.c.x=d+e+f*f*k+h*h*m;this.K.i.x=-f*g*k-h*l*m;this.K.ca.x=-f*k-h*m;this.K.c.y=this.K.i.x;this.K.i.y=d+e+g*g*k+l*l*m;this.K.ca.y=g*k+l*m;this.K.c.D=this.K.ca.x;this.K.i.D=this.K.ca.y;this.K.ca.D=k+m;this.Lc=1/(k+m);this.pg||(this.pa=0);if(this.Be){var n=c.j.G-b.j.G-this.Kj;Math.abs(this.co-this.Gl)<2*Ob?this.ga=Z.kg:n<=this.Gl?(this.ga!=Z.Re&&(this.r.D=0),this.ga=Z.Re):n>=
this.co?(this.ga!=Z.$b&&(this.r.D=0),this.ga=Z.$b):(this.ga=Z.Fc,this.r.D=0)}else this.ga=Z.Fc;a.ag?(this.r.x*=a.Gb,this.r.y*=a.Gb,this.pa*=a.Gb,a=this.r.x,n=this.r.y,b.m.x-=d*a,b.m.y-=d*n,b.u-=k*(g*n-f*a+this.pa+this.r.D),c.m.x+=e*a,c.m.y+=e*n,c.u+=m*(l*n-h*a+this.pa+this.r.D)):(this.r.W(),this.pa=0)};ie.prototype.wd=function(a){var b=this.N,c=this.O,d=0,e=d=0,g=0,f=0,l=0,h=b.m,k=b.u,m=c.m,n=c.u,w=b.C,u=c.C,x=b.L,v=c.L;this.pg&&this.ga!=Z.kg&&(e=this.Lc*-(n-k-this.Ij),g=this.pa,f=a.ka*this.yv,this.pa=
W.Ta(this.pa+e,-f,f),e=this.pa-g,k-=x*e,n+=v*e);if(this.Be&&this.ga!=Z.Fc){a=b.q.k;e=this.U.x-b.j.J.x;g=this.U.y-b.j.J.y;d=a.c.x*e+a.i.x*g;g=a.c.y*e+a.i.y*g;e=d;a=c.q.k;f=this.V.x-c.j.J.x;l=this.V.y-c.j.J.y;d=a.c.x*f+a.i.x*l;l=a.c.y*f+a.i.y*l;f=d;a=m.x+-n*l-h.x- -k*g;var A=m.y+n*f-h.y-k*e;this.K.$i(this.Qb,-a,-A,-(n-k));this.ga==Z.kg?this.r.rf(this.Qb):this.ga==Z.Re?(d=this.r.D+this.Qb.D,0>d&&(this.K.Nh(this.lf,-a,-A),this.Qb.x=this.lf.x,this.Qb.y=this.lf.y,this.Qb.D=-this.r.D,this.r.x+=this.lf.x,
this.r.y+=this.lf.y,this.r.D=0)):this.ga==Z.$b&&(d=this.r.D+this.Qb.D,0<d&&(this.K.Nh(this.lf,-a,-A),this.Qb.x=this.lf.x,this.Qb.y=this.lf.y,this.Qb.D=-this.r.D,this.r.x+=this.lf.x,this.r.y+=this.lf.y,this.r.D=0));h.x-=w*this.Qb.x;h.y-=w*this.Qb.y;k-=x*(e*this.Qb.y-g*this.Qb.x+this.Qb.D);m.x+=u*this.Qb.x;m.y+=u*this.Qb.y;n+=v*(f*this.Qb.y-l*this.Qb.x+this.Qb.D)}else a=b.q.k,e=this.U.x-b.j.J.x,g=this.U.y-b.j.J.y,d=a.c.x*e+a.i.x*g,g=a.c.y*e+a.i.y*g,e=d,a=c.q.k,f=this.V.x-c.j.J.x,l=this.V.y-c.j.J.y,
d=a.c.x*f+a.i.x*l,l=a.c.y*f+a.i.y*l,f=d,this.K.Nh(this.ue,-(m.x+-n*l-h.x- -k*g),-(m.y+n*f-h.y-k*e)),this.r.x+=this.ue.x,this.r.y+=this.ue.y,h.x-=w*this.ue.x,h.y-=w*this.ue.y,k-=x*(e*this.ue.y-g*this.ue.x),m.x+=u*this.ue.x,m.y+=u*this.ue.y,n+=v*(f*this.ue.y-l*this.ue.x);b.m.z(h);b.u=k;c.m.z(m);c.u=n};ie.prototype.vd=function(){var a=0,b,c=this.N,d=this.O,e=0,g=b=0,f=0,l=0;if(this.Be&&this.ga!=Z.Fc){var a=d.j.G-c.j.G-this.Kj,h=0;this.ga==Z.kg?(a=W.Ta(a-this.Gl,-Pb,Pb),h=-this.Lc*a,e=Math.abs(a)):this.ga==
Z.Re?(a-=this.Gl,e=-a,a=W.Ta(a+Ob,-Pb,0),h=-this.Lc*a):this.ga==Z.$b&&(e=a-=this.co,a=W.Ta(a-Ob,0,Pb),h=-this.Lc*a);c.j.G-=c.L*h;d.j.G+=d.L*h;c.cb();d.cb()}b=c.q.k;h=this.U.x-c.j.J.x;a=this.U.y-c.j.J.y;g=b.c.x*h+b.i.x*a;a=b.c.y*h+b.i.y*a;h=g;b=d.q.k;var k=this.V.x-d.j.J.x,m=this.V.y-d.j.J.y,g=b.c.x*k+b.i.x*m,m=b.c.y*k+b.i.y*m,k=g,f=d.j.p.x+k-c.j.p.x-h,l=d.j.p.y+m-c.j.p.y-a,n=f*f+l*l;b=Math.sqrt(n);var g=c.C,w=d.C,u=c.L,x=d.L;n>0.05*0.05&&(n=1/(g+w),f=n*-f,l=n*-l,c.j.p.x-=0.5*g*f,c.j.p.y-=0.5*g*l,
d.j.p.x+=0.5*w*f,d.j.p.y+=0.5*w*l,f=d.j.p.x+k-c.j.p.x-h,l=d.j.p.y+m-c.j.p.y-a);this.Ri.c.x=g+w;this.Ri.i.x=0;this.Ri.c.y=0;this.Ri.i.y=g+w;this.Si.c.x=u*a*a;this.Si.i.x=-u*h*a;this.Si.c.y=-u*h*a;this.Si.i.y=u*h*h;this.Ti.c.x=x*m*m;this.Ti.i.x=-x*k*m;this.Ti.c.y=-x*k*m;this.Ti.i.y=x*k*k;this.$c.je(this.Ri);this.$c.ik(this.Si);this.$c.ik(this.Ti);this.$c.fg(je,-f,-l);f=je.x;l=je.y;c.j.p.x-=c.C*f;c.j.p.y-=c.C*l;c.j.G-=c.L*(h*l-a*f);d.j.p.x+=d.C*f;d.j.p.y+=d.C*l;d.j.G+=d.L*(k*l-m*f);c.cb();d.cb();return 0.005>=
b&&e<=Ob};var je=U.n(0,0),ke=function(){Vd.call(this);this.mb=U.n(0,0);this.nb=U.n(0,0);this.type=Z.an;this.mb.W();this.nb.W();this.Pj=this.Gv=this.$r=this.Vq=this.yg=0;this.fj=this.Wh=s};S(ke,Vd);ke.prototype.Db=function(a,b,c){this.H=a;this.I=b;this.mb=this.H.Yc(c);this.nb=this.I.Yc(c);this.yg=this.I.Xc()-this.H.Xc()};ke.prototype.Kd=function(){return new ie(this)};var le=function(a){Z.call(this,a);this.Dd=U.n(0,0);this.Ed=U.n(0,0);this.r=new Ub(0,0,0);this.K=new Vb;this.Dd.z(a.mb);this.Ed.z(a.nb);
this.Kj=a.yg};S(le,Z);le.prototype.Ld=function(a){var b,c=0,d=this.N,e=this.O;b=d.q.k;var g=this.Dd.x-d.j.J.x,f=this.Dd.y-d.j.J.y,c=b.c.x*g+b.i.x*f,f=b.c.y*g+b.i.y*f,g=c;b=e.q.k;var l=this.Ed.x-e.j.J.x,h=this.Ed.y-e.j.J.y,c=b.c.x*l+b.i.x*h,h=b.c.y*l+b.i.y*h,l=c;b=d.C;var c=e.C,k=d.L,m=e.L;this.K.c.x=b+c+f*f*k+h*h*m;this.K.i.x=-f*g*k-h*l*m;this.K.ca.x=-f*k-h*m;this.K.c.y=this.K.i.x;this.K.i.y=b+c+g*g*k+l*l*m;this.K.ca.y=g*k+l*m;this.K.c.D=this.K.ca.x;this.K.i.D=this.K.ca.y;this.K.ca.D=k+m;a.ag?(this.r.x*=
a.Gb,this.r.y*=a.Gb,this.r.D*=a.Gb,d.m.x-=b*this.r.x,d.m.y-=b*this.r.y,d.u-=k*(g*this.r.y-f*this.r.x+this.r.D),e.m.x+=c*this.r.x,e.m.y+=c*this.r.y,e.u+=m*(l*this.r.y-h*this.r.x+this.r.D)):this.r.W()};le.prototype.wd=function(){var a,b=0,c=this.N,d=this.O,e=c.m,g=c.u,f=d.m,l=d.u,h=c.C,k=d.C,m=c.L,n=d.L;a=c.q.k;var w=this.Dd.x-c.j.J.x,u=this.Dd.y-c.j.J.y,b=a.c.x*w+a.i.x*u,u=a.c.y*w+a.i.y*u,w=b;a=d.q.k;var x=this.Ed.x-d.j.J.x,v=this.Ed.y-d.j.J.y,b=a.c.x*x+a.i.x*v,v=a.c.y*x+a.i.y*v,x=b;a=new Ub(0,0,0);
this.K.$i(a,-(f.x-l*v-e.x+g*u),-(f.y+l*x-e.y-g*w),-(l-g));this.r.rf(a);e.x-=h*a.x;e.y-=h*a.y;g-=m*(w*a.y-u*a.x+a.D);f.x+=k*a.x;f.y+=k*a.y;l+=n*(x*a.y-v*a.x+a.D);c.u=g;d.u=l};le.prototype.vd=function(){var a,b=0,c=this.N,d=this.O;a=c.q.k;var e=this.Dd.x-c.j.J.x,g=this.Dd.y-c.j.J.y,b=a.c.x*e+a.i.x*g,g=a.c.y*e+a.i.y*g,e=b;a=d.q.k;var f=this.Ed.x-d.j.J.x,l=this.Ed.y-d.j.J.y,b=a.c.x*f+a.i.x*l,l=a.c.y*f+a.i.y*l,f=b;a=c.C;var b=d.C,h=c.L,k=d.L,m=d.j.p.x+f-c.j.p.x-e,n=d.j.p.y+l-c.j.p.y-g,w=d.j.G-c.j.G-this.Kj,
u=Math.sqrt(m*m+n*n),x=Math.abs(w);0.05<u&&(h*=1,k*=1);this.K.c.x=a+b+g*g*h+l*l*k;this.K.i.x=-g*e*h-l*f*k;this.K.ca.x=-g*h-l*k;this.K.c.y=this.K.i.x;this.K.i.y=a+b+e*e*h+f*f*k;this.K.ca.y=e*h+f*k;this.K.c.D=this.K.ca.x;this.K.i.D=this.K.ca.y;this.K.ca.D=h+k;var v=new Ub(0,0,0);this.K.$i(v,-m,-n,-w);c.j.p.x-=a*v.x;c.j.p.y-=a*v.y;c.j.G-=h*(e*v.y-g*v.x+v.D);d.j.p.x+=b*v.x;d.j.p.y+=b*v.y;d.j.G+=k*(f*v.y-l*v.x+v.D);c.cb();d.cb();return 0.005>=u&&x<=Ob};var me=function(){Vd.call(this);this.mb=U.n(0,0);
this.nb=U.n(0,0);this.type=Z.Qt;this.yg=0};S(me,Vd);me.prototype.Db=function(a,b,c){this.H=a;this.I=b;this.mb.z(this.H.Yc(c));this.nb.z(this.I.Yc(c));this.yg=this.I.Xc()-this.H.Xc()};me.prototype.Kd=function(){return new le(this)};var Bd=[new ac,new ac],Kd=[new ac,new ac],Ld=[new ac,new ac],Cd=U.n(0,0),Dd=U.n(0,0),Ed=U.n(0,0),Hd=U.n(0,0),Fd=U.n(0,0),Gd=U.n(0,0),Id=U.n(0,0),Jd=U.n(0,0),dd=0,md=0,nd=0,kd=0,ld=0,ed=new zc,fd=new jc,gd=new Gb,hd=new Gb,jd=new uc,id=new kc;Ib.ew=new Gb;Jb.Np=new Jb;new function(){this.position=
U.n(0,0);this.cs=U.n(0,0);this.vc=U.n(0,0);this.id=new $b};Kb.Py=new Gb;Kb.Er=new Wb;Kb.Fr=new Wb;var cd=new Ac,zd=new Bc,Ad=new yd}function ne(a,b,c,d,e,g){return(c+0.1>=a&&a>=e-0.1||c-0.1<=a&&a<=e+0.1)&&(d+0.1>=b&&b>=g-0.1||d-0.1<=b&&b<=g+0.1)&&(0.1<Math.abs(e-c)?0.1>Math.abs((g-d)/(e-c)*(a-c)+d-b):0.1>Math.abs(a-c))}
function oe(a){var b=[],c=0,d=0,e=0,g=0,f=0,l=f=0,h=0,k=0,m=0,g=0,n,w,u,x,v,A=g=c=0,D=0,e=[],h=[],C=s,G=[],P=[];for(P.push(a);P.length;){b=P[0];d=b.length;C=q;for(c=0;c<d;c++)if(k=c,m=c<d-1?c+1:c+1-d,g=c<d-2?c+2:c+2-d,a=b[k],n=b[m],g=b[g],g=a.x*n.y+n.x*g.y+g.x*a.y-a.y*n.x-n.y*g.x-g.y*a.x,0>g){C=s;h=1E9;for(e=0;e<d;e++)if(e!==k&&e!==m){c=e;g=e<d-1?e+1:0;w=b[c];u=b[g];l=a.x;x=a.y;var J=n.x,F=n.y,f=w.x;w=w.y;var E=u.x;u=u.y;var z=J-l,I=F-x,K=E-f,T=u-w,K=(K*(w-x)-T*(f-l))/(I*K-z*T),z=l+K*z,I=x+K*I,l=
ne(J,F,l,x,z,I),f=ne(z,I,f,w,E,u);if(x=l&&f?U.n(z,I):r)f=n.x-x.x,l=n.y-x.y,f=f*f+l*l,f<h&&(D=c,A=g,v=x,h=f)}if(1E9===h)return[];e=[];h=[];c=D;g=A;w=b[c];u=b[g];0.1>Math.abs(u.x-v.x)&&0.1>Math.abs(u.y-v.y)||e.push(v);0.1>Math.abs(w.x-v.x)&&0.1>Math.abs(w.y-v.y)||h.push(v);D=-1;for(A=k;;){if(A!==g)e.push(b[A]);else{if(0>D||D>=d)return[];ne(u.x,u.y,b[D].x,b[D].y,a.x,a.y)||e.push(b[A]);break}D=A;0>A-1?A=d-1:A--}e.reverse();D=-1;for(A=m;;){if(A!==c)h.push(b[A]);else{if(0>D||D>=d)return[];A===c&&!ne(w.x,
w.y,b[D].x,b[D].y,n.x,n.y)&&h.push(b[A]);break}D=A;A+1>d-1?A=0:A++}P.push(e,h);P.shift();break}C&&G.push(P.shift())}return G}
function pe(a){for(var b=0;4E3>b;b++)U.wf.push(new U(0,0));this.g=a;this.Wc=new Kb(U.n(0,10),q);this.Wy=10;this.Fn=-1;a=new Jb;a.Ob=this;a.kk=function(a){this.Ob.g.Wv(a.eb.va().yf.Aa,a.Ya.va().yf.Aa)};this.Wc.wp(a);a=new Oc;a.Ob=this;a.Sg=function(a,b){if(this.Ob.pt)return q;var e=a.va().yf.Aa.type,g=b.va().yf.Aa.type,f=e.oa.Qs;return f&&f.contains(g)?s:(f=g.oa.Qs)&&f.contains(e)?s:q};this.Wc.vp(a);this.lw=0;this.hk=8;this.Vj=3;this.pt=q}
(function(){function a(){}var b=U,c=X,d=Mb,e=Y,g=Lb,f=Nb,l=pe.prototype;l.vf=function(a,b){this.Ob=a;this.Dy=b;this.g=a.g};l.vf.prototype.mc=t();l.Md=function(a,b){this.type=a;this.Ob=a.Ob;this.Aa=b;this.g=a.g;this.Wc=this.Ob.Wc};var h=l.Md.prototype;h.mc=function(){this.rn=0!==this.fc[0];this.Zp=this.fc[1];this.oo=0!==this.fc[2];this.qe=this.fc[3];this.Ue=this.fc[4];this.mf=this.fc[5];this.mh=this.fc[6];this.Vg=this.fc[7];this.Zg=0!==this.fc[8];this.enabled=0!==this.fc[9];this.body=r;this.Aa.rd();
this.rl=this.Aa.x;this.sl=this.Aa.y;this.Dn=this.Aa.P;this.Cn=this.Gn=0;this.Ar=this.En=s;this.An=r;this.Bn=-1;this.jd?(this.jd.length=0,this.Yd.length=0,this.og.clear()):(this.jd=[],this.Yd=[],this.og=new Ha);var a=this;this.kf||(this.kr=function(b){a.Ov(b)});this.g.nt(this.kr)};h.tr=function(){this.Aa.rd();this.Ym();this.An=this.Aa.Ua;this.Bn=this.Aa.T};h.Rj=function(){this.Qk();this.Yd.length=0;this.og.clear();this.body&&(this.Wc.qk(this.body),this.body=r);this.g.Xv(this.kr)};h.ae=function(){var a=
{e:this.enabled,im:this.rn,pr:this.oo,d:this.qe,fr:this.Ue,re:this.mf,ld:this.mh,ad:this.Vg,b:this.Zg,mcj:this.Yd},c=b.n(0,0);c.z(this.body.Lg());a.vx=c.x;a.vy=c.y;a.om=this.body.sk();return a};h.Ye=function(a){this.Qk();this.Yd.length=0;this.og.clear();this.body&&(this.Wc.qk(this.body),this.body=r);this.enabled=a.e;this.rn=a.im;this.oo=a.pr;this.qe=a.d;this.Ue=a.fr;this.mf=a.re;this.mh=a.ld;this.Vg=a.ad;this.Zg=a.b;this.rl=this.Aa.x;this.sl=this.Aa.y;this.Dn=this.Aa.P;this.Gn=this.Aa.width;this.Cn=
this.Aa.height;this.enabled&&(this.Ym(),this.body.Rg(b.n(a.vx,a.vy)),this.body.Yi(a.om),(0!==a.vx||0!==a.vy||0!==a.om)&&this.body.jc(q),this.Yd=a.mcj)};h.bj=function(){this.enabled&&this.wo();this.Ob.Fn=this.g.Hg-1};h.Ov=function(a){var b,c,d,e=a.uid;d=b=0;for(c=this.Yd.length;b<c;b++)this.Yd[d]=this.Yd[b],d<this.jd.length&&(this.jd[d]=this.jd[b]),this.Yd[b].De[1]==e?this.Wc.jm(this.jd[b]):d++;this.Yd.length=d;d<this.jd.length&&(this.jd.length=d);this.og.remove(a)};h.Qk=function(){var a,b;a=0;for(b=
this.jd.length;a<b;a++)this.Wc.jm(this.jd[a]);this.jd.length=0};h.wo=function(){var a,b,c;a=0;for(b=this.Yd.length;a<b;a++)switch(c=this.Yd[a],c.type){case 0:this.Ht(c.De[0],c.De[1],c.De[2],c.De[3],c.De[4]);break;case 1:this.Jt(c.De[0],c.De[1]);break;case 2:this.It(c.De[0],c.De[1],c.De[2],c.De[3])}};h.Et=function(){this.body&&(this.Qk(),this.Wc.qk(this.body),this.body=r,this.Aa.oa.oe=r)};h.Ym=function(){if(this.enabled){var a=this.Aa,f=s,h=r,l=r,u,x,v,A,D,C;this.body&&(f=q,h=b.n(0,0),h.z(this.body.Lg()),
l=this.body.sk(),this.Et());var G=new d;G.qe=this.qe;G.Ue=this.Ue;G.mf=this.mf;C=new c;C.type=this.rn?0:2;a.rd();C.position.x=0.02*a.lc.Nj();C.position.y=0.02*a.lc.Oj();C.P=a.P;C.en=this.oo;C.mh=this.mh;C.Vg=this.Vg;C.Zg=this.Zg;x=this.Aa.Pc&&!this.Aa.Pc.Lq();this.body=this.Wc.gm(C);this.body.yf=this;C=this.Zp;!x&&0===this.Zp&&(C=1);x=Math.max(Math.abs(a.width),1);v=Math.max(Math.abs(a.height),1);var P=0>a.width;D=0>a.height;if(0===C){C=a.P;a.P=0;a.Ab();a.rd();var J=a.lc.Nj()-a.x,F=a.lc.Oj()-a.y;
a.P=C;a.Ab();a.Pc.Vp(P?-x:x,D?-v:v,0);var E=a.Pc.Nl;A=a.Pc.qo;C=[];C.length=A;for(u=0;u<A;u++)C[u]=b.n(E[2*u]-J,E[2*u+1]-F);P!==D&&C.reverse();u=x*v;D=U;var J=oe(C),P=[],z,I,K,T,R,ja,Q;K=0;for(T=J.length;K<T;K++){E=J[K];F=[];F.length=E.length;R=Q=0;for(ja=E.length;R<ja;R++)z=E[R],I=E[(R+1)%ja],Q+=z.x*I.y-z.y*I.x,F[R]=D.n(z.x,z.y);Q=Math.abs(Q/2);Q>=0.001*u&&P.push(F)}for(u=0;u<A;u++)b.Vb(C[u]);if(P.length){u=0;for(x=P.length;u<x;u++){C=P[u];v=0;for(A=C.length;v<A;v++)D=C[v],D.x*=0.02,D.y*=0.02;G.shape=
new e;G.shape.Am(C,C.length);this.body.ok(G);v=0;for(A=C.length;v<A;v++)b.Vb(C[v])}}else G.shape=new e,G.shape.Ak(0.01*x,0.01*v),this.body.ok(G)}else 1===C?(G.shape=new e,G.shape.Ak(0.01*x,0.01*v)):G.shape=new g(0.01*Math.min(x,v)),this.body.ok(G);a.oa.oe=this.body;this.Gn=a.width;this.Cn=a.height;if(f){this.body.Rg(h);this.body.Yi(l);b.Vb(h);this.wo();C=this.og.Ci();u=0;for(x=C.length;u<x;u++)a=C[u].oa.oe.yf,a.Qk(),a.wo()}}};h.Ch=function(){if(this.enabled){var a=this.Aa,c;0===this.Ob.lw?c=this.g.Ig/
60:(c=this.g.sq(this.Aa),c>1/30&&(c=1/30));this.g.Hg>this.Ob.Fn&&0<this.g.Ig&&(this.Wc.uf(c,this.Ob.hk,this.Ob.Vj),this.Wc.Zo(),this.Ob.Fn=this.g.Hg);if(this.Ar||a.width!==this.Gn||a.height!==this.Cn||a.Ua!==this.An||a.T!==this.Bn)this.Ym(),this.Ar=s,this.An=a.Ua,this.Bn=a.T;c=a.P!==this.Dn;if(a.x!==this.rl||a.y!==this.sl){a.rd();var d=a.lc.Nj(),e=a.lc.Oj(),f=d-this.rl,g=e-this.sl;this.body.Cm(b.n(0.02*d,0.02*e));this.body.Rg(b.n(f,g));this.En=q;this.body.jc(q)}else this.En&&(this.En=s,this.body.Rg(b.n(0,
0)),this.body.Cm(b.n(0.02*a.lc.Nj(),0.02*a.lc.Oj())));c&&(this.body.zk(a.P),this.body.jc(q));d=this.body.q.position;c=d.x/0.02;d=d.y/0.02;e=this.body.Xc();if(c!==a.x||d!==a.y||e!==a.P)if(a.x=c,a.y=d,a.P=e,a.Ab(),a.rd(),c=a.lc.Nj()-a.x,d=a.lc.Oj()-a.y,0!==c||0!==d)a.x-=c,a.y-=d,a.Ab();this.rl=a.x;this.sl=a.y;this.Dn=a.P}};h.bl=function(a){return-1===a||!this.Aa.Ve?this.Aa.x:0===a&&this.body?(this.body.q.position.x+this.body.Mg().x)/0.02:this.Aa.Ve(a,q)};h.cl=function(a){return-1===a||!this.Aa.Ve?this.Aa.y:
0===a&&this.body?(this.body.q.position.y+this.body.Mg().y)/0.02:this.Aa.Ve(a,s)};l.ya=new (t());a.prototype.ud=function(a,c,d){if(this.enabled){var e=this.bl(d);d=this.cl(d);this.body.ud(b.n(a,c),b.n(0.02*e,0.02*d))}};a.prototype.jk=function(a){this.enabled&&this.body.jk(N(a))};a.prototype.Yi=function(a){this.enabled&&(this.body.Yi(N(a)),this.body.jc(q))};h.Ht=function(a,c,d,e,g){if(this.enabled&&(c=this.g.mj(c))&&c!=this.Aa&&c.oa.oe){c.oa.oe.yf.og.add(this.Aa);var h=this.bl(a);a=this.cl(a);var l;
c.Ve?(l=c.Ve(d,q),d=c.Ve(d,s)):(l=c.x,d=c.y);var A=h-l,D=a-d,C=new f;C.Db(this.body,c.oa.oe,b.n(0.02*h,0.02*a),b.n(0.02*l,0.02*d));C.length=0.02*Math.sqrt(A*A+D*D);C.Ok=e;C.$k=g;this.jd.push(this.Wc.pk(C))}};h.Jt=function(a,c){if(this.enabled){var d=this.g.mj(c);if(d&&d!=this.Aa&&d.oa.oe){d.oa.oe.yf.og.add(this.Aa);var e=this.bl(a),f=this.cl(a),g=new ke;g.Db(this.body,d.oa.oe,b.n(0.02*e,0.02*f));this.jd.push(this.Wc.pk(g))}}};h.It=function(a,c,d,e){if(this.enabled&&(c=this.g.mj(c))&&c!=this.Aa&&c.oa.oe){c.oa.oe.yf.og.add(this.Aa);
var f=this.bl(a);a=this.cl(a);var g=new ke;g.Db(this.body,c.oa.oe,b.n(0.02*f,0.02*a));g.Wh=q;g.Vq=N(d);g.$r=N(e);this.jd.push(this.Wc.pk(g))}};l.Pd=new a;l.hh=new (t())})();
function gb(){return[r,r,[[Db,q,s,s,s,s,s,s,s,s],[Eb,s,q,q,q,q,q,q,q,s],[Fb,s,q,q,q,q,q,q,q,q]],[["t0",Fb,s,[],0,0,["images/sky.png",553877,1],r,[],s,s,8347515784765945,[]],["t1",Eb,s,[],1,0,r,[["Default",5,s,1,0,s,9034906150880414,[["images/taxi-sheet0.png",513,0,0,64,32,1,0.5,0.5,[],[-0.4375,-0.375,0,-0.46875,0.296875,-0.09375,0.453125,0,0.40625,0.3125,-0.40625,0.3125,-0.484375,0],0]]]],[["Physics",pe,5633410933016038]],s,s,0x81726e3b24f0,[]],["t2",Db,s,[],0,0,r,r,[],s,s,5873333677343084,[],[]],
["t3",Eb,s,[],1,0,r,[["Default",5,s,1,0,s,0xbf6314fa3f6b7,[["images/wall-sheet0.png",168,0,0,250,250,1,0.5,0.5,[],[],3]]]],[["Physics",pe,0x9edec34dd3aae]],s,s,0xb862f04f75fb9,[]],["t4",Eb,s,[],0,0,r,[["Default",5,s,1,0,s,5405176732568364,[["images/cityscape-sheet0.png",254020,0,0,1024,256,1,0.5,0.5,[],[-0.493164,-0.472656,0,-0.0664063,0.404297,-0.117188,0.474609,0,0.5,0.5,-0.5,0.5],0]]]],[],s,s,618651356649896,[]]],[],[["Level 1",1024,512,s,"Event sheet 1",8274922481908277,[["Background",0,0xf62441f957d2d,
q,[255,255,255],s,1,1,1,s,1,0,0,[[[0,0,0,1024,512,0,0,1,0,0,0,0,[]],0,0,[],[],[0,0]],[[512,384,0,1024,256,0,0,1,0.5,0.5,0,0,[]],4,8,[],[],[0,"Default",0,1]]],[]],["Foreground",1,9877786409456452,q,[255,255,255],q,1,1,1,s,1,0,0,[[[64,320,0,64,32,0,0,1,0.5,0.5,0,0,[]],1,1,[],[[0,0,1,1,0.5,0.2,0,0.01,0,1]],[0,"Default",0,1]],[[511,555,0,1024,96,0,0,1,0.5,0.5,0,0,[]],3,4,[],[[1,1,0,1,0.5,0.2,0,0.01,0,1]],[0,"Default",0,1]],[[-14,272,0,32,544,0,0,1,0.5,0.5,0,0,[]],3,5,[],[[1,1,0,1,0.5,0.2,0,0.01,0,1]],
[0,"Default",0,1]],[[512,555,0,1024,96,0,0,1,0.5,0.5,0,0,[]],3,6,[],[[1,1,0,1,0.5,0.2,0,0.01,0,1]],[0,"Default",0,1]],[[1040,257,0,32,544,0,0,1,0.5,0.5,0,0,[]],3,3,[],[[1,1,0,1,0.5,0.2,0,0.01,0,1]],[0,"Default",0,1]],[[512,-47,0,1024,96,0,0,1,0.5,0.5,0,0,[]],3,7,[],[[1,1,0,1,0.5,0.2,0,0.01,0,1]],[0,"Default",0,1]]],[]]],[],[]]],[["Event sheet 1",[[0,r,s,5339641427180045,[[2,Db.prototype.ya.rm,r,0,s,s,s,344114546708407,[[9,38]]]],[[1,pe.prototype.Pd.ud,"Physics",5906789412615674,[[0,[0,0]],[0,[0,-10]],
[7,[0,0]]]]]],[0,r,s,0xddef6d2e2ab0a,[[2,Db.prototype.ya.rm,r,0,s,s,s,8798475486681652,[[9,39]]]],[[1,Eb.prototype.Pd.zp,r,0x45751d59f2b95,[[3,1]]],[1,pe.prototype.Pd.ud,"Physics",0xa5621942fc403,[[0,[0,5]],[0,[0,0]],[7,[0,0]]]]]],[0,r,s,72039356285387,[[2,Db.prototype.ya.rm,r,0,s,s,s,5845758622712818,[[9,37]]]],[[1,Eb.prototype.Pd.zp,r,792761911004585,[[3,0]]],[1,pe.prototype.Pd.ud,"Physics",4632172927038388,[[0,[0,-5]],[0,[0,0]],[7,[0,0]]]]]]]]],"media/",s,1024,512,4,s,q,q,"1.0.0.0",1,s,0,s,9,s,
[]]};
